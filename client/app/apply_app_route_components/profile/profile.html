<div layout="row" layout-align="center" layout-wrap>

    <md-card  flex="100" flex-gt-xs="70">
        <md-card-content>

            <div  layout="row" >  
                <div flex>

                    <h1 class="md-display-1">{{$ctrl.profile.contact.first_name}} {{$ctrl.profile.contact.last_name}}                
                        <br>
                        <small class="md-subhead">{{$ctrl.profile.passport.first_name | uppercase}} {{$ctrl.profile.passport.middle_name | uppercase}} {{$ctrl.profile.passport.last_name | uppercase}}
                        </small>
                    </h1>

                    {{$ctrl.profile.contact.nationality}}
                    <br>
                    {{$ctrl.profile.contact.gender}} {{$ctrl.calculateAge($ctrl.profile.contact.dob)}} 
                    <span style=" text-transform: capitalize;"></span>
                    {{$ctrl.profile.contact.marital_status}}
                    <span></span>
                    <br>
                    {{$ctrl.profile.contact.dob | date}}  
                    <br>
                    <div ng-repeat="lang in $ctrl.languages">
                        {{lang.text}}
                        <span style="color:gray">
                            <span ng-if="lang.text !='English'" > ({{lang.en_text}}) </span>
                            {{lang.prof}}% 
                        </span>                 
                    </div>

                    <br>
                </div>
                <div flex >
                    <div class="profilePhoto" style="float:right; text-align:center; max-height:300px;   max-width:300px;" ui-sref="changeUserPhoto({user_id:$ctrl.user_id})">
                        <img ng-if="$ctrl.profile.contact.avatar_200" style="width:100%; height:100%"align="right" firebase-src="{{$ctrl.profile.contact.avatar_1080}}" >
                      
                        <img ng-if="!$ctrl.profile.contact.avatar_200" style="width:100%; height:100%" align="right"  src="img/default_avatar.png" >
                        
                        <div class="editButton" layout="row" layout-align="center center" > 
                            <!--<div flex  >-->
                        <!--<a href="" class="no-print" ng-click="$ctrl.editPhotoDialog()">change photo</a>-->
                        <!--<md-button class="md-icon-button" aria-label="Settings" >-->
                    <md-icon flex md-svg-icon="img/icons/edit.svg"></md-icon>
                <!--</md-button>-->
                            <!--</div>-->
                        
                        </div>
                    </div>
                </div>
            </div>
        </md-card-content>
    </md-card>    
    <!--<div layout="row" layout-wrap>   -->   
   <md-card flex="100" flex-gt-xs="70">
        <md-card-content>
            <h1 class="md-title" translate="116">Applications</h1>
    <user-applications-list user-id="$ctrl.user_id" ng-if="$ctrl.profile"  flex="100" flex-gt-xs="70"></user-applications-list>   
      </md-card-content>
    </md-card>
    <!--</div>   -->
    <md-card flex="100" flex-gt-xs="70">
        <md-card-content>
        
            <div>
                <contact-info user-id="$ctrl.user_id" >{{$ctrl.user_id}}</contact-info>
            </div>

            <a ng-click="$ctrl.editPassportDialog()">edit passport info</a>

        </md-card-content>
    </md-card>

</div>


