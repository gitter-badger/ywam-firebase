webpackJsonp([0],[function(e,exports,t){t(14),e.exports=t(311)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=t(312),o=n(a),i=t(314),r=n(i),s=t(315),l=n(s),d=t(412),c=n(d),u=t(745),f=n(u);t(749),t(751);var p=t(757),m=n(p);t(759),t(804),t(843),t(844);var v=t(845),h=n(v),g=t(846),b=n(g),_=t(847),y=n(_);t(853),t(855),t(857),t(859),window.firebase=y.default;var x={apiKey:"AIzaSyBSBD_FNaMQZyd3h0mcv0ZMUt9QXY2m3f4",authDomain:"staffapp-95f17.firebaseapp.com",databaseURL:"https://staffapp-95f17.firebaseio.com",storageBucket:"staffapp-95f17.appspot.com"};y.default.initializeApp(x),o.default.module("app",[r.default,"ngMaterial",m.default,"pascalprecht.translate","firebase","chart.js",l.default,c.default]).config(["$locationProvider","$translateProvider","$mdThemingProvider",function(e,t,n){"ngInject";t.translations("en",h.default).useStaticFilesLoader({prefix:"https://staffapp-95f17.firebaseio.com/phrases/",suffix:".json"}).registerAvailableLanguageKeys(["en","de","es"],{"en_*":"en","de_*":"de","es_*":"es","*":"en"}).determinePreferredLanguage().fallbackLanguage("en"),n.theme("default").primaryPalette("blue-grey").accentPalette("amber",{default:"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).backgroundPalette("grey")}]).run(["Site","$firebaseObject",function(e,t){"ngInject";e.location_id=b.default[location.hostname];var n=y.default.database().ref("locations_public/"+e.location_id);e.location=t(n),e.location_id||console.warn("No location matching domain "+location.hostname)}]).run(["$transitions","Auth","$rootScope","$state",function(e,t,n,a){e.onStart({to:function(e){n.$broadcast("hideLoginDialog"),null!=e.data&&(e.data.authRequired!==!0||t.$getAuth()||(n.$broadcast("showLoginDialog"),console.log("Not LOGGED in")))},from:function(e){a.previous={name:a.current.name,params:a.params}}})}]).component("app",f.default)},,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(316),r=n(i),s=t(318),l=n(s),d=t(320),c=n(d),u=t(322),f=n(u),p=t(324),m=n(p),v=t(333),h=n(v),g=t(339),b=n(g),_=t(345),y=n(_),x=t(351),w=n(x),k=t(357),M=n(k),j=t(363),P=n(j),S=t(369),O=n(S),A=t(375),I=n(A),E=t(381),C=n(E),T=t(387),L=n(T),D=t(394),z=n(D),N=t(400),R=n(N),q=t(406),U=n(q),B=o.default.module("app.common",[l.default,r.default,c.default,f.default,m.default,h.default,b.default,y.default,w.default,M.default,O.default,I.default,P.default,C.default,L.default,z.default,R.default,U.default]).name;exports.default=B},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(317),r=n(i),s=o.default.module("auth",[]).factory("Auth",r.default).name;exports.default=s},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){return e()};t.$inject=["$firebaseAuth"],exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(319),r=n(i),s=o.default.module("user",[]).factory("User",r.default).name;exports.default=s},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){var t={},n=function(){return t},a=function(){return t.isSignedIn},o=function(){angular.element(document.body)};return{getUser:n,isSignedIn:a,loginDialog:o}};t.$inject=["$mdDialog"],exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(321),r=n(i),s=o.default.module("school",[]).factory("School",r.default).name;exports.default=s},function(e,exports,t){(function(e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e,t,n,a,o){var i={apps:[],staff:{},stats:{started_week:[]}},r=function(e,n){function a(e){var t=i.apps[e].id;firebase.database().ref("/applications").child(t).child("for").once("value",function(n){n.val()?(i.apps[e].for=n.val(),s(n.val().user_id,e)):console.error("no Application actually found for this index"+t)})}function r(e){var n=i.apps[e].id,a=firebase.database().ref("/applications").child(n).child("meta");i.apps[e].meta=t(a)}function s(e,t){o.getAvatar(e);var n=firebase.database().ref("/profiles/"+e+"/com");n.once("value",function(n){i.apps[t].user=n.val(),l(e,t)})}function l(e,t){var n=firebase.database().ref("/profiles/"+e+"/passport/nation_id");n.once("value",function(e){i.apps[t].user.nation_id=e.val()})}console.log("calling getApps for "+e),i.apps=[];var d=firebase.database().ref("/schools/"+e+"/app_index");d.on("value",function(e){e.forEach(function(e){if(!n||e.val()>=13){var t={id:e.key},o=i.apps.push(t);console.log(o),o--,a(o),r(o)}})});firebase.database().ref("/applications");return i.apps},s=function(t){function n(t){var n=t.key;console.log("adding or removing "+n),s.child(n).child("com").on("value",function(t){null!=t.val()?(o.getAvatar(n),i.staff[n]=t.val(),e(function(){})):(delete i.staff[n],console.log("deleted"),e(function(){}))})}function a(t){var n=t.key;console.log("adding or removing "+n),delete i.staff[n],console.log("deleted"),e(function(){})}i.staff={};var r=firebase.database().ref("/schools/"+t+"/staff"),s=firebase.database().ref("/profiles");return r.on("child_added",n),r.on("child_removed",a),i.staff},l=function(t){i.admins={};var n=firebase.database().ref("/schools/"+t+"/admin"),a=firebase.database().ref("/profiles");return n.on("child_added",function(t){var n=t.key;console.log(n),a.child(n).child("com").on("value",function(t){null!=t.val()?(i.admins[n]=t.val(),e(function(){})):delete i.admins[n]})}),i.admins},d=function(e){var n=firebase.database().ref("/schools/"+e+"/public");return i.public=t(n),i.public};return{getApps:r,getSchool:d,getStaff:s,getAdmins:l}};t.$inject=["$timeout","$firebaseObject","$firebaseArray","moment","Site"],exports.default=t}).call(exports,t(307))},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(323),r=n(i),s=o.default.module("site",[]).factory("Site",r.default).name;exports.default=s},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e,t,n,a,o){function i(e,t){var n=angular.element(document.body);a.show({parent:n,targetEvent:e,clickOutsideToClose:!0,fullscreen:o("xs"),template:t,controller:["$scope","$mdDialog",function(e,t){e.closeDialog=function(){t.hide()}}]})}function r(e){e&&firebase.database().ref("/profiles/"+e+"/com").once("value",function(n){var a=n.val();a&&(a.avatar_200.includes("http")?s.avatars[e]=a.avatar_200:firebase.storage().refFromURL(a.avatar_200).getDownloadURL().then(function(n){s.avatars[e]=n,t(function(){})}).catch(function(e){console.log("not valid file"+e)}))})}var s={location_id:null,location:{},user:{},showDialog:i,getAvatar:r,avatars:{}};e.$onAuthStateChanged(function(e){if(e){var t=firebase.database().ref("profiles/"+e.uid+"/com");s.user.com=n(t),s.user.id=e.uid,console.log("we have changed user "+e.uid),r(s.user.id)}});var l=firebase.database().ref(".info/connected");return s.presence=n(l),s};t.$inject=["Auth","$timeout","$firebaseObject","$mdDialog","$mdMedia"],exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(325),l=n(s),d=o.default.module("header",[r.default]).component("header",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(326),o=n(a),i=t(327),r=n(i);t(329);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports=' <md-toolbar  md-whiteframe="1" >\n <div class="md-toolbar-tools">\n        <md-buttion ng-click="$ctrl.openLeftMenu()"\n                    class="md-icon-button md-primary"\n                    hide-gt-sm >  \n                      <i class="fa fa-bars"></i>\n        </md-buttion>\n\n     \n        <!--<h1 translate>HEADLINE</h1>-->\n        <span flex></span>\n    \n        <!--<md-select ng-model="$ctrl.langKey" \n                   md-on-close="$ctrl.changeLanguage()"\n                   aria-label="Change Language" >\n          <md-option value="de">Deutsch</md-option>\n          <md-option value="en"> English</md-option>\n          <md-option value="es" > Espa√±ol</md-option>\n        </md-select>-->\n\n\n  <!--If not logged in show login button-->\n    <md-menu ng-hide="$ctrl.firebaseUser" > \n    <md-button  class="md-raised"  ng-click="$mdOpenMenu($event)">Sign In</md-button>\n  <md-menu-content  md-offset="20 0" width="4" md-position-mode="target-right target" style="padding:20px">\n<login-buttons></login-buttons>\n   </md-menu-content>  \n\n\n    </md-menu>\n\n<!--if logged in show avatar and menu with logout button-->\n    <md-menu ng-show="$ctrl.firebaseUser"  md-offset="40 0"  >\n     <div  ng-click="$mdOpenMenu($event)" style="height:48px">\n      \n      <img  alt=" "\n           style="border-radius: 50%; height:100%"\n           ng-src="{{$ctrl.avatars[ $ctrl.user.id] }}">\n      </div>     \n      <md-menu-content  width="3" >\n          <md-menu-item><md-button ui-sref="profile({user_id:$ctrl.user.id })"> Your Profile </md-button> </md-menu-item>\n         <md-menu-item><md-button ng-click="$ctrl.logout()">Sign Out</md-button></md-menu-item>\n      </md-menu-content>  \n\n    </md-menu>\n\n  </div>\n </md-toolbar>\n <div ng-hide="$ctrl.presence.$value">\n     <md-progress-linear md-mode="indeterminate"></md-progress-linear>\n </div>\n{{$ctrl.avatar}}'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$translate","$mdSidenav","Auth","$state","Site",function e(t,n,a,i,r){(0,o.default)(this,e);var s=this;s.logout=function(){a.$signOut(),i.transitionTo("home")},s.user=r.user,s.presence=r.presence,s.avatars=r.avatars,a.$onAuthStateChanged(function(e){s.firebaseUser=e}),s.langKey=t.proposedLanguage()||"en",s.changeLanguage=function(){t.use(s.langKey)},s.openLeftMenu=function(){n("left").toggle()}}];exports.default=i},,function(e,exports,t){var n=t(330);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,"body,html{top:0;bottom:0;left:0;right:0;margin:0;padding:0;height:100%;line-height:1.42857143;font-size:14px}.print-only{display:none}a{color:#337ab7;text-decoration:none;cursor:pointer}@page{margin:1pt}@media print{body{background:#fff;font-size:8pt;width:100%}.md-display-1{font-size:18pt!important;line-height:20pt!important}md-card{box-shadow:none!important;border:1px solid gray!important}.no-print,.no-print *{display:none!important}.print-only{display:block}.new-page{page-break-after:always;position:relative}}.header{color:red}",""])},,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(334),l=n(s),d=o.default.module("sidenav",[r.default]).component("sidenav",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(335),o=n(a),i=t(336),r=n(i);t(337);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n  <md-sidenav class="sidenav"\n              md-component-id="left"\n              md-is-locked-open="$mdMedia(\'gt-sm\')"\n            \n              >\n\n  <md-content class="sidenav-content">\n          \n      <div class="sidenav-header"  ng-click="$ctrl.$state.go(\'home\')"  ng-dblclick="$ctrl.$state.go(\'settings\')" >\n      <img  aria-label="Logo" ng-src="logos/{{$ctrl.site.location_id}}/logo200px.png" width="100%" align="center" >\n      </div>\n  \n      <md-divider ></md-divider>               \n\n      <!--Search box-->\n      <md-input-container md-no-float class=" md-dark-theme md-block no-md-error " style=" margin:0px; ">\n      <md-icon class="fa fa-search" style="margin-left:15px; margin-top:5px "></md-icon>\n      <input ng-model="$ctrl.site.searchString"  ng-change="$ctrl.goSearch($ctrl.search_string)" type="text" placeholder="search"   >\n      </md-input-container>\n \n\n      <!-- NAVIGATION ITEMS -->\n      <div ng-repeat="item in $ctrl.nav" > \n            \n            <a class="side-menu-button"  \n              ng-click="$ctrl.sideBarNav(item)" \n              ng-class="{\'active\': item.active}"\n              layout="row" >\n            <span style="width:25px;">   \n            <i class="material-icons">{{item.md_icon}}</i> \n            <i class="{{item.fa_icon}}"></i> \n            </span>\n            <span flex >{{item.title}}</span>\n            <span ng-if="item.sub_nav"\n                  class="fa fa-chevron-down toggle-icon-thing" \n                  ng-class="{\'toggled\': item.active}"\n                  ></span>\n            </a>\n\n                  <!-- SUBITEMS -->\n                    <div ng-repeat="sub_item in item.sub_nav" class="sub_nav"  ng-if=" item.active" > \n                    <a class="ml-side-menu-button" layout ng-click="$ctrl.sideBarNav(sub_item)" ng-class="{\'active\': sub_item.active}">\n                    <span style="width:25px;">   \n                    <i class="material-icons">{{sub_item.md_icon}}</i> \n                    <i class="fa {{sub_item.fa_icon}}"></i> \n                    </span>\n                    <span >{{sub_item.title}}</span></a>\n                    <md-divider ng-if="!$last"></md-divider>\n                    </div>\n\n      <md-divider></md-divider>\n      </div>\n<br><br>\n      <a style="padding:10px" href="https://github.com/timtimmytime/ywam-staff-webapp-firebase/issues"> Report bug </a>\n\n </md-content>\n\n</md-sidenav>\n                        \n                     '},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$state","$mdMedia","$mdSidenav","Site","$rootScope","$filter",function e(t,n,a,i,r,s){function l(){t.go("search")}function d(e){console.log("here we go!",e);var o=c.nav.indexOf(e);o>0?angular.forEach(c.nav,function(e,t){t!=o||e.active?e.active=!1:e.active=!0}):(angular.forEach(c.nav,function(e,t){e.active&&angular.forEach(e.sub_nav,function(e,t){e.active=!1})}),e.active=!0),n("gt-md")||e.sub_nav||a("left").close(),t.go(e.state)}(0,o.default)(this,e);var c=this;c.sideBarNav=d,c.site=i,c.$state=t,c.goSearch=l,c.nav=[{title:"Schools",state:"schools",fa_icon:"fa fa-star"},{title:"Staff",state:"staff.current",fa_icon:"fa fa-tree"},{title:"Base Info",state:"base.info",fa_icon:"fa fa-home"},{title:"Projects",state:"projects",fa_icon:"fa fa-star-o"},{title:"Prayer Wall",state:"prayer",fa_icon:"fa fa-bolt"},{title:"Translation",state:"translation",fa_icon:"fa fa-language"}],r.$on("$viewContentLoaded",function(){c.current=t.current.name;var e=s("filter")(c.nav,{state:c.current},!0),n=c.nav.indexOf(e[0]);c.nav[n]&&(c.nav[n].active=!0)})}];exports.default=i},function(e,exports,t){var n=t(338);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".sidenav{color:red;height:100%;width:220px;min-width:220px;max-width:220px;font-size:1em}.sidenav-header{background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(1,#eceff1));text-align:center}.sidenav-content{background-color:#eceff1;height:100%}.side-menu-button{border-radius:0;color:inherit;cursor:pointer;vertical-align:middle;margin:0;max-height:40px;overflow:hidden;padding:7px 10px;text-decoration:none;white-space:normal;width:100%;font-weight:300;text-transform:uppercase}.side-menu-button:hover{background-color:hsla(0,0%,39%,.2);text-decoration:none;color:inherit}.no-md-error .md-errors-spacer{display:none}.no-md-error md-autocomplete-wrap md-input-container{padding-bottom:0!important}.active{background-color:hsla(0,0%,39%,.2);text-decoration:none;color:inherit}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(340),l=n(s),d=o.default.module("loginButtons",[r.default]).component("loginButtons",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(341),o=n(a),i=t(342),r=n(i);t(343);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<div layout="column">\n        <md-button class="btn-google" ng-click="$ctrl.login(\'google\')" > Sign in with Google</md-button> \n        <md-button class="btn-facebook" ng-click="$ctrl.login(\'facebook\')" > Sign in with Facebook</md-button> \n       \n       <div style="text-align:center;" class="md-caption"> or</div>\n       <form ng-submit="$ctrl.emailPassLogin()" layout="column">\n       <md-input-container class="no-md-error login-inputs" md-no-float >\n        <input placeholder="email" ng-model="$ctrl.email">\n       </md-input-container>\n       <md-input-container  class="no-md-error login-inputs" md-no-float >\n        <input placeholder="password" type="password" ng-model="$ctrl.password">\n       </md-input-container>\n       <div style="border: solid 1px red ">\n       If you previously had a mission-live.com account <br>please reset your password <a ui-sref="forgotPassword"> here</a>\n       </div>\n    <!--<div layout="row">\n               <span flex></span>-->\n                <!--<md-button>Sign up</md-button>-->\n                <md-button type="submit" class="md-primary md-raised">login</md-button>\n       <!--</div>-->\n       </form>\n        <div style="text-align:center; margin-top:5px; cursor:pointer" class="md-caption" ui-sref="forgotPassword">\n         Forgot Password\n        </div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth","$mdMedia","$firebaseAuth","Site","$timeout",function e(t,n,a,i,r){function s(e){n("gt-sm")?t.$signInWithPopup(e).catch(function(e){if("auth/account-exists-with-different-credential"==e.code){var t=a.FacebookAuthProvider.credential(e.credential.accessToken);a.currentUser.link(t).then(function(e){console.log("Account linking success",e)},function(e){console.log("Account linking error",e)})}console.log(e);var t=(e.code,e.message,e.email,e.credential)}):t.$signInWithRedirect(e)}function l(){t.$signInWithEmailAndPassword(d.email,d.password).then(function(e){d.email="",d.password=""}).catch(function(e){console.log(e);e.code,e.message})}(0,o.default)(this,e);var d=this;d.login=s,d.emailPassLogin=l}];exports.default=i},function(e,exports,t){var n=t(344);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".btn-google{color:#fff!important;background-color:#dd381d!important}.btn-facebook{color:#fff!important;background-color:#3b579d!important}.no-md-error .md-errors-spacer{display:none}.login-inputs{margin:0 8px}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(346),l=n(s),d=o.default.module("loginDialog",[r.default]).component("loginDialog",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(347),o=n(a),i=t(348),r=n(i);t(349);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<div ng-if="$ctrl.visible"  style="position:fixed; height:100vh; top:0; width:100%; z-index:10000; background-color:rgba(54, 65, 80,0.5); "> \n\n  \n\n<div class="login-dialog" >\n\n\n<md-card style="margin:0">\n<md-card-content>\n    <h1 class="md-display-1" >Staff Login</h1>\n\n\n        <login-buttons></login-buttons>\n        \n\n</md-card-content>\n</md-card>\n</div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth","$scope","$state",function e(t,n,a){(0,o.default)(this,e);var i=this;n.$on("showLoginDialog",function(e,t){i.visible=!0}),n.$on("hideLoginDialog",function(e,t){i.visible=!1}),t.$onAuthStateChanged(function(e){e&&(i.visible=!1,a.reload())})}];exports.default=i},function(e,exports,t){var n=t(350);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,"@media screen and (min-width:500px){.login-dialog{width:400px;margin:10% auto 10px;overflow:hidden}}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(352),l=n(s),d=o.default.module("appStatus",[r.default]).component("appStatus",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(353),o=n(a),i=t(354),r=n(i);t(355);var s={restrict:"E",bindings:{appId:"=",date:"=",who:"="},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<md-menu class="app-status-menu">\n<div class="app-status-{{$ctrl.appMeta.status}} app-status-box"  ng-click="$mdOpenMenu()"> \n    \n<span ng-if="$ctrl.appMeta.status < 8 ">Started </span>\n<span ng-if="$ctrl.appMeta.status == 8">Cancelled </span>\n<span ng-if="$ctrl.appMeta.status == 10">Submitted </span>\n<span ng-if="$ctrl.appMeta.status == 11">In Review </span>\n<span ng-if="$ctrl.appMeta.status == 12">Denied</span>\n<span ng-if="$ctrl.appMeta.status == 13">Accepted </span>\n<span ng-if="$ctrl.appMeta.status == 30">Arrived </span>\n<span ng-if="$ctrl.appMeta.status == 70">Alumni</span>\n\n<span ng-if="$ctrl.date"> (<span am-time-ago="$ctrl.appMeta.statuses[$ctrl.appMeta.status].date"></span> ) </span>\n {{$ctrl.status_by}} \n\n\n</div>\n\n\n <md-menu-content> \n      <md-menu-item>\n            <md-button ng-click="$ctrl.changeStatus(11)" > \n                 <div class="app-status-11 app-status-menu-icon"></div> Set As "In Review"\n            </md-button> \n        </md-menu-item> \n        \n        <md-menu-item >  \n            <md-button ng-click="$ctrl.changeStatus(13)" >\n                 <div class="app-status-13 app-status-menu-icon"></div>Accept Application\n            </md-button> \n        </md-menu-item>\n           <md-menu-item >  \n            <md-button ng-click="$ctrl.changeStatus(30)" >\n                 <div class="app-status-30 app-status-menu-icon"></div>Mark as Arived\n            </md-button> \n        </md-menu-item>\n        \n        <md-menu-item >\n            <md-button ng-click="$ctrl.changeStatus(8)" >\n                 <div class="app-status-8 app-status-menu-icon"></div>Cancel Application\n            </md-button> \n        </md-menu-item>\n        \n        <md-menu-item >\n            <md-button ng-click="$ctrl.changeStatus(1)" >\n                 <div class="app-status-1 app-status-menu-icon"></div>Restart Application\n            </md-button> \n        </md-menu-item>  \n            \n        <md-menu-item > \n            <md-button ng-click="$ctrl.changeStatus(12)" >\n                 <div class="app-status-12 app-status-menu-icon"></div> Deny Application\n            </md-button> \n        </md-menu-item>\n        <md-menu-item > \n            <md-button ng-click="$ctrl.changeStatus(70)" >\n                 <div class="app-status-1 app-status-menu-icon"></div> Set as Alumni\n            </md-button> \n        </md-menu-item>\n \n </md-menu-content>\n</md-menu>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth",function e(t){function n(e){var n=t.$getAuth().uid;console.log(a.appId),firebase.database().ref("applications/"+a.appId+"/meta/status").set(e),firebase.database().ref("applications/"+a.appId+"/meta/statuses/"+e+"/date").set((new Date).getTime()),firebase.database().ref("applications/"+a.appId+"/meta/statuses/"+e+"/user_id").set(n)}(0,o.default)(this,e);var a=this;a.changeStatus=n,a.$onInit=function(){var e=firebase.database().ref("/applications/"+a.appId+"/meta");e.on("value",function(e){if(a.appMeta=e.val(),a.who){var t=a.appMeta.statuses[a.appMeta.status].user_id;if(t){var n=firebase.database().ref("/profiles/"+t+"/com");n.once("value",function(e){a.status_by=e.val().first_name+" "+e.val().last_name.charAt(0)+"."})}}})}}];exports.default=i},function(e,exports,t){var n=t(356);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".app-status-1{background-color:gray;color:#fff}.app-status-8{background-color:#00f;color:#fff}.app-status-10{background-color:#fc0;color:#fff}.app-status-11{background-color:#f60;color:#fff}.app-status-12{color:#fff;background-color:#d9534f;border-color:#d43f3a}.app-status-13,.app-status-30{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.app-status-70{background-color:gray;color:#fff}.app-status-box{display:inline-block;padding:2px 5px;border-radius:3px}.app-status-menu-icon{width:20px;height:20px;display:inline-block;vertical-align:middle;margin-right:10px}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(358),l=n(s),d=o.default.module("appAdminNotes",[r.default]).component("appAdminNotes",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(359),o=n(a),i=t(360),r=n(i);t(361);var s={restrict:"E",bindings:{appId:"="},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n<div ng-repeat="note in $ctrl.notes " > \n<div  style="color:grey; float:right; " >- {{note.user.first_name}} {{note.user.last_name|limitTo:1}}. [<span am-time-ago="note.time" ></span>]  \n<i class="fa fa-times no-print" ng-click="$ctrl.deleteAdminNote(note.$id)"></i>  </div>  \n{{note.text}} \n\n<md-divider> </md-divider>\n</div>\n<form ng-submit="$ctrl.addAdminNote()" layout="row" class="no-print">\n<md-input-container md-no-float flex class="no-md-error" style="margin:0px">\n<input  ng-model="$ctrl.new_admin_note" placeholder="New admin note..." autocomplete="off">\n</md-input-container>\n<md-button  class="md-primary " style=" padding:0px" type="submit">add</md-button>\n</form>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth","$firebaseObject",function e(t,n){function a(){var e=t.$getAuth().uid,n={text:r.new_admin_note,time:firebase.database.ServerValue.TIMESTAMP,user_id:e};appNotesRef.push(n);r.new_admin_note=""}function i(e){console.log(e),appNotesRef.child(e).remove()}(0,o.default)(this,e);var r=this;r.addAdminNote=a,r.deleteAdminNote=i,r.$onInit=function(){var e=firebase.database().ref("applications").child(r.appId).child("admin_notes");e.on("value",function(e){r.notes=[],e.forEach(function(e){var t=e.val();t.$id=e.key,t.user_id?firebase.database().ref("profiles").child(t.user_id).child("com").on("value",function(e){t.user=e.val(),r.notes.push(t)}):r.notes.push(t)})})}}];exports.default=i},function(e,exports,t){var n=t(362);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".appAdminNotes{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(364),l=n(s),d=o.default.module("referenceDisplay",[r.default]).component("referenceDisplay",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(365),o=n(a),i=t(366),r=n(i);t(367);var s={restrict:"E",bindings:{data:"="},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<md-card>\n\n  <md-toolbar class="md-menu-toolbar">\n    <div layout="row">\n      <md-toolbar-filler layout layout-align="center center">\n        <md-icon class="fa fa-comment"></md-icon>\n      </md-toolbar-filler>\n      <div>\n        <h2 class="md-toolbar-tools">Reference {{r.$id}}</h2>\n        <md-menu-bar>\n          \n          <md-menu>\n            <button ng-click="$mdOpenMenu()">\n              Edit\n            </button>\n            <md-menu-content>\n              <md-menu-item class="md-indent">\n                <md-button ng-click="ctrl.sampleAction(\'Find and replace\', $event)">\n                  Find and replace...\n                  <!-- <span class="md-alt-text">{{ \'M-S-H\' | keyboardShortcut }}</span> -->\n                </md-button>\n              </md-menu-item>\n            </md-menu-content>\n          </md-menu>\n         \n        </md-menu-bar>\n      </div>\n    </div>\n  </md-toolbar>\n\n<md-card-content>\n\n<p>\n  <span class="question">How well does reference know Applicant?:</span><br>\n  {{$ctrl.data.form.how_well}}</p>\n\n<p><span class="question">Does Reference think applicant is Christian?:</span><br>\n{{$ctrl.data.form.christian}}</p>\n\n<p><span class="question">Family Relations:</span><br>\n{{$ctrl.data.form.family}}</p>\n\n<p><span class="question">Response to conflict?:</span><br>\n{{$ctrl.data.form.conflict}}</p>\n\n<p><span class="question">Involvement with Church:</span><br>\n{{$ctrl.data.form.church_life}}</p>\n\n<p><span class="question">Weaknesses:</span><br>\n{{$ctrl.data.form.weakness}}</p>\n\n<p><span class="question">Strengths:</span><br>\n{{$ctrl.data.form.strengths}}</p>\n\n<p ng-if="$ctrl.data.form.other"><span class="question">Other Notes:</span><br>\n{{$ctrl.data.form.other}}</p>\n\n</md-card-content> \n</md-card>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=function e(){(0,o.default)(this,e)};exports.default=i},function(e,exports,t){var n=t(368);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".question{font-weight:700;border-bottom:1px dashed #428bca}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{
default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(370),l=n(s),d=o.default.module("contactInfo",[r.default]).component("contactInfo",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(371),o=n(a),i=t(372),r=n(i);t(373);var s={restrict:"E",bindings:{userId:"="},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-xs="column" >\n<div flex style="border-left: 2px solid rgb(96,125,139); padding-left:4px">\n<b>Contact:</b> <br>\n<a href="mailto:{{$ctrl.user.com.email}}">{{$ctrl.user.com.email}}</a> <br>\n<div ng-if="$ctrl.user.com.skype"> <u>Skype:</u> {{$ctrl.user.com.skype}}</div>\n<div ng-if="$ctrl.user.com.home_phone"><u> Home Phone:</u> {{$ctrl.user.com.home_phone}}</div>\n<div ng-if="$ctrl.user.com.mobile_phone"> <u>Mobile Phone:</u>   {{$ctrl.user.com.mobile_phone}}</div>\n\n<u>Mailing Address:</u><br>\n {{$ctrl.user.postal.address}}<br> {{$ctrl.user.postal.city}}, {{$ctrl.user.postal.state}}, {{$ctrl.user.postal.zip}}, \n {{$ctrl.user.postal.nation_id}}\n\n</div>\n<div flex style="border-left: 2px solid red; padding-left:4px">\n<b>Emergency Contact:</b><br>\n{{$ctrl.user.emergency_contact.name}} ({{$ctrl.user.emergency_contact.relation}})<br>\n<a href="mailto:{{$ctrl.user.emergency_contact.email}}">{{$ctrl.user.emergency_contact.email}}</a><br>\n\n<div ng-if="$ctrl.user.emergency_contact.skype"> <u>Skype:</u> {{$ctrl.user.emergency_contact.skype}}</div>\n<u>Phone:</u> {{$ctrl.user.emergency_contact.phone}}<br>\n<div ng-if="$ctrl.user.emergency_contact.phone2"> <u>Phone 2:</u> {{$ctrl.user.emergency_contact.phone2}}</div>\n<div ng-if="$ctrl.user.emergency_contact.address">\n<u>Address:</u> <br>\n{{$ctrl.user.emergency_contact.address}}<br>\n{{$ctrl.user.emergency_contact.city}},\n{{$ctrl.user.emergency_contact.state}},\n {{$ctrl.user.emergency_contact.zip}},\n</div>\n{{$ctrl.user.emergency_contact.nation_id}}\n \n</div>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=function e(){(0,o.default)(this,e);var t=this;t.$onInit=function(){var e=firebase.database().ref("profiles").child(t.userId);e.on("value",function(e){t.user=e.val()})}};exports.default=i},function(e,exports,t){var n=t(374);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".contactInfo{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(376),l=n(s),d=o.default.module("healthInfo",[r.default]).component("healthInfo",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(377),o=n(a),i=t(378),r=n(i);t(379);var s={restrict:"E",bindings:{userId:"="},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<h1 class="md-title">Health Information</h1>\n<u>Health Conditions?:</u> {{$ctrl.health.conditions}}<br>\n<u>Physical Disability?:</u> {{$ctrl.health.physical_disability}}<br>\n<u>On Medication?:</u> {{$ctrl.health.on_medication}} ( {{$ctrl.health.medications}} )<br>\n<u>Allergies?:</u> \n\n\n<span ng-repeat="(key ,item) in $ctrl.health.allergies "> {{key}}, </span>{{$ctrl.health.other_allergies}}\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=function e(){(0,o.default)(this,e);var t=this;t.$onInit=function(){console.log("loading health info for"+t.userId);var e=firebase.database().ref("profiles").child(t.userId).child("health");e.on("value",function(e){t.health=e.val()})}};exports.default=i},function(e,exports,t){var n=t(380);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".healthInfo{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(382),l=n(s),d=o.default.module("siteTaskList",[r.default]).component("siteTaskList",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(383),o=n(a),i=t(384),r=n(i);t(385);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<h1>\nCurrent Tasks:\n{{$ctrl.tasks.length}}\n\n</h1>\nMemory Usage: {{$ctrl.stats.memory}}MB\n\n<div layout="row">\n<div flex> reference</div>\n<div flex> function</div>\n<div flex="10">Status</div>\n<div flex="15">Time</div>\n</div>\n\n<div  ng-repeat="item in $ctrl.tasks | orderBy: \'status\'">\n<div layout="row">  \n  <div flex>{{item.reference}}</div>\n   <div flex>{{item.function}}</div>\n    <div flex="10">\n      {{item.status ==0 ? \'pending\':\'\' }}\n      {{item.status ==1 ? \'working\':\'\' }}\n      {{item.status ==2 ? \'completed\':\'\' }}</div>\n     <div flex="15">\n       <span ng-if="!item.completed_time">\n      created {{item.created_time}}\n       </span>\n      <span ng-if="item.completed_time">\n     \n      {{item.completed_time | amDifference : item.created_time : \'seconds\': true }} seconds\n\n      </span>\n\n       </div>\n</div>\n<span style="color:red">\n{{item.error}}\n</span>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray","$timeout",function e(t,n){(0,o.default)(this,e);var a=this,i=firebase.database().ref("system/tasks"),r=firebase.database().ref("system").child("stats");r.on("value",function(e){a.stats=e.val()}),a.tasks=t(i)}];exports.default=i},function(e,exports,t){var n=t(386);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".siteTaskList{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i);t(388);var s=t(389),l=n(s),d=o.default.module("userPhotoUpload",[r.default,"ngImgCrop"]).config(["$stateProvider",function(e){"ngInject";e.state("userPhotoUpload",{url:"/userPhotoUpload/:user_id",component:"userPhotoUpload"})}]).component("userPhotoUpload",l.default).name;exports.default=d},,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(390),o=n(a),i=t(391),r=n(i);t(392);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<div layout="row" layout-align="center">\n\n<md-card flex-gt-sm="60">\n   <md-progress-linear md-mode="determinate" value="{{$ctrl.upload_progress}}"></md-progress-linear>\n\n<md-card-content>  \n<div ng-hide="$ctrl.myImage">\nPlease upload a portrait Photo where your face is clearly visible! \n<br />\n<br />  \n\n <div>Select an image file: <input type="file" id="fileInput" /></div>\n\n</div>\n\n<md-button ng-show="$ctrl.myImage" ng-click="$ctrl.savePhoto()" class="pull-right btn btn-primary">Save</md-button>\n\n <div class="cropArea"  ng-show="$ctrl.myImage"   >\n  \n\n\n<img-crop \n        image="$ctrl.myImage" \n        result-blob="$ctrl.myCroppedImage"\n        result-image=""\n        area-min-size="200"\n        result-image-quality="1"\n        result-image-size="1080"\n        result-image-format="image/jpeg"\n        area-type="square">\n        \n        \n        </img-crop>\n   </div>  \n\n  </md-card-content>\n \n</md-card>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$scope","Auth","$firebaseObject","$stateParams","$state","$timeout",function e(t,n,a,i,r,s){function l(){c.upload_progress=1;var e=c.myCroppedImage,t=u.child("avatar_1080.jpg").put(e);t.on("state_changed",function(e){switch(s(function(){c.upload_progress=e.bytesTransferred/e.totalBytes*100}),console.log("Upload is "+c.upload_progress+"% done"),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){},function(){var e=t.snapshot.downloadURL;console.log("finished upload: "+e);var n={1080:!1};firebase.database().ref("/profiles/"+c.user_id).child("avatars").push(n).then(function(e){console.log(e.key),f.child("current_avatar_id").set(e.key),"userPhotoUpload"!=r.previous.name?(console.log("going back somewhere"),r.go(r.previous.name,r.previous.params)):(console.log("going to profile"+i.user_id),r.go("profile",{user_id:i.user_id}))})})}function d(e){var n=e.currentTarget.files[0],a=new FileReader;a.onload=function(e){t.$apply(function(t){c.myImage=e.target.result})},a.readAsDataURL(n)}(0,o.default)(this,e);var c=this;c.user_id=i.user_id,c.avatar=null;var u=firebase.storage().ref("/profiles/"+c.user_id),f=firebase.database().ref("/profiles/"+c.user_id).child("com");f.on("value",function(e){c.avatar=e.val().avatar_1080,console.log(e.val().current_avatar_id),firebase.storage().refFromURL(e.val().avatar_200).getDownloadURL().then(function(e){console.log("got download url "+e),s(function(){c.avatar_200=e})})}),c.myImage=null,c.myCroppedImage="",c.savePhoto=l,angular.element(document.querySelector("#fileInput")).on("change",d)}];exports.default=i},function(e,exports,t){var n=t(393);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,'.cropArea{background:#e4e4e4;overflow:hidden;width:90%;max-width:400px;min-height:200px;margin:auto;position:relative}.cropArea:before{content:"";display:block;padding-top:100%}img-crop{position:absolute;top:0;left:0;bottom:0;right:0}img-crop canvas{display:block;position:absolute;top:50%;left:50%;outline:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}',""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(395),l=n(s),d=o.default.module("roleCallsList",[r.default]).component("roleCallsList",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(396),o=n(a),i=t(397),r=n(i);t(398);var s={restrict:"E",bindings:{schoolId:"=",groupId:"="},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports="Role Call list:\n<a ng-click=\"$ctrl.newRoleCall()\">New Session </a>\n\n\n\n<div ng-repeat=\"item in $ctrl.role_calls\"  ui-sref=\"{{$ctrl.schoolId?'school':''}}.roleCall({roleCallId :'{{item.$id}}' } )\" > {{item.name}} {{item.$id}}</div>"},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray",function e(t){function n(){if(a.schoolId){var e={school_id:a.schoolId,name:"role call for school",time:firebase.database.ServerValue.TIMESTAMP},t=firebase.database().ref("role_calls").push(e).key;console.log(t);var n=firebase.database().ref("schools").child(a.schoolId).child("app_index");n.on("child_added",function(e){console.log("maybe"+e.val()),"30"==e.val()&&(console.log("added"+e.key),firebase.database().ref("applications").child(e.key).child("for/user_id").once("value",function(e){var n=e.val();console.log(n),n&&firebase.database().ref("profiles").child(n).child("com").once("value",function(e){var a=e.val(),o={name:a.first_name+" "+a.last_name};firebase.database().ref("role_calls").child(t).child("members").child(n).set(o)})}))})}a.groupId&&console.log("Role call list for a group, everybody")}(0,o.default)(this,e);var a=this;a.newRoleCall=n,a.$onInit=function(){if(a.schoolId){console.log("Role call list for a school, everybody"+a.schoolId);var e=firebase.database().ref("role_calls").orderByChild("school_id").equalTo(a.schoolId);a.role_calls=t(e)}a.groupId&&console.log("Role call list for a group, everybody")}}];exports.default=i},function(e,exports,t){var n=t(399);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".roleCallsList{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(401),l=n(s),d=o.default.module("roleCallMemberList",[r.default]).component("roleCallMemberList",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(402),o=n(a),i=t(403),r=n(i);t(404);var s={restrict:"E",bindings:{roleCallId:"=?"},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<style>\n  .here {\n    background-color:green\n  }\n  .not_here {\n    background-color:red\n  }\n</style>\nTime: {{$ctrl.time | date}}<br>\nHere: {{$ctrl.here}}<br>\nNot Here: {{$ctrl.not_here}}\n<!--   | orderBy: [\'-present\']   -->\n<div ng-repeat="item in $ctrl.members " \n  ng-class="{here:item.present,\n            not_here: item.present ==false}"\n \n>\n<div  layout="row"> \n  <span flex>\n  {{item.name}}\n  </span>\n  <md-button ng-click="$ctrl.setHere(item.$id)">Here</md-button> \n  <md-button ng-click="$ctrl.setNotHere(item.$id)">Not Here</md-button> \n</div>\n<md-divider></md-divider>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray","$firebaseObject",function e(t,n){function a(e){console.log("setting here"+e);var t=firebase.database().ref("role_calls").child(s.roleCallId).child("members");t.child(e).child("present").set(!0)}function i(e){console.log("setting NOT here"+e);var t=firebase.database().ref("role_calls").child(s.roleCallId).child("members");t.child(e).child("present").set(!1)}function r(e){var t=!1;return e.present&&(t=!0),t}(0,o.default)(this,e);var s=this;s.setHere=a,s.setNotHere=i,s.filterList=r,s.$onInit=function(){if(s.roleCallId){console.log("working with role call #"+s.roleCallId);var e=firebase.database().ref("role_calls").child(s.roleCallId).child("members"),n=firebase.database().ref("role_calls").child(s.roleCallId).child("time");n.once("value",function(e){s.time=e.val()}),s.members=t(e),e.on("value",function(e){s.here=0,s.not_here=0,e.forEach(function(e){e.val().present&&s.here++,0==e.val().present&&s.not_here++})})}}}];exports.default=i},function(e,exports,t){var n=t(405);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".roleCallMemberList{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(407),l=n(s),d=o.default.module("baseProjectTaskEdit",[r.default]).component("baseProjectTaskEdit",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(408),o=n(a),i=t(409),r=n(i);t(410);var s={restrict:"E",bindings:{projectId:"@",taskId:"@?"},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div>\n\n<md-input-container>  \n<label>Name</label>\n<input ng-model="$ctrl.task.name">\n</md-input-container> \n\n<md-input-container>  \n<label>cost_estemate</label>\n<input ng-model="$ctrl.task.cost_estemate">\n</md-input-container> \n\n<md-input-container>  \n<label>Fund</label>\n<md-select  ng-model="$ctrl.task.fund_id">\n<md-option ng-value="item.$id" ng-repeat="item in $ctrl.funds">{{item.name}}</md-option>\n</md-select>    \n</md-input-container> \n\n\n<md-button ng-click="$ctrl.save()">   {{ $ctrl.taskId ==\'undefined\'? \'Add\':\'Update\'}} Task </md-button>\n\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseArray",function e(t,n){function a(){if("undefined"!=i.taskId)s.child(i.taskId).set(i.task);else{var e=i.task;s.push(e),i.task={}}}(0,o.default)(this,e);var i=this;i.save=a;var r=firebase.database().ref("locations/"+t.location_id+"/funds");i.funds=n(r);var s=firebase.database().ref("locations/"+t.location_id+"/projects/"+i.projectId+"/tasks");"undefined"!=i.taskId&&s.child(i.taskId).once("value",function(e){i.task=e.val()})}];exports.default=i},function(e,exports,t){var n=t(411);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".baseProjectTaskEdit{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(413),r=n(i),s=t(419),l=n(s),d=t(425),c=n(d),u=t(466),f=n(u),p=t(472),m=n(p),v=t(586),h=n(v),g=t(592),b=n(g),_=t(598),y=n(_),x=t(604),w=n(x),k=t(613),M=n(k),j=t(620),P=n(j),S=t(626),O=n(S),A=t(632),I=n(A),E=t(640),C=n(E),T=t(646),L=n(T),D=t(652),z=n(D),N=t(658),R=n(N),q=t(664),U=n(q),B=t(670),F=n(B),V=t(676),W=n(V),H=t(682),G=n(H),K=t(688),Y=n(K),Q=t(694),J=n(Q),X=t(700),Z=n(X),ee=t(706),te=n(ee),ne=t(712),ae=n(ne),oe=t(718),ie=n(oe),re=t(726),se=n(re),le=t(732),de=n(le),ce=o.default.module("app.components",[r.default,l.default,c.default,f.default,m.default,h.default,b.default,y.default,w.default,M.default,P.default,O.default,te.default,ie.default,se.default,de.default,I.default,C.default,L.default,z.default,R.default,U.default,F.default,W.default,G.default,Y.default,Z.default,J.default,ae.default]).name;exports.default=ce},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(414),l=n(s),d=o.default.module("home",[r.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("home",{url:"/",component:"home"})}]).component("home",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(415),o=n(a),i=t(416),r=n(i);t(417);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<div layout="row" layout-align="center" >\n  <div flex-gt-sm="70" >\n    <md-card >\n      <md-card-content>\n    <h1  class="md-headline">Welcome to the YWAM Staff App!</h1>\n\n\n<p style="color:red; border: red solid 2px; padding:20px; font-size:120%">\n    NOTICE:<br>\n    Site in preview mode till Febuary 20, 2017 <br>\n    Check Github for status updates on this project: <br>\n    <a href="https://github.com/timtimmytime/ywam-staff-webapp-firebase/milestones">https://github.com/timtimmytime/ywam-staff-webapp-firebase/milestones</a>\n\n</p>\n<br>\n <div >\n  <b> Step 1: </b><br>\n    If you previously had an account at  login.mission-live.com <br>please reset your password <a ui-sref="forgotPassword"> here</a>\n       </div> \n      </md-card-content>\n    </md-card>\n  </div>\n</div >\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$mdSidenav",function e(t){(0,o.default)(this,e);var n=this;n.openLeftMenu=function(){t("left").toggle()}}];exports.default=i},function(e,exports,t){var n=t(418);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".home{color:red}td[ui-sref]{cursor:pointer}.ftable{border-spacing:2px;margin:auto}.ftable td{padding:6px;border:1px solid gray}.works{background-color:rgba(0,100,0,.3)}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(420),l=n(s),d=o.default.module("about",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("about",{url:"/about",component:"about"})}]).component("about",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(421),o=n(a),i=t(422),r=n(i);t(423);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports="<navbar></navbar>\n<h1>{{ $ctrl.name }}</h1>\n<section>\n  About us.\n</section>\n"},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=function e(){(0,o.default)(this,e),this.name="about"};exports.default=i},function(e,exports,t){var n=t(424);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".about{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(426),l=n(s),d=o.default.module("translation",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("translation",{url:"/translation/",component:"translation"})}]).component("translation",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(427),o=n(a),i=t(428),r=n(i);t(464);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<style>\n\n.table tr{\n  border-bottom:solid gray 1px;\n}\n\n.table{\n  width:100%\n}\n</style>\n\n<div layout="row" layout-align="center">\n\n\n<md-card flex-gt-sm="75">\n <md-card-content> \n\n<h1 class="md-display-3">\n<i class="fa  fa-language"></i> Translation </h1>\n\n<table  border="1" class="table">\n<thead>\n<tr><th>Section</th><th>English</th><th>German</th><th>Spanish</th> </tr>   \n</thead> \n<tr ng-repeat="(key, section) in $ctrl.sections" >\n  <td> <a ui-sref="translateSection({section:key})"> {{key}} </a </td>\n  <td> phrases: <b>{{section.en.$count}}</b> </td>\n  <td> Translated:  <b>{{section.de.$count}} </b>  \n  <md-progress-linear md-mode="determinate" value="{{section.de.$count * 100 / section.en.$count }}"></md-progress-linear>\n   </td>\n  <td> Translated:  <b>{{section.es.$count}} </b>  \n    <md-progress-linear md-mode="determinate" value="{{section.es.$count * 100 / section.en.$count }}"></md-progress-linear>\n</td>\n \n</tr>  \n\n</table>  \n\n\n\n </md-card-content>\n</md-card>\n\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(429),o=n(a),i=t(328),r=n(i),s=["$firebaseObject","$firebaseArray","$timeout","$stateParams",function e(t,n,a,i){function s(e){angular.forEach(e.val(),function(t,n){"meta"!=n&&(l.sections[e.key][n].$count=(0,o.default)(t).length)})}(0,r.default)(this,e);var l=this;l.phrases={},l.sections={};var d=firebase.database().ref("phrases");d.on("child_added",function(e){l.sections[e.key]=e.val(),s(e),a(function(){})}),d.on("child_changed",function(e){s(e),a(function(){})})}];exports.default=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){var n=t(465);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".translation{color:red}.table td{padding:10px}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(467),l=n(s),d=o.default.module("translateSection",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("translateSection",{url:"/translateSection/:section",component:"translateSection"})}]).directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){function o(){a.$setViewValue(t.html())}a.$render=function(){t.html(a.$viewValue||"")},t.bind("blur keyup change",function(){e.$apply(o)})}}}).component("translateSection",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(468),o=n(a),i=t(469),r=n(i);t(470);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<style>\n\n.table tr{\n  border-bottom:solid gray 1px;\n}\n\n.edit:focus{\n     border: 2px solid #1caff6;\n      box-shadow: 0 0 20px #92e2ff;\n      outline:none;\n      \n\n\n}\n.edit {\n  min-height:80px;\n   border-radius: 10px;\n    padding: 20px;\n     font-size: large;\n      box-sizing: border-box;\n}\n\n.tranto{\n box-shadow: inset 0 2px 5px rgba(0,0,0,0.05); \n border: 2px solid #e9e9e9;  \n}\n.tranfrom {\n     border: none;\n        box-shadow: 0 0 8px rgba(0,0,0,0.12);\n}\n\ncode {\n\n  background-color:#eff0f1;\n  padding:5px;\n  color:black;\n}\n\n</style>\n\n<div layout="row" layout-align="center">\n\n<md-card flex-gt-md="75" flex>\n<md-card-content>\n   Permission needed to change things here: <a ui-sref="base.permissions">"access_translation"</a>\n<div layout="row">\n <div flex style=" padding: 7px;">  \nContext: {{$ctrl.phrases.meta}}\n </div> \n <div flex="10"> </div>\n <div flex>\n    <label>Language: </label>\n        <md-select ng-model="$ctrl.lang" style="display:inline-block; margin:0px;  vertical-align: baseline;">\n        <md-option value="de">Deutsch</md-option>\n        <md-option value="es">Espa√±ol</md-option>\n        </md-select> \n <br> <br> <br>\n </div>\n</div>\n\n<div layout="row" ng-show="$ctrl.index">\n  <div flex>\n    <div >\n        <div  class="tranfrom edit"\n              contenteditable\n               id="tranfrom"\n              ng-change="$ctrl.saveEnglish()"\n              ng-model="$ctrl.phrases.en[$ctrl.index]">\n       \n        </div>\n    </div>  \n</div>\n<div flex="10" style=" display: flex;\n                    justify-content: center; \n                    align-items: center; font-size: 200%;"> \n  > \n  </div>\n<div flex >\n\n\n\n <div>\n<div  class="tranto edit"\n      id="tranto"\n      contenteditable\n     ng-change="$ctrl.saveToLanguage()"\n      ng-model="$ctrl.phrases[$ctrl.lang][$ctrl.index]"\n     ></div>\n </div>\n</div>\n</div>\n\n<div layout="row">\n  <md-button class="" ng-click="$ctrl.newPhrase()">New Phrase</md-button>\n  <span ng-show="$ctrl.index" style="padding:15px; color:gray"> code: <code >{{ \'{\'+\'{ \'+  $ctrl.index + \'| translate }\\}\' }} </code > <br><a ng-click="$ctrl.alternitive = !$ctrl.alternitive">alternitive</a> </span>\n  <!--<input ng-model="$ctrl.new" />-->\n  <span flex></span>\n<md-button class="md-primary md-raised " ng-click="$ctrl.next()" ng-show="$ctrl.index">Next</md-button>\n</div>\n<div ng-show="$ctrl.alternitive"  style="padding:15px; color:gray">\n<code >&#60;span translate="{{ $ctrl.index }}">{{$ctrl.phrases.en[$ctrl.index]}}&#60;/span>   </code >\n</div>  \n<br>\n<br>\n\n\n\n<table style="width:100%" class="table">\n  <th>Key</th>\n  <th>English Phrase</th>\n  <th >\n\n      {{$ctrl.lang}}\n  \n</th>\n<tr ng-repeat="(key, value) in $ctrl.phrases[\'en\']"  >\n  <td>{{key}}</td>\n<td><a href="" ng-click="$ctrl.index = key"> {{value}}</a></td>\n<td>  \n  \n  {{$ctrl.phrases[$ctrl.lang][key]}}\n  <!--<input ng-model="$ctrl.section[$ctrl.lang][key]" ng-blur="$ctrl.updateTranslation(key)" style="width:90%" > -->\n </td>\n</tr>\n\n</table>\n</md-card-content>\n</md-card>\n\n</div>\n\n\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(429),o=n(a),i=t(328),r=n(i),s=["$stateParams","$firebaseObject","$timeout","$window",function e(t,n,a,i){function s(){var e=f.phrases.en[f.index];e=d(e),firebase.database().ref("/phrases/").child(f.section).child("en").child(f.index).set(e)}function l(){var e=f.phrases[f.lang][f.index];e=d(e),console.log(e),console.log("Section: "+f.section+" Language: "+f.lang+" Key: "+f.index),e?firebase.database().ref("/phrases/").child(f.section).child(f.lang).child(f.index).set(e):(console.log("removing empty phrase"+f.index),firebase.database().ref("/phrases/").child(f.section).child(f.lang).child(f.index).remove())}function d(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function c(){l();var e=f.keys.indexOf(f.index),t=f.keys[e+1];console.log(t),f.index=t}function u(){var e=f.keys.length+1;f.index=e}(0,r.default)(this,e);var f=this;f.section=t.section,f.lang="de",f.next=c,f.saveEnglish=s,f.saveToLanguage=l,f.newPhrase=u;var p=firebase.database().ref("phrases").child(f.section);f.phrases=n(p),p.once("value",function(e){f.index=f.keys[0]}),p.on("value",function(e){f.keys=(0,o.default)(e.val().en)}),document.getElementById("tranto").addEventListener("keypress",function(e){13===e.which&&(e.preventDefault(),console.log("submit"),c())}),document.getElementById("tranfrom").addEventListener("keypress",function(e){13===e.which&&(e.preventDefault(),console.log("save english"),s(),a(function(){var e=i.document.getElementById("tranto");e&&e.focus()}))})}];exports.default=s},function(e,exports,t){var n=t(471);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,"textarea{width:100%}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i);t(473);var s=t(581),l=n(s),d=o.default.module("schoolsPage",[r.default,"angularMoment"]).config(["$stateProvider",function(e){"ngInject";e.state("schools",{url:"/schools",component:"schoolsPage",data:{authRequired:!0}})}]).component("schoolsPage",l.default).name;exports.default=d},,,,function(e,exports,t){function n(e){return t(a(e))}function a(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./af":477,"./af.js":477,"./ar":478,"./ar-ly":479,"./ar-ly.js":479,"./ar-ma":480,"./ar-ma.js":480,"./ar-sa":481,"./ar-sa.js":481,"./ar-tn":482,"./ar-tn.js":482,"./ar.js":478,"./az":483,"./az.js":483,"./be":484,"./be.js":484,"./bg":485,"./bg.js":485,"./bn":486,"./bn.js":486,"./bo":487,"./bo.js":487,"./br":488,"./br.js":488,"./bs":489,"./bs.js":489,"./ca":490,"./ca.js":490,"./cs":491,"./cs.js":491,"./cv":492,"./cv.js":492,"./cy":493,"./cy.js":493,"./da":494,"./da.js":494,"./de":495,"./de-at":496,"./de-at.js":496,"./de.js":495,"./dv":497,"./dv.js":497,
"./el":498,"./el.js":498,"./en-au":499,"./en-au.js":499,"./en-ca":500,"./en-ca.js":500,"./en-gb":501,"./en-gb.js":501,"./en-ie":502,"./en-ie.js":502,"./en-nz":503,"./en-nz.js":503,"./eo":504,"./eo.js":504,"./es":505,"./es-do":506,"./es-do.js":506,"./es.js":505,"./et":507,"./et.js":507,"./eu":508,"./eu.js":508,"./fa":509,"./fa.js":509,"./fi":510,"./fi.js":510,"./fo":511,"./fo.js":511,"./fr":512,"./fr-ca":513,"./fr-ca.js":513,"./fr-ch":514,"./fr-ch.js":514,"./fr.js":512,"./fy":515,"./fy.js":515,"./gd":516,"./gd.js":516,"./gl":517,"./gl.js":517,"./he":518,"./he.js":518,"./hi":519,"./hi.js":519,"./hr":520,"./hr.js":520,"./hu":521,"./hu.js":521,"./hy-am":522,"./hy-am.js":522,"./id":523,"./id.js":523,"./is":524,"./is.js":524,"./it":525,"./it.js":525,"./ja":526,"./ja.js":526,"./jv":527,"./jv.js":527,"./ka":528,"./ka.js":528,"./kk":529,"./kk.js":529,"./km":530,"./km.js":530,"./ko":531,"./ko.js":531,"./ky":532,"./ky.js":532,"./lb":533,"./lb.js":533,"./lo":534,"./lo.js":534,"./lt":535,"./lt.js":535,"./lv":536,"./lv.js":536,"./me":537,"./me.js":537,"./mi":538,"./mi.js":538,"./mk":539,"./mk.js":539,"./ml":540,"./ml.js":540,"./mr":541,"./mr.js":541,"./ms":542,"./ms-my":543,"./ms-my.js":543,"./ms.js":542,"./my":544,"./my.js":544,"./nb":545,"./nb.js":545,"./ne":546,"./ne.js":546,"./nl":547,"./nl.js":547,"./nn":548,"./nn.js":548,"./pa-in":549,"./pa-in.js":549,"./pl":550,"./pl.js":550,"./pt":551,"./pt-br":552,"./pt-br.js":552,"./pt.js":551,"./ro":553,"./ro.js":553,"./ru":554,"./ru.js":554,"./se":555,"./se.js":555,"./si":556,"./si.js":556,"./sk":557,"./sk.js":557,"./sl":558,"./sl.js":558,"./sq":559,"./sq.js":559,"./sr":560,"./sr-cyrl":561,"./sr-cyrl.js":561,"./sr.js":560,"./ss":562,"./ss.js":562,"./sv":563,"./sv.js":563,"./sw":564,"./sw.js":564,"./ta":565,"./ta.js":565,"./te":566,"./te.js":566,"./th":567,"./th.js":567,"./tl-ph":568,"./tl-ph.js":568,"./tlh":569,"./tlh.js":569,"./tr":570,"./tr.js":570,"./tzl":571,"./tzl.js":571,"./tzm":572,"./tzm-latn":573,"./tzm-latn.js":573,"./tzm.js":572,"./uk":574,"./uk.js":574,"./uz":575,"./uz.js":575,"./vi":576,"./vi.js":576,"./x-pseudo":577,"./x-pseudo.js":577,"./zh-cn":578,"./zh-cn.js":578,"./zh-hk":579,"./zh-hk.js":579,"./zh-tw":580,"./zh-tw.js":580};n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=476},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(582),o=n(a),i=t(583),r=n(i);t(584);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.status-bar div{\n\t\theight: 20px;\n\t\tfloat: left;\n\t\tmargin: 0px;\n\t\tposition: relative;\n\t}\n\t.status-bar{\n\t\t/*float: left;*/\n\t\tmax-width:100%;\n\t\theight:40px;\n\t}\n.row-hover{\n\tmin-height: 50px;\n}\n\t\n\t.row-hover:hover{\n \t\tbackground-color: #f5f5f5;\n \t\t\n\t}\n\n.row-hover:hover .warning{\n\topacity: 1;\n\tbox-shadow: 5px 5px 5px #888888;\n\tz-index: 2;\n\ttransition: box-shadow .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1);\n}\n.warning{\n\topacity: 0.15;\n\n\t\n}\n\n\n\n</style>\n\n<div layout="row" layout-align="center center">\n<div flex-gt-md="65"  flex-gt-sm="75"  flex-gt-xs="90" flex>\n\n<md-card>\n\n<div layout="row" layout-wrap style="padding:10px" >\n\n          \t\t\n\t<md-input-container class="md-accent no-md-error" style="margin:0;" md-no-float>\n      <input ng-model="$ctrl.search.$" placeholder="Search">\n    </md-input-container>\n<span flex></span>\nTotal DTS Students: {{$ctrl.total_dts_students}}\n</div>\t\n\n\n<md-divider></md-divider>\n\n<div ng-repeat="sch in $ctrl.schools | orderBy: \'-public.start_date\'  | filter: $ctrl.search "   >\n\n<div layout="row" layout-wrap  layout-align="space-between center"  class="row-hover"  \n     style="cursor: pointer;"  \n\t ui-sref="school.studentPhotos({school_id:sch.id})">\t\t\n<div ng-if="!$ctrl.$mdMedia(\'xs\')" \n\t flex-order="1">\n\t <div  style="width:106px;  max-height:50px; overflow:hidden; ">\n\t<img ng-src="{{sch.banner}}" style="width:100%" > \n\t</div>\n</div>\n<div flex flex-order="2"  style="margin-left:10px; margin-top:3px; " >\n\t<span  class="md-title" style="font-size:110%; "  >  {{sch.public.name}}</span>\n</div>\n\n\t<div flex="100" \n\t\t flex-gt-xs="25"  \n\t\t layout="row"\n\t\t layout-wrap\n\t\t flex-order-gt-xs="3" flex-order="5"\n\t\t style="font-size:100%; margin-left:10px" >\n\t\n\n\t<span flex-gt-xs="100" flex="60" class="md-caption" > {{ sch.public.start_date | date :\'MMM d yyyy\'}}\n\t \n\t - {{sch.public.end_date | date :\'MMM d yyyy\'}}</span>\n\t\n\t<!-- if start is in future -->\n\t<span flex ng-if="sch.public.start_date > $ctrl.now" \n\t\t  style="background-color:#FFE082;padding:2px;" \n\t\t  class="md-caption"> Starts \n\t<span am-time-ago="sch.public.start_date"></span>\n\t</span>\n\n\t<!-- If currently running  -->\n\t<span flex ng-if="sch.public.start_date < $ctrl.now && sch.public.end_date > $ctrl.now " \n\t\t  style="background-color:#A5D6A7;padding:2px; "\n\t\t  class="md-caption" > Running \n\t\t  <span am-time-ago="sch.public.start_date"  am-without-suffix="true"  ></span></span>\n\n\n\n\t</div>\n\n\n<!--\n<div flex="10"  hide-xs   flex-order-gt-xs="4">\n\t<div class="status-bar" style="width:{{sch.count.total}}px;  font-size:100%">\t\n\t \n\t\n\t\t<div style="width:{{ (sch.count.started*100) / sch.count.total }}%; background-color:#3F51B5;" ></div>\n\t\t<div style="width:{{ ((sch.count.cancelled*1 + sch.count.denied*1) *100) / sch.count.total}}%; background-color:#607D8B" ></div>\n\t\t<div style="width:{{ ((sch.count.submited*1 + sch.count.process*1) *100) / sch.count.total}}%; background-color:#FFC107;" > \n\t\t<div style="top:10px; " > \n\t\t\n\t\t<div ng-if="sch.count.submited>0" style="hieght:20px; background-color: #FFC107;" class="warning"> &nbsp;{{sch.count.submited}}&nbsp;New!&nbsp; </div>\n\t\t<div ng-if="sch.count.process>0" style="hieght:20px;background-color: #FFC107; " class="warning"> &nbsp;{{sch.process_count}}&nbsp;Waiting!&nbsp; </div>\n\t\t\n\t\t</div>\n\t\t</div>\n\t\t<div style="width:{{ ((sch.count.accepted*1 + sch.count.arrived*1) *100) / sch.count.total}}%; background-color:#4CAF50" ></div>\n\t</div>\t\n \n\t\t\t\t\t\t\t\t\n</div>-->\n\n\n\n\n<div   style="text-align:right ; " flex-order="3"  flex-order-gt-xs="5" flex="10">\n\t\t\t<md-menu style="padding:0px">\n           \n            <md-button ng-click="$mdOpenMenu($event)" style="min-width:20px;  margin:0px; min-height: 20px; line-height: 20px; ">\n\t\t\t <md-tooltip >\n          \tView counts\n        \t</md-tooltip>\n\t\t\t<span class="">{{sch.count.accepted*1 + sch.count.arrived*1}}</span>\n\t\t\t</md-button>\n            <md-menu-content>\n\t\t\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.started}} Started\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.cancelled}} Cancelled\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.denied}} Denied\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.submited}} Submited\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>{{sch.count.process}} In Review\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>{{sch.count.accepted}} Accepted\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>{{sch.count.arrived*1}} Arrived\n\t\t\t\t</md-menu-item>\n\t\t\t\t\n\t\n            </md-menu-content>\n\t\t\t</md-menu>\n</div>\n\n\n</div>\n\n\n<md-divider></md-divider>\n</div>\n</md-card>\n\n\n\t\t\t\t\t\n\n<md-card>\n<md-card-content>\n<i>\n  Let this system never replace personal relationship, but rather serve as a way from which to relate with accuracy. -Tim\n  </i>\n  </md-card-content>\n </md-card>\n\n\n </div>\n </div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$timeout","$firebaseArray","moment","Site","$filter","$mdMedia","$firebaseStorage",function e(t,n,a,i,r,s,l){function d(e,t){console.log(t.leaders)}(0,o.default)(this,e);var c=firebase.database().ref("/locations").child(i.location_id).child("schools_index"),u=this;u.now=a().format("YYYY-MM-DD"),u.$mdMedia=s,c.on("value",function(e){console.log("got school index"),u.schools=[],u.total_dts_students=0,u.total_secondary_students=0,angular.forEach(e.val(),function(e,n){console.log("looking up"+n),firebase.database().ref("/schools/"+n).on("value",function(e){var a=r("filter")(u.schools,{id:n},!0),o=u.schools.indexOf(a[0]);t(function(){if(null!=e.val()){var t=e.val();if(t.id=n,t.public.banner_1080){var a=firebase.storage().ref("schools_public/"+n).child("banner_1080.jpg");l(a).$getDownloadURL().then(function(e){t.banner=e})}o>-1?u.schools[o]=t:(u.schools.push(t),t.public.is_secondary?u.total_secondary_students+=t.count.arrived:u.total_dts_students+=t.count.arrived),d(o,t)}})})})},function(e){console.error(e)})}];exports.default=i},function(e,exports,t){var n=t(585);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolsPage{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(587),l=n(s),d=o.default.module("schoolPage",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school",{url:"/school/:school_id",component:"schoolPage"})}]).component("schoolPage",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(588),o=n(a),i=t(589),r=n(i);t(590);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n<!--<md-toolbar  layout="row" ng-if="!$ctrl.$state.is(\'app.school\')" \nclass="tab-toolbar" style="min-height: 50px ; z-index:40"  md-whiteframe="1">\n\n   <md-button hide-gt-sm \n            class="md-icon-button md-primary no-class " \n            ng-click="$ctrl.openLeftMenu()"\n            aria-label="open menu" >\n             <i class="fa  fa-bars" style="vertical-align:bottom"></i>\n         </md-button>\n\n\n<md-menu>\n      <md-button aria-label="Change School"  ng-click="$mdOpenMenu()">\n\t{{$ctrl.school.start_date | date:\'MMM yyyy\'}} &nbsp; {{$ctrl.school.name}}  <i class="fa fa-angle-down"> </i> \n\t  </md-button>\n      <md-menu-content >\n      <md-menu-item >\n          <md-button md-nav-sref="school">\n\t\t\t\tSchool List\n          </md-button>\n        </md-menu-item>\n        <md-menu-item ng-repeat="sch in $ctrl.school_list | filter:$ctrl.showCurrent| orderBy:\'start_date\'">\n          <md-button ng-click="$ctrl.changeSchool(sch.id)">\n\t\t\t\t{{sch.start_date | date:\'MMM yyyy\'}} \t{{sch.name}} \n          </md-button>\n        </md-menu-item>\n      </md-menu-content>\n    </md-menu>\n\n\n\n<span flex></span>\n\n\n</md-toolbar>-->\n<md-content>\n<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n      <md-nav-item  md-nav-sref="school.studentPhotos" name="school.studentPhotos">Students</md-nav-item>\n      <md-nav-item  md-nav-sref="school.studentList" name="school.studentList">List</md-nav-item>\n      <md-nav-item  md-nav-sref="school.roleCalls" name="school.roleCalls">Role Call</md-nav-item>\n      <md-nav-item   md-nav-sref="school.staff" name="school.staff">Staff</md-nav-item>\n      <!--<md-nav-item md-nav-sref="school.studentTravel"  name=""></md-nav-item>-->\n      <!--<md-nav-item  md-nav-sref="school.outreach" ></md-nav-item>-->\n      <!--<md-nav-item  md-nav-sref="school.studentAllergies" ></md-nav-item>-->\n      <md-nav-item md-nav-sref="school.settings" name="school.settings" > Settings </md-nav-item>\n\n\n\n</md-nav-bar>\n</md-content>\n\n<ui-view> loading....</ui-view>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject","$rootScope","$state",function e(t,n,a,i){(0,o.default)(this,e);var r=this;a.$on("$viewContentLoaded",function(){r.current=i.current.name})}];exports.default=i},function(e,exports,t){var n=t(591);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolPage{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(593),l=n(s),d=o.default.module("studentList",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.studentList",{url:"/studentList",component:"studentList"}).state("school.application",{url:"/application/:app_id/",component:"applicationView"})}]).component("studentList",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(594),o=n(a),i=t(595),r=n(i);t(596);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-wrap >\n\n<div flex  flex-offset-gt-md="10" flex-gt-md="80">\n\n<md-card >\n\n<div layout="row">\n<div>\n\n<md-toolbar class="md-table-toolbar md-default" ng-hide="$ctrl.selected.length">\n  <div class="md-toolbar-tools">\n    <span>Students</span> \n    <md-input-container>\n        <input ng-model="$ctrl.searchText">\n      </md-input-container>\n\n\n\n\n\n <!--<md-menu>\n      <div aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n      <span  ng-repeat="(key,item) in $ctrl.appStatuses" ng-show="$ctrl.display.status[key]"> {{item}}<br></span>\n      Status:\n      </div>\n      <md-menu-content >\n        <md-menu-item  ng-repeat="(key,item) in $ctrl.statuses">\n        <md-switch  ng-model="item.active"> {{item.text}}</md-switch>\n        </md-menu-item>\n      </md-menu-content>\n  </md-menu>-->\n\n\n  </div>\n</md-toolbar>\n</div>\n\n<span flex></span> \n\n<div  style="padding:20px">\n<div ng-repeat="(key,item) in $ctrl.statuses" ng-hide="key == 11 || key  == 10 || key == 13  || key == 30">\n\n  <a  style="margin:0; cursor:pointer " ng-click="item.active = !item.active "  > {{item.active? \'hide\':\'show\' }} {{item.text}} </a>\n\n</div>\n</div>\n</div>\n\n<md-toolbar class="md-table-toolbar md-default" ng-show="$ctrl.selected.length" >\n \n  <div class="md-toolbar-tools" layout="row">\n    <div>{{$ctrl.selected.length}} student{{$ctrl.selected.length > 1 ? \'s\':\'\'}}  selected</div>\n    \n\n\n\n  </div>\n</md-toolbar>\n<!--{{$ctrl.apps}}-->\n  <md-table-container>\n  <table md-table md-row-select multiple ng-model="$ctrl.selected"  md-progress="$ctrl.loading_promise">\n    <thead md-head md-order="$ctrl.query.order">\n       <tr md-row>\n      <!-- when the user clicks this cell, the myOrder variable will get the value \'nameToLower\' -->\n      <th md-column md-order-by="user.first_name">First Name</th>\n      <th md-column md-order-by="user.last_name">Last</th>\n      <!-- the variable myOrder will not be changed when this cell is clicked -->\n      <th md-column md-order-by="meta.status">Status</th>\n       </tr>\n    </thead>\n\n    <tbody md-body>\n      <!-- we can let ng-repeat sort the columns for us -->\n      <tr  md-row md-select="app" md-select-id="app.id" ng-repeat="app in $ctrl.apps | orderBy: $ctrl.query.order | filter:$ctrl.filterList | filter:$ctrl.searchText "\n          ui-sref="school.application({app_id: app.id})" style="cursor:pointer">\n        <td md-cell>{{app.user.first_name}} </td> \n        <td md-cell>{{app.user.last_name}}</td> \n\n        <td md-cell> <app-status app-id="app.id"></app-status></td>\n \n      </tr>\n    </tbody>\n  </table>\n</md-table-container>\n\n\n</md-card>\n\n\n</div>\n</div>\n\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject","$timeout","School",function e(t,n,a,i){function r(e){var t=!1;return s.statuses[e.meta.status]&&s.statuses[e.meta.status].active&&(t=!0),t}(0,o.default)(this,e);var s=this;s.selected=[],s.filterList=r,s.query={order:["meta.status","user.first_name"],limit:5,page:1};var l=t.school_id;s.apps=i.getApps(l),s.statuses={1:{text:"started"},8:{text:"cancelled"},10:{text:"submitted"},11:{text:"in review"},12:{text:"denied"},13:{text:"accepted"},30:{text:"arrived"}},s.statuses[10].active=!0,s.statuses[11].active=!0,s.statuses[13].active=!0,s.statuses[30].active=!0}];exports.default=i},function(e,exports,t){var n=t(597);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".studentList{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(599),l=n(s),d=o.default.module("studentPhotos",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.studentPhotos",{url:"/studentPhotos",component:"studentPhotos"})}]).component("studentPhotos",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(600),o=n(a),i=t(601),r=n(i);t(602);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.ellipsis {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -o-text-overflow: ellipsis;\n}\n\n.photo{\n/*width:120px; */\n/*height:300px; */\nfloat:left;\n/*margin:5px;*/\n}\n</style>\n\n\n\n<div layout="row" layout-wrap layout-align="center" >\n\n<div flex-gt-xs="75">\n\n<div layout="row" layout-align="center center" hide-xs >  \n<md-input-container > \n<input ng-model="$ctrl.search" placeholder="filter">\n</md-input-container>\n\n\n<div style=" width:200px; margin-top:1px; ">    \n\n<md-slider flex min="100" max="200" ng-model="$ctrl.photo_size" aria-label="photo size" >\n\n</div>\n\n<div >\n\n<canvas  class="chart chart-line"  style="height:75px"\n  chart-data="$ctrl.data" chart-labels="$ctrl.labels" \n  chart-series="$ctrl.series" \n  chart-options="$ctrl.options"\n  chart-dataset-override="$ctrl.override">\n</canvas>\n\n\n</div>\n<div flex></div>\n\n\n <md-menu>\n      <md-button aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n        <i md-menu-origin class="fa fa-print"></i>\n      </md-button>\n      <md-menu-content width="4">\n        <md-menu-item>\n          <md-button ng-click="$ctrl.print(\'letter\')" >\n           Letter\n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="$ctrl.print(\'A4\')">\n           A4\n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="$ctrl.print(\'A3\')">\n           A3\n          </md-button>\n        </md-menu-item>\n\n      </md-menu-content>\n    </md-menu>\n</div>\n<div class="print-only">\n\n<h1>\n{{$ctrl.school.name}} - {{$ctrl.school.start_date| date: \'MMMM, yyyy\' }}\n</h1>\n\n</div>\n\n\n<div   >\n\n\n<div ng-repeat="(index,app) in $ctrl.apps | filter:$ctrl.search | orderBy: \'user.first_name\'" class="photo" ui-sref="profile({user_id:app.for.user_id})"  style="cursor: pointer;">\n\n<md-card  style="width:{{$ctrl.photo_size}}px;  \n                 height:{{$ctrl.photo_size*1.5}}px;\n                 overflow:hidden;\n                 page-break-inside: avoid;\n                    -webkit-region-break-inside: avoid; \n                    position: relative; " >  \n<div style="height:{{$ctrl.photo_size}}px; overflow:hidden; " >\n\n<img ng-src="{{$ctrl.avatars[app.for.user_id]}}" width="100%" >\n<!--{{$ctrl.getAvatar(app.user.avatar_200)}}-->\n</div>\n\n\n<div style="padding:5px; md-body-2">\n<div class="ellipsis ">{{app.user.first_name }}</div>\n<div class="ellipsis ">{{app.user.last_name}}</div>\n\n<img   style="height:{{$ctrl.photo_size/7}}px" ng-if="app.user.nation_id" ng-src="http://flagpedia.net/data/flags/mini/{{ app.user.nation_id.toLowerCase() }}.png">\n\n<!--<div class="ellipsis md-caption" >{{app.user}}</div>-->\n</div>\n</md-card>\n<!--<div ng-if="index % $ctrl.photosPerPage === 0  &&  index !=0" class="new-page">NEW PAGE {{index % $ctrl.photosPerPage}} INDEX: {{index}}</div>-->\n\n</div>\n\n\n</div>\n</div>\n\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["School","$stateParams","$mdMedia","Site","$firebaseObject","$timeout",function e(t,n,a,i,r,s){function l(e){"letter"==e&&(d.photo_size=113,d.photosPerPage=24,s(function(){window.print()})),"A4"==e&&(d.photo_size=130,d.photosPerPage=24,s(function(){window.print()}))}(0,o.default)(this,e);var d=this,c=n.school_id;d.apps=t.getApps(c,!0),d.avatars=i.avatars,d.print=l;var u=firebase.database().ref("/schools/"+c+"/public");d.school=r(u),d.photo_size=150,a("xs")&&(d.photo_size=90),d.data=[],d.labels=[],firebase.database().ref("schools").child(c).child("stats/lead_up").once("value",function(e){var t=20,n=e.val(),a=[],o=[];angular.forEach(n.start,function(e){a.push(e),d.labels.push("-"+t+" weeks"),t--}),angular.forEach(n.submit,function(e){o.push(e)}),d.data.push(o),console.log(d.data)}),d.series=["submited apps"],d.options={elements:{line:{fill:!1},point:{radius:0}},scales:{yAxes:[{display:!1}],xAxes:[{display:!1}]}},d.override={label:"My First dataset",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}}];exports.default=i},function(e,exports,t){var n=t(603);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".studentPhotos{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i);t(605),t(606),t(388);var s=t(608),l=n(s),d=o.default.module("schoolSettings",[r.default,"720kb.datepicker","ngImgCrop"]).config(["$stateProvider",function(e){"ngInject";e.state("school.settings",{url:"/settings",component:"schoolSettings"})}]).component("schoolSettings",l.default).name;exports.default=d},,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(609),o=n(a),i=t(610),r=n(i);t(611);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n  <style>\n    .cropArea {\n      background: #E4E4E4;\n      /*overflow: hidden;*/\n      width:500px;\n      height:300px;\n    }\n\n\n  </style>\n\n\n\n<div layout="row" layout-align="center">\n<!-- Preview of what is seen on apply site -->\n<md-card  flex="100" flex-gt-xs="50"  flex-gt-sm="30">\n     <img ng-src="{{public.banner_1080}}" alt=" {{public.name}}" style="    height: initial !important;" >\n     <md-card-title>\n          <md-card-title-text>\n            <span class="md-headline"> {{public.name}}</span>\n              <span class="md-subhead">\n                {{public.start_date | date :\'MMM d, y\' }} - {{public.end_date | date :\'MMM d, y\'}}<br>\n              {{$ctrl.location.meta.location}}<br>\n           Application Fee: {{public.app_fee}}<br>\n           Lecture Phase: {{public.school_fee}}<br>\n           Outreach: {{public.outreach_fee}}<br>\n             </span>\n          </md-card-title-text>\n         \n        </md-card-title>\n        <md-card-content>\n         \n            \n            <!--{{public.description}}-->\n         \n        </md-card-content>\n         <md-card-actions layout="row" layout-align="end center">\n          <!--<md-button>More Info</md-button>-->\n          <md-button ng-click="$ctrl.applyNow(public.id)">Apply Now</md-button>\n         \n        </md-card-actions>\n   </md-card>\n\n</div>\n\n\n\n\n\n<div layout="row" layout-align="center">\n<div  flex-gt-md="60" flex layout="column">\n\n\n\n\n\n\n\n\n<md-card>\n<md-card-content >\n\n<h1 class="md-title">School Info (Public)</h1>\n\n<md-switch ng-model="public.online"> Online for applications</md-switch>\n\n\n<div layout="row">\n<md-input-container flex>\n<label>School Name</label>\n<input ng-model="public.name">\n</md-input-container>\n\n<md-input-container flex>\n<label>School Acronym</label>\n<!--<md-select ng-model="$ctrl.school.acronym">\n<md-option  ng-repeat="acr in $ctrl.acronyms" value="{{acr}}">{{acr}} </md-option>\n</md-select>-->\n\n<input  ng-model="public.acronym"> \n</md-input-container>\n</div>\n\n<!--<md-input-container flex>\n<label>School Location </label>\n<md-select ng-model="public.location_id">\n<md-option  ng-repeat="loc in $ctrl.locations" value="{{loc.id}}">{{loc.name}} </md-option>\n</md-select>\n</md-input-container>-->\n\n<div layout="row">\n<md-input-container flex>\n<label>School Website (full url) </label>\n<input ng-model="public.website">\n</md-input-container>\n<md-input-container flex>\n<label>School Email </label>\n<input ng-model="public.email">\n</md-input-container>\n</div>\n\n\n</md-card-content>\n</md-card>\n\n<md-card>\n<md-card-content >\n<h1 class="md-title">School Dates</h1>\n\n<div layout="row">\n<span flex></span>\n<md-input-container flex>  \n <label> School Start Date:</label>\n <datepicker  date-format=" yyyy-MM-dd ">\n  <input ng-model="public.start_date" type="text"/>\n</datepicker>\n</md-input-container>\n\n<md-input-container flex>  \n<label> School End Date: </label>\n <datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.end_date"  type="text">\n </datepicker>\n</md-input-container>\n\n</div>\n\n<div layout="row" layout-align="center center">\n  <md-checkbox flex ng-model="public.mini_outreach" ng-change="$ctrl.toggle_mini_outreach()">Mini Outreach?</md-checkbox>\n\n<md-input-container flex>\n<label> Mini Outreach Start Date:</label>\n<datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.mini_outreach_start_date"  type="text" ng-disabled="!public.mini_outreach">\n</datepicker>\n</md-input-container>\n\n<md-input-container flex>\n  <label>Mini Outreach End Date:</label>\n<datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.mini_outreach_end_date"  type="text" ng-disabled="!public.mini_outreach">\n</datepicker>\n</md-input-container>\n\n</div>\n\n\n<div layout="row" layout-align="center center">\n  <md-checkbox flex ng-model="public.outreach" ng-change="$ctrl.toggle_outreach()">Outreach?</md-checkbox>\n\n<md-input-container flex >\n  <label> Outreach Start Date:</label>\n  <datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.outreach_start_date"  type="text" ng-disabled="!public.outreach">\n  </datepicker>\n</md-input-container>\n\n<md-input-container flex>\n  <label>Outreach End Date:</label>\n  <datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.outreach_end_date"  type="text" ng-disabled="!public.outreach">\n  </datepicker>\n</md-input-container>\n\n</div>\n\n\n\n\n\n</md-card-content>\n</md-card>\n\n\n<md-card>\n<md-card-content>\n<h1 class="md-title">School Costs</h1>\n\n<div layout="row">\n<md-input-container flex>\n<label>Currency </label>\n<md-select ng-model="public.currency">\n<md-option  ng-repeat="item in $ctrl.currencies" value="{{item}}">{{item}} </md-option>\n</md-select>\n</md-input-container>\n\n<div flex>\n<md-input-container flex>\n<label>Application Fee </label>\n<input ng-model="public.app_fee">\n</md-input-container>\n\n<md-input-container flex>\n<label>School Fee </label>\n<input ng-model="public.school_fee">\n</md-input-container>\n\n<md-input-container flex>\n<label>Mini Outreach Fee </label>\n<input ng-model="public.mini_outreach_fee" ng-disabled="!public.mini_outreach">\n</md-input-container>\n\n<md-input-container flex>\n<label>Outreach Fee </label>\n<input ng-model="public.outreach_fee" ng-disabled="!public.outreach">\n</md-input-container>\n</div>\n</div>\n</md-card-content>\n</md-card>\n\n<md-card>\n      <md-progress-linear md-mode="{{$ctrl.upload_progress < 10 && $ctrl.upload_progress  ? \'indeterminate\': \'determinate\'}}" value="{{$ctrl.upload_progress}}"></md-progress-linear>\n\n\t<md-card-content layout="row">\t\n\t<div flex-gt-md>\n\t<h1 class="md-title">School Banner<br>\n\t<small> 16:9 aspect ratio</small> </h1>\n\n\t<input id="fileInput" name="file" type="file" class="ng-hide" multiple>\n\n\t <md-button class="md-raised md-primary">\n\t        <label for="fileInput">Choose File</label>  \n\t </md-button>\n\t <input type="file" id="fileInput" class="ng-hide" />\n\t  <md-button ng-click="$ctrl.savePhoto()" >Upload</md-button>\n\t </div>\n\t <div flex-gt-md="50">\n\n\t  <div  class="cropArea">\n\t   <img-crop \n        image="$ctrl.myImage" \n        result-blob="$ctrl.myCroppedImage"\n        result-image=""\n        area-min-size="200"\n        result-image-quality="1"\n        result-image-size="{w:1600,h:900}"\n        result-image-format="image/jpeg"\n        area-type="rectangle"\n        aspect-ratio="1.77"></img-crop>\n\t  </div>\n\t</div>\n\t</md-card-content>\n</md-card>\n\n\n\n\n <!--<img ng-src="{{public.banner_200}}" >\n  <img ng-src="{{public.banner_80}}" >-->\n\n  </div>  </div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["School","$stateParams","$scope","$timeout","Site",function e(t,n,a,i,r){function s(){a.public.mini_outreach||(a.public.mini_outreach_start_date=null,a.public.mini_outreach_end_date=null)}function l(){a.public.outreach||(a.public.outreach_start_date=null,a.public.outreach_end_date=null)}function d(e){var t=e.currentTarget.files[0],n=new FileReader;n.onload=function(e){a.$apply(function(t){u.myImage=e.target.result})},n.readAsDataURL(t)}function c(){u.upload_progress=1;var e=firebase.storage().ref("/schools_public/"+f),t=firebase.database().ref("/schools/"+f).child("public/banner_1080"),n=u.myCroppedImage,a=e.child("banner_1080.jpg").put(n);a.on("state_changed",function(e){switch(i(function(){u.upload_progress=e.bytesTransferred/e.totalBytes*100}),console.log("Upload is "+u.upload_progress+"% done"),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){},function(){var e=a.snapshot.downloadURL;console.log("finished upload: "+e),t.set(e)})}(0,o.default)(this,e);var u=this;u.savePhoto=c,u.toggle_mini_outreach=s,u.toggle_outreach=l,u.myImage="",u.myCroppedImage="",u.location=r.location;var f=n.school_id;t.getSchool(f).$bindTo(a,"public"),angular.element(document.querySelector("#fileInput")).on("change",d)}];exports.default=i},function(e,exports,t){var n=t(612);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,'.cropArea{background:#e4e4e4;overflow:hidden;width:90%;max-width:400px;min-height:200px;margin:auto;position:relative}.cropArea:before{content:"";display:block;padding-top:100%}img-crop{position:absolute;top:0;left:0;bottom:0;right:0}img-crop canvas{display:block;position:absolute;top:50%;left:50%;outline:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}',""]);
},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(614),l=n(s),d=o.default.module("schoolStaff",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.staff",{url:"/staff",component:"schoolStaff"})}]).component("schoolStaff",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(615),o=n(a),i=t(616),r=n(i);t(618);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-align="center center">\n<div  flex-gt-sm="70">\n<md-card>\n<md-card-content l>\n <div >   \n    <h1>School Staff</h1>\n    <md-button ng-click="$ctrl.addStaff(\'staff\')">Add Staff</md-button>\n\n<md-list class="md-dense">\n    <md-list-item ng-repeat="(key, staff) in $ctrl.staffs" class="md-2-line">\n          <img ng-src="{{$ctrl.avatars[key]}}" class="md-avatar" alt="{{ staff.first_name }}" />\n         <div class="md-list-item-text" layout="column">\n            <h3>{{ staff.first_name }} {{ staff.last_name }}</h3>\n            <!--<h4>{{ item.what }}</h4>-->\n            <p ng-if="$ctrl.admins[key]">Admin Access</p>\n\n            <i class="fa fa-trash" ng-click="$ctrl.remove(\'staff\', key)"></i>\n          </div>\n          <md-divider ></md-divider>\n    </md-list-item>\n</md-list>\n\n </div>\n\n <div flex>   \n    <h1>Aditional Admins\n        \n    </h1>\n    <small>  can see applications.. etc.</small>\n   \n    <md-button ng-click="$ctrl.addStaff(\'admin\')">Add Admin</md-button>\n\n<md-list class="md-dense">\n    <md-list-item ng-repeat="(key, staff) in $ctrl.admins"\n                  class="md-2-line" \n                  ng-if="!$ctrl.staffs[key]">\n          <img ng-src="{{$ctrl.avatars[key]}}" class="md-avatar" alt="{{ staff.first_name }}" />\n         <div class="md-list-item-text" layout="column">\n            <h3>{{ staff.first_name }} {{ staff.last_name }}</h3>\n            <!--<h4>{{ item.what }}</h4>-->\n            <!--<p>roles:</p>-->\n              <i class="fa fa-trash" ng-click="$ctrl.remove(\'admin\', key)"></i>\n          </div>\n          <md-divider ></md-divider>\n    </md-list-item>\n</md-list>\n\n </div>\n\n</md-card-content>\n</md-card>\n</div>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=t(617),r=n(i),s=["$stateParams","School","$mdDialog","Site",function e(t,n,a,i){function s(e,t){console.log(t),console.log(e);var n=firebase.database().ref("/schools/"+c+"/"+e);n.child(t).remove()}function l(e){function t(t,n,a,o,i){t.staff=[],t.type=e;var r=firebase.database().ref("locations/"+a.location_id).child("current_staff_index");r.on("child_added",function(e){console.log(e.key);var n=e.key;console.log("UserID: ",n),firebase.database().ref("/profiles/"+n+"/com").on("value",function(e){null!=e.val()&&o(function(){var a=e.val();a.id=n,t.staff.push(a)})},function(e){console.error(e)})},function(e){console.error(e)}),t.getMatches=function(e){return i("filter")(t.staff,e)},t.addStaff=function(){console.log(t.selectedItem.id);var a=firebase.database().ref("/schools/"+c+"/"+e);a.child(t.selectedItem.id).set(!0),n.hide()},t.closeDialog=function(){n.hide()}}t.$inject=["$scope","$mdDialog","Site","$timeout","$filter"];var n=angular.element(document.body);a.show({parent:n,clickOutsideToClose:!0,escapeToClose:!0,template:r.default,controller:t})}(0,o.default)(this,e);var d=this,c=t.school_id;d.staffs=n.getStaff(c),d.admins=n.getAdmins(c),d.avatars=i.avatars,d.addStaff=l,d.remove=s}];exports.default=s},function(e,exports){e.exports='<md-dialog aria-label="List dialog">\n  <md-dialog-content>\n\n       <div class="md-dialog-content">\n\n      \n         \n    <md-autocomplete md-selected-item="selectedItem" \n                     md-search-text="searchText" \n                     md-items="item in getMatches(searchText)" md-item-text="item.first_name +\' \'+item.last_name "\n                      placeholder="Add Staff Member">\n        <span md-highlight-text="searchText">{{item.first_name}} {{item.last_name}}</span>\n    </md-autocomplete>\n\n    \n  \n       </div>\n  </md-dialog-content>\n  <md-dialog-actions>\n    <md-button ng-click="addStaff()" class="md-primary">Add {{type}}</md-button>\n  </md-dialog-actions>\n</md-dialog>'},function(e,exports,t){var n=t(619);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolStaff{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(621),l=n(s),d=o.default.module("schoolRoleCalls",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.roleCalls",{url:"/roleCalls",component:"schoolRoleCalls"})}]).component("schoolRoleCalls",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(622),o=n(a),i=t(623),r=n(i);t(624);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-align="center">\n\n<md-card flex flex-gt-md="60">\n\n\n\n<role-calls-list school-id="$ctrl.school_id"></role-calls-list>\n\n</md-card>\n</div>  '},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams",function e(t){(0,o.default)(this,e);var n=this;n.school_id=t.school_id}];exports.default=i},function(e,exports,t){var n=t(625);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolRoleCalls{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(627),l=n(s),d=o.default.module("schoolRoleCall",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.roleCall",{url:"/roleCall/:roleCallId",component:"schoolRoleCall"})}]).component("schoolRoleCall",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(628),o=n(a),i=t(629),r=n(i);t(630);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<div layout="row" layout-align="center">\n\n<md-card flex flex-gt-md="60">\n\n\n<role-call-member-list role-call-id="$ctrl.roleCallId">loading...</role-call-member-list> \n\n</md-card>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams",function e(t){(0,o.default)(this,e);var n=this;n.roleCallId=t.roleCallId}];exports.default=i},function(e,exports,t){var n=t(631);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolRoleCall{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(633),l=n(s);t(638);var d=o.default.module("accounting",[r.default,"ngAudio"]).config(["$stateProvider",function(e){"ngInject";e.state("accounting",{url:"/accounting/",component:"accounting",data:{authRequired:!0}})}]).component("accounting",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(634),o=n(a),i=t(635),r=n(i);t(636);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<md-card>\n<style>\n\n.table {\n  width:100%;\n}\n\n.table tr{\n  border-bottom:solid gray 1px;\n}\n\n</style>\n<md-card-content>\n\n\n\n<table class="table" >\n\n  <tr>\n    <th>paypal ID</th>\n    <th>Time</th>\n    <th>From</th>\n    <th>For </th>\n    <th>Amount</th>\n\n    <th>QB</th>\n    <th>My Tribe</th>\n  </tr>\n\n<tr ng-repeat="item in $ctrl.transactions | orderBy:\'-timestamp\'">\n<td>{{item.transaction_id}}</td>\n<td>{{item.timestamp | date: \'short\'}}</td>\n<td>{{item.name}}</td>\n<td>{{item.note}}  <br><i style="background-color: lightgreen">{{item.purpose}}</i> </td>\n<td align="right">\n  <i   ng-if="item.fee < 0  ">  {{item.amount}}{{item.fee}}</i>\n    <b>{{item.net_amount}} </b></td>\n<td> \n<md-checkbox ng-model="item.in_quickbooks"  ng-change="$ctrl.checkQB(item)" aria-label="in quickbooks" >\n\n</td>\n<td> \n<md-checkbox ng-model="item.in_donation"  ng-change="$ctrl.checkDonation(item)" aria-label="in donations" >\n\n</td>\n\n\n\n\n</tr>\n\n\n\n\n</thead>\n\n\n\n\n</table>  \n\n\n</md-card-content>\n</md-card>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","Auth","$firebaseArray","ngAudio",function e(t,n,a,i){function r(e){c.child(e.transaction_id).child("in_quickbooks").set(e.in_quickbooks),c.child(e.transaction_id).child("quickbooks_user").set(n.$getAuth().uid),e.in_quickbooks&&(d.play(),c.child(e.transaction_id).child("quickbooks_time").set(firebase.database.ServerValue.TIMESTAMP))}function s(e){c.child(e.transaction_id).child("in_donation").set(e.in_donation),c.child(e.transaction_id).child("donation_user").set(n.$getAuth().uid),e.in_donation&&(d.play(),c.child(e.transaction_id).child("donation_time").set(firebase.database.ServerValue.TIMESTAMP))}(0,o.default)(this,e);var l=this,d=i.load("sounds/1.mp3"),c=firebase.database().ref("paypal_transactions/"+t.location_id),u=c.orderByChild("timestamp");l.checkQB=r,l.checkDonation=s,l.transactions=a(u)}];exports.default=i},function(e,exports,t){var n=t(637);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".accounting{color:red}",""])},,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(641),l=n(s),d=o.default.module("staff",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff",{url:"/staff",component:"staff"})}]).component("staff",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(642),o=n(a),i=t(643),r=n(i);t(644);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<md-content>\n<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n   \n      <md-nav-item  md-nav-sref="staff.current" name="staff.current">Current Staff</md-nav-item>\n      <md-nav-item  md-nav-sref="staff.alumni" name="staff.alumni">Alumni Staff</md-nav-item>\n      <md-nav-item  md-nav-sref="staff.apps" name="staff.apps">Staff Applications</md-nav-item>\n\n\n\n</md-nav-bar>\n</md-content>\n\n<ui-view> loading....</ui-view>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$rootScope","$state",function e(t,n){(0,o.default)(this,e);var a=this;t.$on("$viewContentLoaded",function(){a.current=n.current.name})}];exports.default=i},function(e,exports,t){var n=t(645);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staff{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(647),l=n(s),d=o.default.module("staffCurrent",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff.current",{url:"/current",component:"staffCurrent"})}]).component("staffCurrent",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(648),o=n(a),i=t(649),r=n(i);t(650);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.ellipsis {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -o-text-overflow: ellipsis;\n}\n\n.photo{\n/*width:120px; */\n/*height:300px; */\nfloat:left;\n/*margin:5px;*/\n}\n</style>\n\n\n\n<div layout="row" layout-wrap layout-align="center">\n\n<div flex-gt-sm="75" flex-xs="100">\n\n<div layout="row" layout-align="center center" class="no-print" >  \n<md-input-container  style=""> \n<input ng-model="$ctrl.search" placeholder="filter">\n</md-input-container>\n\n<div  hide-xs style="width:200px; margin-top: 4px;">    \n\n<md-slider   flex min="90" max="200" ng-model="$ctrl.photo_size" aria-label="photo size" >\n\n</div>\n{{$ctrl.photo_size}}\n<a ng-click="$ctrl.photo_size = 110 " >print size</a>\n<!--\n <md-menu>\n      <md-button aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n        <i md-menu-origin class="fa fa-print"></i>\n      </md-button>\n      <md-menu-content width="4">\n        <md-menu-item>\n          <md-button ng-click="print(\'letter\')" >\n         Print Selected Photos (Letter) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A4\')">\n         Print Selected Photos (A4) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A3\')">\n         Print Selected Photos (A3) \n          </md-button>\n        </md-menu-item>\n\n      </md-menu-content>\n    </md-menu>-->\n\n</div>\n<div  >\n\n\n<div ng-repeat="staff in $ctrl.staff | filter:$ctrl.search" class="photo" ui-sref="profile({user_id:staff.id})"  style="cursor: pointer;">\n\n<md-card  style="width:{{$ctrl.photo_size}}px;" >  \n<div style="height:{{$ctrl.photo_size}}px; overflow:hidden; " >\n\n<img ng-src="{{$ctrl.avatars[staff.id]}}" width="100%" >\n\n</div>\n\n\n<div style="padding:5px">\n<div class="ellipsis md-body-2">{{staff.first_name }}</div>\n<div class="ellipsis md-body-2">{{staff.last_name}}</div>\n\n<!--<div class="ellipsis md-caption" >{{staff}}</div>-->\n</div>\n</md-card>\n\n\n</div>\n\n\n</div>\n</div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseArray","$timeout","$filter","$mdMedia",function e(t,n,a,i,r){function s(e){myWindow=window.open(t.api+"/staff/print_photos/"+e+"/"+t.location.id,"_blank"),myWindow.focus()}(0,o.default)(this,e);var l=this;l.staff=[],l.avatars=t.avatars;var d=firebase.database().ref("locations/"+t.location_id).child("current_staff_index");d.on("child_added",function(e){console.log(e.key);var n=e.key;console.log("UserID: ",n),firebase.database().ref("/profiles/"+n+"/com").on("value",function(e){if(null!=e.val()){var a=e.val();a.id=n;l.staff.push(a);t.getAvatar(n)}},function(e){console.error(e)})},function(e){console.error(e)}),l.photo_size=150,r("xs")&&(l.photo_size=90),l.print=s}];exports.default=i},function(e,exports,t){var n=t(651);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staffCurrent{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(653),l=n(s),d=o.default.module("staffAlumni",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff.alumni",{url:"/alumni",component:"staffAlumni"})}]).component("staffAlumni",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(654),o=n(a),i=t(655),r=n(i);t(656);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.ellipsis {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -o-text-overflow: ellipsis;\n}\n\n.photo{\n/*width:120px; */\n/*height:300px; */\nfloat:left;\n/*margin:5px;*/\n}\n</style>\n\n\n\n<div layout="row" layout-wrap layout-align="center">\n\n<div flex="75">\n<md-input-container style="margin-top:35px;  vertical-align:middle"> \n<input ng-model="$ctrl.search" placeholder="filter">\n</md-input-container>\n\n\n<div style="display:inline-block; width:200px; margin-top:22px; vertical-align:middle">    \n\n<md-slider flex min="100" max="200" ng-model="$ctrl.photo_size" aria-label="photo size" >\n\n</div>\n\n<!--\n <md-menu>\n      <md-button aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n        <i md-menu-origin class="fa fa-print"></i>\n      </md-button>\n      <md-menu-content width="4">\n        <md-menu-item>\n          <md-button ng-click="print(\'letter\')" >\n         Print Selected Photos (Letter) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A4\')">\n         Print Selected Photos (A4) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A3\')">\n         Print Selected Photos (A3) \n          </md-button>\n        </md-menu-item>\n\n      </md-menu-content>\n    </md-menu>-->\n\n\n<div  >\n\n\n<div ng-repeat="staff in $ctrl.staff | filter:$ctrl.search" class="photo" ui-sref="profile({user_id:staff.id})"  style="cursor: pointer;">\n\n<md-card  style="width:{{$ctrl.photo_size}}px;" >  \n<div style="height:{{$ctrl.photo_size}}px; overflow:hidden; " >\n\n<img ng-src="{{$ctrl.avatars[staff.id]}}" width="100%" >\n\n</div>\n\n\n<div style="padding:5px">\n<div class="ellipsis md-body-2">{{staff.first_name }}</div>\n<div class="ellipsis md-body-2">{{staff.last_name}}</div>\n\n<!--<div class="ellipsis md-caption" >{{staff}}</div>-->\n</div>\n</md-card>\n\n\n</div>\n\n\n</div>\n</div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseArray","$timeout","$filter",function e(t,n,a,i){function r(e){myWindow=window.open(t.api+"/staff/print_photos/"+e+"/"+t.location.id,"_blank"),myWindow.focus()}(0,o.default)(this,e);var s=this;s.staff=[],s.avatars=t.avatars;var l=firebase.database().ref("locations/"+t.location_id).child("alumni_staff_index");l.on("child_added",function(e){console.log(e.key);var n=e.key;console.log("UserID: ",n),firebase.database().ref("/profiles/"+n+"/com").on("value",function(e){null!=e.val()&&a(function(){var a=e.val();a.id=n,s.staff.push(a),t.getAvatar(n)})},function(e){console.error(e)})},function(e){console.error(e)}),s.photo_size=150,s.print=r}];exports.default=i},function(e,exports,t){var n=t(657);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staffAlumni{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(659),l=n(s),d=o.default.module("staffApps",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff.apps",{url:"/applications",component:"staffApps"}).state("staff.application",{url:"/application/:app_id/",component:"applicationView"})}]).component("staffApps",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(660),o=n(a),i=t(661),r=n(i);t(662);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-wrap >\n\n<div flex  flex-offset-gt-md="10" flex-gt-md="80">\n\n\n<md-card ng-show="$ctrl.selected.length">\n  <md-card-content>\n    Actions for selected:<br>\n    <div ng-repeat="loc in $ctrl.locations">\n        <a ng-click="$ctrl.transferSelected(loc.id)"> transfer to {{loc.name}}</a>\n    </div>\n\n  </md-card-content>\n</md-card>\n\n\n<md-card >\n\n<div layout="row">\n<div>\n\n<md-toolbar class="md-table-toolbar md-default" >\n  <div class="md-toolbar-tools">\n   \n    <span ng-hide="$ctrl.selected.length"> Staff</span>\n    <span ng-show="$ctrl.selected.length">{{$ctrl.selected.length}} Staff{{$ctrl.selected.length > 1 ? \'s\':\'\'}}  selected</span>\n\n\n\n\n <!--<md-menu>\n      <div aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n      <span  ng-repeat="(key,item) in $ctrl.appStatuses" ng-show="$ctrl.display.status[key]"> {{item}}<br></span>\n      Status:\n      </div>\n      <md-menu-content >\n        <md-menu-item  ng-repeat="(key,item) in $ctrl.statuses">\n        <md-switch  ng-model="item.active"> {{item.text}}</md-switch>\n        </md-menu-item>\n      </md-menu-content>\n  </md-menu>-->\n\n\n  </div>\n</md-toolbar>\n</div>\n\n<span flex></span> \n\n<div  style="padding:20px">\n<div ng-repeat="(key,item) in $ctrl.statuses" ng-hide="key == 11 || key  == 10 ">\n\n  <a  style="margin:0; cursor:pointer " ng-click="item.active = !item.active "  > {{item.active? \'hide\':\'show\' }} {{item.text}} </a>\n\n</div>\n\n</div>\n</div>\n<!--{{$ctrl.apps}}-->\n  <md-table-container>\n  <table md-table md-row-select multiple ng-model="$ctrl.selected"  md-progress="$ctrl.loading_promise">\n    <thead md-head md-order="$ctrl.query.order">\n       <tr md-row>\n      <!-- when the user clicks this cell, the myOrder variable will get the value \'nameToLower\' -->\n      <th md-column md-order-by="user.first_name">First Name</th>\n      <th md-column md-order-by="user.last_name">Last</th>\n      <!-- the variable myOrder will not be changed when this cell is clicked -->\n      <th md-column md-order-by="meta.status">Status</th>\n       </tr>\n    </thead>\n\n    <tbody md-body>\n      <!-- we can let ng-repeat sort the columns for us -->\n      <tr  md-row md-select="app" md-select-id="app.id" ng-repeat="app in $ctrl.apps | orderBy: $ctrl.query.order | filter:$ctrl.filterList "\n          ui-sref="staff.application({app_id: app.id})" style="cursor:pointer">\n        <td md-cell>{{app.user.first_name}} </td> \n        <td md-cell>{{app.user.last_name}}</td> \n\n        <td md-cell> <app-status data="app" date="true"></app-status></td>\n \n      </tr>\n    </tbody>\n  </table>\n</md-table-container>\n\n\n</md-card>\n\n\n\n\n\n</div>\n</div>\n\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseArray","$timeout","$filter","$firebaseObject",function e(t,n,a,i,r){function s(e){var t=f.apps[e].id;firebase.database().ref("/applications").child(t).child("for").on("value",function(t){f.apps[e].for=t.val(),d(t.val().user_id,e)})}function l(e){var t=f.apps[e].id,n=firebase.database().ref("/applications").child(t).child("meta");f.apps[e].meta=r(n)}function d(e,t){var n=firebase.database().ref("/profiles/"+e+"/com");f.apps[t].user=r(n)}function c(e){var t=!1;return f.statuses[e.meta.status]&&f.statuses[e.meta.status].active&&(t=!0),t}function u(e){console.log("transfer to location "+e),f.selected.forEach(function(t){console.log(t.id);var n={staff_location_id:e};h.child(t.id).child("for").update(n).catch(function(e){console.log(e)})})}(0,o.default)(this,e);var f=this;f.apps=[],f.selected=[],f.filterList=c,f.transferSelected=u;var p=firebase.database().ref("locations_public");f.locations=n(p),f.query={order:["meta.status","user.first_name"],limit:5,page:1};var m=!1,v=firebase.database().ref("/locations/"+t.location_id+"/staff_app_index");v.on("value",function(e){e.forEach(function(e){if(!m||e.val()>=13){var t={id:e.key},n=f.apps.push(t);n--,s(n),l(n)}})});var h=firebase.database().ref("/applications");f.statuses={1:{text:"started"},8:{text:"cancelled"},10:{text:"submitted"},11:{text:"in review"},12:{text:"denied"},13:{text:"accepted"},30:{text:"arrived"},70:{text:"alumni"}},f.statuses[10].active=!0,f.statuses[11].active=!0,f.statuses[13].active=!0,f.statuses[30].active=!1,f.statuses[70].active=!1}];exports.default=i},function(e,exports,t){var n=t(663);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staffApps{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(665),l=n(s),d=o.default.module("siteSettings",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("settings",{url:"/settings",component:"siteSettings"})}]).component("siteSettings",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(666),o=n(a),i=t(667),r=n(i);t(668);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n   \n      <!--<md-nav-item  md-nav-sref="settings.permissions" name="settings.permissions">Permissions</md-nav-item>-->\n      <!--<md-nav-item  md-nav-sref="staff.alumni" name="staff.alumni">Alumni Staff</md-nav-item>\n      <md-nav-item  md-nav-sref="staff.apps" name="staff.apps">Staff Applications</md-nav-item>-->\n\n\n\n</md-nav-bar>\n\n\n<ui-view> \n\n\n\n<md-card flex="50">\n      <md-card-content>\nCurrent location: \n\n<!--<md-select  ng-model="$ctrl.location_id" ng-change="$ctrl.changeLoc()">\n\n<md-option ng-repeat="loc in $ctrl.locations" value="{{loc.id}}"> {{loc.name}}</md-option>\n\n</md-select>-->\n      </md-card-content>\n\n<input  ng-model="$ctrl.location_id" ng-change="$ctrl.changeLoc()">\n\n</md-card>\n\n\n<md-card>\n<md-card-content>\n\n<site-task-list></site-task-list>\n\n</md-card-content>\n</md-card>      \n\n\n\n\n\n\n</ui-view>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray","Site","$timeout",function e(t,n,a){(0,o.default)(this,e);var i=this;i.location_id=n.location_id,i.changeLoc=function(){n.location_id=i.location_id};var r=firebase.database().ref("locations_public");i.locations=t(r)}];exports.default=i},function(e,exports,t){var n=t(669);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".siteSettings{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(671),l=n(s),d=o.default.module("base",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base",{url:"/base",component:"base"})}]).component("base",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(672),o=n(a),i=t(673),r=n(i);t(674);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<md-content>\n<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n   \n      <md-nav-item  md-nav-sref="base.info" name="base.info">Info</md-nav-item>\n      <md-nav-item  md-nav-sref="base.notices" name="base.notices">Notices</md-nav-item>\n      <md-nav-item  md-nav-sref="base.visaRequirements" name="base.visaRequirements">Visa Requirements</md-nav-item>\n      <md-nav-item  md-nav-sref="base.permissions" name="base.permissions">Permissions</md-nav-item>\n\n\n\n</md-nav-bar>\n</md-content>\n\n<ui-view> loading....</ui-view>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$rootScope","$state",function e(t,n){(0,o.default)(this,e);var a=this;t.$on("$viewContentLoaded",function(){a.current=n.current.name})}];exports.default=i},function(e,exports,t){var n=t(675);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".base{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(677),l=n(s),d=o.default.module("baseInfo",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.info",{url:"/info",component:"baseInfo"})}]).directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){function o(){a.$setViewValue(t.html())}a.$render=function(){t.html(a.$viewValue||"")},t.bind("blur keyup change",function(){e.$apply(o)})}}}).component("baseInfo",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(678),o=n(a),i=t(679),r=n(i);t(680);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-align="center">\n<md-card flex-gt-sm="75">\n<md-card-content>\n  <h2>Base info</h2>\n <b>Staff Fee: {{$ctrl.info.currencySym}}<span contenteditable ng-model="$ctrl.info.staff_fee"></span> <br>\n Mission Builder Fee: {{$ctrl.info.currencySym}}{{$ctrl.info.mission_builder_fee}}</b> (if longer than 4 weeks)<br>\n <b>Short Term Staff Fee: {{$ctrl.info.currencySym}}{{$ctrl.info.short_term_staff_fee}}</b> (less than 3 months )\n<b>Base housing</b>\n<br>\nlease\n\n\n</md-card-content>\n</md-card>\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseObject","Site","$scope",function e(t,n,a){(0,o.default)(this,e);var i=this,r=firebase.database().ref("locations_public").child(n.location_id);i.info=t(r),a.$watch(function(){return i.info.$value},function(e){i.info.$save()},!0)}];exports.default=i},function(e,exports,t){var n=t(681);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".baseInfo{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{
value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(683),l=n(s),d=o.default.module("baseNotices",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.notices",{url:"/notices",component:"baseNotices"})}]).component("baseNotices",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(684),o=n(a),i=t(685),r=n(i);t(686);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n\n\n<div layout="row" layout-align="center">\n\n<div  flex flex-gt-md="60">\n\n<md-card>\n  <md-card-content>\n<i class="fa fa-info fa-3x" aria-hidden="true"></i> Location specific notices..<br>\n Permission needed to change things here: <a ui-sref="base.permissions">"can_edit_location_notices"</a>\n<br>last update: <span am-time-ago="$ctrl.notices.lastSave" ></span> by: {{$ctrl.lastSaveUser.first_name}} {{$ctrl.lastSaveUser.last_name | limitTo:1}}.\n\n</md-card-content>\n</md-card>\n\n\n<md-card>\n  <md-card-content>\n    <span class="md-caption">(Displayed on application when nationality is selected)</span>\n<md-input-container class="md-block">\n  <label>\nNeed Invitation Letter (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.need_invitation" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nNeed Invitation Letter (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.need_invitation" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n\n</md-card-content>\n</md-card>\n\n<md-card>\n<md-card-content>\n<span class="md-caption">(Displayed on application when nationality is selected)</span>\n\n<md-input-container class="md-block">\n  <label>\nNeed Entry Visa (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.need_entry_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nNeed Entry Visa (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.need_entry_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n\n  </md-card-content>\n</md-card>\n\n\n<md-card>\n<md-card-content>\n<span class="md-caption">(Displayed on application when nationality is selected)</span>\n\n<md-input-container class="md-block">\n  <label>\nNeed Visa Extention (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.need_visa_extention" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nNeed Visa Extention (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.need_visa_extention" ng-change="$ctrl.save()" ></textarea>\n</md-input-container>\n\n  </md-card-content>\n</md-card>\n\n\n<md-card>\n<md-card-content>\n<span class="md-caption">(Displayed on application when nationality is selected)</span>\n\n<md-input-container class="md-block">\n  <label>\nCan Not Process Visa (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.can_not_process_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nCan Not Process Visa (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.can_not_process_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n\n  </md-card-content>\n</md-card>\n\n</div>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseObject","$scope","$timeout","Auth",function e(t,n,a,i,r){(0,o.default)(this,e);var s=this,l=firebase.database().ref("locations_public").child(t.location_id).child("notices");s.notices=n(l),l.on("value",function(e){var t=firebase.database().ref("profiles").child(e.val().lastSaveBy).child("com");s.lastSaveUser=n(t)}),s.save=function(){s.notices.$save().then(function(){l.child("lastSave").set(firebase.database.ServerValue.TIMESTAMP),l.child("lastSaveBy").set(r.$getAuth().uid)}).catch(function(e){})}}];exports.default=i},function(e,exports,t){var n=t(687);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".baseNotices{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(689),l=n(s),d=o.default.module("basePermissions",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.permissions",{url:"/permissions",component:"basePermissions"})}]).component("basePermissions",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(690),o=n(a),i=t(691),r=n(i);t(692);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<div layout="row" layout-align="center"> \n\n<md-card flex="75">\n<md-card-content>\n<div ng-repeat="(key,item) in $ctrl.perms">\n  <b>{{key}} :</b> \n  \n  <div ng-repeat="user in item">{{user.first_name}}  </div>\n\n</div>\n</md-card-content>\n<md-card>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$timeout",function e(t,n){(0,o.default)(this,e);var a=this;a.perms={};var i=firebase.database().ref("locations/"+t.location_id+"/perms");i.on("child_added",function(e){a.perms[e.key]={},angular.forEach(e.val(),function(t,o){var i=o;console.log("UserID: ",i),firebase.database().ref("/profiles/"+i+"/com").on("value",function(t){null!=t.val()&&n(function(){var n=t.val();n.id=t.key,a.perms[e.key][i]=n})},function(e){console.error(e)})})},function(e){console.error(e)})}];exports.default=i},function(e,exports,t){var n=t(693);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".basePermissions{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(695),l=n(s),d=o.default.module("baseVisaRequirements",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.visaRequirements",{url:"/visaRequirements",component:"baseVisaRequirements"})}]).component("baseVisaRequirements",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(696),o=n(a),i=t(697),r=n(i);t(698);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-align="center">\n\n<div  flex flex-gt-md="75">\n<md-card>\n  <md-card-content>\n     Permission needed to change things here: <a ui-sref="base.permissions">"can_edit_location_visa_requirements"</a>\n\n   <div layout="row"> \n   <div flex> Nations:</div>\n   <div flex> need_invitation</div>\n   <div flex> need_entry_visa</div>\n   <div flex> need_visa_extention</div>\n   <div flex> can_not_process_visa</div>\n\n</div>\n<div ng-repeat="item in $ctrl.nations_index"  class="row-hover" >\n\n<div  layout="row" >\n<div flex>{{item.$value}} </div>\n<div flex><md-checkbox ng-model="nations[item.$id].need_invitation"  aria-label="need_invitation"></md-checkbox>  </div>\n<div flex><md-checkbox ng-model="nations[item.$id].need_entry_visa"  aria-label="need_entry_visa"></md-checkbox>  </div>\n<div flex><md-checkbox ng-model="nations[item.$id].need_visa_extention"  aria-label="need_visa_extention"></md-checkbox>  </div>\n<div flex><md-checkbox ng-model="nations[item.$id].can_not_process_visa"  aria-label="can_not_process_visa"></md-checkbox>  </div>\n\n</div>\n\n</div>\n  </md-card-content>\n</md-card>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray","$firebaseObject","Site","$scope",function e(t,n,a,i){(0,o.default)(this,e);var r=this,s=firebase.database().ref("/phrases/nations/en"),l=firebase.database().ref("/locations_public").child(a.location_id).child("nations");n(l).$bindTo(i,"nations"),r.nations_index=t(s)}];exports.default=i},function(e,exports,t){var n=t(699);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".row-hover:hover{background-color:#f5f5f5}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(701),l=n(s),d=o.default.module("baseProjects",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("projects",{url:"/projects",component:"baseProjects"})}]).component("baseProjects",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(702),o=n(a),i=t(703),r=n(i);t(704);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n<div layout="row" layout-align="center"> \n\n<md-card flex-gt-xs="75">\n<md-card-content>\nBase Projects: <a> Add Project</a>\n\n<div ng-repeat="(key,item) in $ctrl.projects">\n  <h1>{{item.name}} :</h1> \n  <div>\n    <b layout="row">\n      <div flex >Task </div>\n        <div flex layout="row">\n          <div flex> Cost Estimate</div>\n          <div flex> Fund</div>\n          <div flex> Approved by</div>\n        </div>  \n      <div > Status</div>\n      </b>\n      <md-divider></md-divider>\n\n  <div ng-repeat="(tKey , task) in item.tasks" class="row-hover" ng-click="$ctrl.editTask($event, item.$id, tKey )" >\n    <div layout="row">\n    <div flex>{{task.name}}</div>\n    <div flex layout="row"  ng-if="task.cost_estimate" >\n        <div flex>{{task.cost_estimate}}</div>\n        <div flex> {{$ctrl.funds[task.fund_id].name}}</div>\n        <div flex > </div>\n    </div> \n\n    <div > {{task.status}}</div>\n    </div>\n<md-divider></md-divider>\n\n  </div>\n  </div>\n  <a ng-click="$ctrl.editTask($event, item.$id )" > Add Task / Item</a>\n  \n  \n</div>\n</md-card-content>\n<md-card>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray","Site","$firebaseObject",function e(t,n,a){function i(e,t,a){var o='<md-dialog aria-label="dialog"> <md-dialog-content >  <base-project-task-edit task-id="'+a+'" project-id="'+t+'"  ></base-project-task-edit>  </md-dialog-content><md-dialog-actions>    <md-button ng-click="closeDialog()" class="md-primary">      Close Dialog </md-button> </md-dialog-actions></md-dialog>';n.showDialog(e,o),console.log(o)}(0,o.default)(this,e);var r=this;r.editTask=i;var s=firebase.database().ref("locations/"+n.location_id+"/projects");r.projects=t(s);var l=firebase.database().ref("locations/"+n.location_id+"/funds");r.funds=a(l)}];exports.default=i},function(e,exports,t){var n=t(705);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".baseProjects{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(707),l=n(s),d=o.default.module("search",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("search",{url:"/search",component:"search"})}]).component("search",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(708),o=n(a),i=t(709),r=n(i);t(710);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n<div layout="row" layout-align="center">\n<md-card  flex-gt-md="60" flex>\n\n<md-card-content>\n<md-input-container>\n<label>Search</label>\n<input ng-model="$ctrl.site.searchString" ng-change="$ctrl.goSearch()">\n</md-input-container>\n\n <md-list>   \n <md-list-item ng-repeat="item in $ctrl.results"  > \n\n{{item}}\n <div flex="50" ui-sref="profile({user_id:item._id})" style="cursor:pointer">\n <img height="35px" ng-src="{{item._source.avatar_200}}" > \n\n{{item.first_name}} {{item.last_name}}\n</div>\n<div flex="50">\n<div ng-repeat="app in item.applications | orderBy:\'type_text\'" ><a href="{{API_URL}}/applications/view/{{app.id}}" > {{app.type_text}}</a></div>\n</div>\n<md-divider flex="100"></md-divider>\n  </md-list-item>\n</md-list>\n<md-progress-circular ng-if="$ctrl.data.searching && $ctrl.data.searchString.length>0 " md-mode="indeterminate"  ></md-progress-circular>\n\n</md-card-content>\n\n\n</md-card>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$timeout","$firebaseObject",function e(t,n,a){function i(){r.results={},console.log(t.searchString);firebase.database().ref("profiles_search").orderByChild("string").startAt(t.searchString).endAt(t.searchString+"Ô£ø").limitToFirst(10).on("value",function(e){n(function(){r.results=e.val()})})}(0,o.default)(this,e);var r=this;r.site=t,r.goSearch=i;firebase.database().ref("search")}];exports.default=i},function(e,exports,t){var n=t(711);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".search{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(713),l=n(s),d=o.default.module("profile",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("profile",{url:"/profile/:user_id",component:"profile"})}]).component("profile",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(714),o=n(a),i=t(715),r=n(i);t(716);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-align="center">\n  \n\n<md-card  flex="100" flex-gt-md="70">\n<md-card-content>\n\n<div  layout="row" >  \n<div flex>\n\n<h1 class="md-display-1">{{$ctrl.profile.com.first_name}} {{$ctrl.profile.com.last_name}}<br>\n<small class="md-subhead">{{$ctrl.profile.passport.first_name | uppercase}} {{$ctrl.profile.passport.middle_name | uppercase}} {{$ctrl.profile.passport.last_name | uppercase}}\n</small>\n</h1>\n\n\n{{$ctrl.profile.com.nationality}}<br>\n {{$ctrl.profile.com.gender}} {{$ctrl.calculateAge($ctrl.profile.com.dob)}} <span style=" text-transform: capitalize;">{{$ctrl.profile.com.marital_status}}<span><br>\n{{$ctrl.profile.com.dob | date}}  <br>\n<div ng-repeat="lang in $ctrl.languages">{{lang.text}}\n  <span style="color:gray">\n  <span ng-if="lang.text !=\'English\'" > ({{lang.en_text}}) </span>\n  {{lang.prof}}% </span>\n     </div>\n\n\n\n<br>\n<md-divider></md-divider>\n</div>\n\n<div flex >\n<div style="float:right; text-align:center; max-height:300px;   max-width:300px;">\n<img style="width:100%" align="right" ng-src="{{$ctrl.avatar_640}}" ><br>\n\n<a href="" class="no-print"\n ui-sref="userPhotoUpload({user_id:$ctrl.profile.$id })">change photo</a>\n</div>\n</div>\n\n</div>\n<br>\n<div>\n  {{$ctrl.user_id}}\n<contact-info user-id="$ctrl.user_id" >{{$ctrl.user_id}}</contact-info>\n</div>\n<div> \nApplications:\n<div ng-repeat="(key,app) in $ctrl.profile.app_index" >\n  <div ng-if="app.for.school_id" ui-sref="school.application({school_id: app.for.school_id, app_id:key})">\n    School : {{app.for.school_id}} status: {{app.status}}\n</div>\n<div ng-if="app.for.staff_location_id" ui-sref="staff.application({app_id:key})">\n    Staff @ : {{app.for.staff_location_id}} status: {{app.status}}\n</div>\n\n </div>\n\n</div>\n\n\n\n</md-card-content>\n</md-card>\n\n\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject","$timeout",function e(t,n,a){(0,o.default)(this,e);var i=this;i.user_id=t.user_id;var r=firebase.database().ref("profiles/"+i.user_id);i.profile=n(r),r.on("value",function(e){console.log(e.val().com.avatar_640),firebase.storage().refFromURL(e.val().com.avatar_640).getDownloadURL().then(function(e){a(function(){}),i.avatar_640=e})})}];exports.default=i},function(e,exports,t){var n=t(717);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".profile{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(719),l=n(s);t(724);var d=o.default.module("applicationView",[r.default,"duScroll"]).component("applicationView",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(720),o=n(a),i=t(721),r=n(i);t(722);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout="row" layout-wrap style=" height: 100%;">\n<div flex-gt-md="15"  class="no-print"  >\n\n<div  du-scroll-container="scroll-container-1" du-spy-context class="page-index " style="position:fixed; padding:15px; "  hide-xs hide-sm hide-md >\n\n<!--<a ui-sref="school.studentList({schoolId: $ctrl.app.school_id})">< back </a><br>-->\n<br>\n<a du-smooth-scroll="top" du-scrollspy  offset="50"  >Top </a><br>\n<a du-smooth-scroll="adminNote" du-scrollspy  offset="50"  >Admin Notes </a><br>\n<!--<a du-smooth-scroll="transport"  du-smooth-scroll du-scrollspy  offset="50" >Travel Info </a><br>-->\n<!--<a du-smooth-scroll="visa"  du-smooth-scroll du-scrollspy  offset="50" >Visa </a><br>-->\n<a du-smooth-scroll="contact"  du-smooth-scroll du-scrollspy  offset="50" >Contact </a><br>\n<a du-smooth-scroll="health"  du-smooth-scroll du-scrollspy  offset="50" >Health </a><br>\n<a du-smooth-scroll="questions" du-smooth-scroll du-scrollspy  offset="50" >Questions </a><br>\n<a du-smooth-scroll="reference1"  du-smooth-scroll du-scrollspy  offset="50" >Reference 1 </a><br>\n<a du-smooth-scroll="reference2"  du-smooth-scroll du-scrollspy  offset="50" >Reference 2 </a><br>\n\n</div>\n</div>\n\n<div flex="100" flex-gt-md="70" style=" height: 100%;" >\n\n<section id="top">\n<!-- <md-subheader  flex-offset-gt-md="15" flex-gt-md="70">Top</md-subheader> -->\n<md-card>\n<md-card-content layout="row">\n<div flex>\n\n<h1 class="md-display-1">{{$ctrl.user.com.first_name}} {{$ctrl.user.com.last_name}}<br>\n<small class="md-subhead">{{$ctrl.user.passport.first_name | uppercase}} {{$ctrl.user.passport.middle_name | uppercase}} {{$ctrl.user.passport.last_name | uppercase}}\n</small>\n</h1>\n\n\n{{$ctrl.user.com.nationality}}<br>\n {{$ctrl.user.com.gender}} {{$ctrl.calculateAge($ctrl.user.com.dob)}} <span style=" text-transform: capitalize;">{{$ctrl.user.com.marital_status}}<span><br>\n{{$ctrl.user.com.dob | date}}  <br>\n<div ng-repeat="lang in $ctrl.languages">{{lang.text}}\n  <span style="color:gray">\n  <span ng-if="lang.text !=\'English\'" > ({{lang.en_text}}) </span>\n  {{lang.prof}}% </span>\n     </div>\n\n\n\n<br>\n<md-divider></md-divider>\n<app-status app-id="$ctrl.app_id" date="true" who="true"></app-status>\n<ref-status data="ref"  ng-repeat="ref in $ctrl.references"></ref-status><br>\n\nvisa status<br>\n<md-checkbox >PostCard Sent(not working yet)</md-checkbox>\n\n\n</div>\n<div flex >\n<div style="float:right; text-align:center; max-height:300px;   max-width:300px;">\n<img style="width:100%" align="right" ng-src="{{$ctrl.user.com.avatar_1080}}" ><br>\n<a href="" class="no-print"\n ui-sref="userPhotoUpload({user_id:$ctrl.user_id })">change photo</a>\n</div>\n</div>\n\n</md-card-content>\n</md-card>\n\n</section>\n\n\n<!--Admin Notes Section-->\n<md-card id="adminNote">\n<md-card-content>\n\n<app-admin-notes app-id="$ctrl.app_id"></app-admin-notes>\n\n</md-card-content>\n</md-card>\n<!--End of Admin Notes Section-->\n\n<!--\n<section id="transport">\n<md-card>\n<md-card-content class="in_dev">\n<h4 class="md-title" > Travel Info</h4>\n\n<md-button aria-label="Add Travel" class="pull-right md-fab md-mini" \n    ng-click="$ctrl.travelEditDialog({user_id: $ctrl.user.com.id})"\n\n><i class="fa-plus fa"></i> </md-button>\n\n<div ng-repeat="t in $ctrl.transports" layout="row" align="space-between center">\n<div flex="25" class="md-headline" style="text-align:right; padding:20px;">{{t.type == \'arr\'?\'Arrival\':\'Departure\'}}  </div>\t\n\n<div flex><b>{{t.station_name}}</b><br>\n{{t.time.format("MMM DD  h:mmA") }}<br>\nride requested: {{t.ride_requested}}<br>\nflight: {{t.flight_num}}<br>\nnotes: {{t.user_note}} <br>\n{{t.staff_note}}\n\n</div>\n\n</div>\n</md-card-content>\n</md-card>\n</section>-->\n<!--\n<section id="visa">\n<md-card>\n<md-card-content class="in_dev">\n<h4 class="md-title" > Visa Info</h4>\n\n{{$ctrl.visas|json}}\n\n</md-card-content>\n</md-card>\n</section>-->\n\n<!--<md-card>\n<md-card-content class="in_dev">\n\n\nInvoices and base account statement. \n\n</md-card-content>\n</md-card>-->\n\n\n<md-card>\n<md-card-content>\n<section id="contact">\n<contact-info user-id="$ctrl.user_id" ng-if="$ctrl.user_id"></contact-info>\n</section>\n</md-card-content>\n</md-card>\n\n<md-card>\n<md-card-content>\n<section id="health">\n<health-info user-id="$ctrl.user_id" ng-if="$ctrl.user_id"></health-info>\n</section>\n</md-card-content>\n</md-card>\n\n\n<section id="questions">\n<md-card>\n<md-card-content class="in_dev">\n<h4 class="md-subhead" >\nWhy do you want to attend </h4>\n<span class="md-body-1">{{$ctrl.app.why_school}}</span>\n\n<h4 class="md-title">\nHow would you describe your relationship with your family? \nDo they support you in your desire to come to YWAM?</h4>\n<span class="md-body-1">{{$ctrl.app.family}}</span>\n\n\n</md-card-content>\n</md-card>\n</section>\n\n\n\n<section id="reference1"  >\n\n\n<reference-display data="$ctrl.app.reference1"></reference-display>\n\n\n</section>\n<section id="reference2"  >\n\n\n<reference-display data="$ctrl.app.reference2"></reference-display>\n\n\n</section>\n\n\n<section id="referenceCommon"  >\n<md-card >\n<md-card-content>\n\n<canvas  class="chart chart-bar" height="75"\n  chart-data="$ctrl.ref_chart" \n  chart-labels="$ctrl.ref_chart_labels" \n  chart-series="$ctrl.ref_chart_series"\n  chart-options="$ctrl.ref_chart_options">\n\n</canvas>\n\n<canvas  class="chart chart-pie" height="75"\n  chart-data="$ctrl.ref_chart2" \n  chart-labels="$ctrl.ref_chart2_labels" \n  chart-options="{legend: {display: true,position:\'bottom\'}}"\n  >\n\n</canvas>\n\n</md-card-content>\n</md-card>\n</section>\n\n\n<md-card>\n<div ng-repeat="item in $ctrl.history">\n  \n  {{item}}\n  </div>  \n  \n  \n</md-card>\n\n<div class="no-print">\n<pre> Application:\n{{$ctrl.app |json}}\n </pre>\n\n<pre> User:\n{{$ctrl.user |json}}\n </pre>\n</div>\n\n</div>\n</div>\n\n\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject","$timeout","$document","Auth",function e(t,n,a,i,r){function s(e){var t=Date.now()-new Date(e).getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}(0,o.default)(this,e);var l=this;l.calculateAge=s,l.languages={},l.app_id=t.app_id,l.$onInit=function(){var e=firebase.database().ref("applications").child(l.app_id);e.on("value",function(e){l.app=e.val(),l.user_id=e.val().for.user_id;var t=firebase.database().ref("profiles").child(l.user_id);t.on("value",function(e){l.user=e.val(),t.child("com/languages").on("child_added",function(e){console.log(e.key);var t=e.key,n=firebase.database().ref("languages").child(t);n.on("value",function(e){console.log(e.val()),l.languages[e.key]=e.val(),l.languages[e.key].prof=l.user.com.languages[e.key],a(function(){})})}),t.child("passport/nation_id").on("value",function(e){var t=firebase.database().ref("/phrases/nations/en/").child(e.val());t.on("value",function(e){l.user.com.nationality=e.val(),console.log(e.val())}),a(function(){})})}),l.ref_chart_labels=["ambition","communication","emotion","initiative","leadership","moral","organization","punctual","reliable","servanthood","teachability","teamwork"],l.ref_chart_series=["Reference 1","Reference 2"],l.ref_chart_options={scales:{yAxes:[{display:!1}]}};var n=[];l.app.reference1&&l.app.reference1.form&&(n.push(l.app.reference1.form.scale.ambition),n.push(l.app.reference1.form.scale.communication),n.push(l.app.reference1.form.scale.emotion),n.push(l.app.reference1.form.scale.initiative),n.push(l.app.reference1.form.scale.leadership),n.push(l.app.reference1.form.scale.moral),n.push(l.app.reference1.form.scale.organization),n.push(l.app.reference1.form.scale.punctual),n.push(l.app.reference1.form.scale.reliable),n.push(l.app.reference1.form.scale.servanthood),n.push(l.app.reference1.form.scale.teachability),n.push(l.app.reference1.form.scale.teamwork));var o=[];l.app.reference2&&l.app.reference2.form&&(o.push(l.app.reference2.form.scale.ambition),o.push(l.app.reference2.form.scale.communication),o.push(l.app.reference2.form.scale.emotion),o.push(l.app.reference2.form.scale.initiative),o.push(l.app.reference2.form.scale.leadership),o.push(l.app.reference2.form.scale.moral),o.push(l.app.reference2.form.scale.organization),o.push(l.app.reference2.form.scale.punctual),o.push(l.app.reference2.form.scale.reliable),o.push(l.app.reference2.form.scale.servanthood),o.push(l.app.reference2.form.scale.teachability),o.push(l.app.reference2.form.scale.teamwork)),l.ref_chart=[n,o],l.ref_chart2_labels=["To Get Help","To escape bad env.","To grow","To get equipped","For Adventure"],l.ref_chart2=[];var i=0;l.app.reference1.form.why.get_help?i++:"",l.app.reference2.form.why.get_help?i++:"",l.ref_chart2.push(i);var i=0;l.app.reference1.form.why.to_escape?i++:"",l.app.reference2.form.why.to_escape?i++:"",l.ref_chart2.push(i);var i=0;l.app.reference1.form.why.to_grow?i++:"",l.app.reference2.form.why.to_grow?i++:"",l.ref_chart2.push(i);var i=0;l.app.reference1.form.why.get_equipped?i++:"",l.app.reference2.form.why.get_equipped?i++:"",l.ref_chart2.push(i);var i=0;l.app.reference1.form.why.for_adventure?i++:"",l.app.reference2.form.why.for_adventure?i++:"",l.ref_chart2.push(i)},function(e){console.error(e)})}}];exports.default=i},function(e,exports,t){var n=t(723);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".in_dev{border:1px solid red}.in_dev:before{color:red;content:'Section in development / (may not be fully working) '}.page-index a{cursor:pointer;width:100%}.page-index a:hover{color:#106cc8;text-decoration:underline}.page-index a.active{font-weight:700}",""])},,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(727),l=n(s),d=o.default.module("forgotPassword",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("forgotPassword",{url:"/forgot_password",component:"forgotPassword"})}]).component("forgotPassword",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(728),o=n(a),i=t(729),r=n(i);t(730);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='<div layout layout-align="center center">\n  <md-card>\n    <md-card-content>\n      Reset Password with link sent to email\n      <br>\n      <form ng-submit="$ctrl.send()" ng-if="!$ctrl.message">\n      <md-input-container>\n        <label>Email</label>\n    <input ng-model="$ctrl.email">\n      </md-input-container>\n    <md-button type="submit">Send</md-button>\n      </form>\n<h1>\n    {{$ctrl.message}}\n</h1>\n    <login-buttons ng-if="$ctrl.message"></login-buttons>\n\n    <md-card-content>\n  </md-card>\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth",function e(t){(0,o.default)(this,e);var n=this;n.send=function(){var e=n.email;t.$sendPasswordResetEmail(e).then(function(e){console.log(e),n.message="Please check your email"},function(e){console.log(e)})}}];exports.default=i},function(e,exports,t){var n=t(731);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".forgotPassword{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),s=t(733),l=n(s),d=o.default.module("prayerWall",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("prayer",{url:"/prayer",component:"prayerWall",resolve:{currentAuth:["Auth",function(e){return e.$waitForSignIn()}]}})}]).component("prayerWall",l.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(734),o=n(a),i=t(735),r=n(i);t(743);var s={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=s},function(e,exports){e.exports='\n\n\n<!-- Jesus thank you for the ability to communicate. I pray that this news_item window can be a platform on which the whole staff body can be united. \n\tI pray that this will be a source of insperation, and encouragement. Holy Spirit may you release words of life through this window. I pray that such joy and love will be seen here. \n\tFather may this serve as a way to keep us all on the same page. Thank you for the way this site has progressed over the years, may this be something useful, in Jesus name. Amen!\t -->\n\t\n<!-- \t<div style="display:inline-block; width: 30%; margin-left: 150px"  >\n\tCurrent Topic: \n\t<form  ng-submit="changeTopic()">\n\t<input  class="form-control" type="text" ng-model="topic.topic"   /></form>\n\tSet by {{topic.user_name}} on {{topic.modifed | date }}\n\t\n\t</div> -->\n<div layout="row" layout-wrap layout-align="center" style="color:gray">\t \n<div  class="md-display-1"> Prayer Wall of </div>\t\t\n<div  class="md-display-1" ng-repeat="loc in $ctrl.locations">&nbsp;{{loc.name }}<span ng-if="!$last">,</span></div>\n</div> \n\n <div class="grid prayerWall"  >\n\n  \n  <div class="grid-item"  \n   style="margin: 1.5em 1em; font-family: \'Asap\', sans-serif; font-style: italic; color:rgba(0,0,0,0.9);  " \n\n    ng-class="{\'sticky-note-small\': !$ctrl.new_prayer || $ctrl.new_prayer.length < 75,\n  \t\t\t\t  \'sticky-note\': $ctrl.new_prayer.length > 74 && $ctrl.new_prayer.length < 330,\n  \t\t\t\t  \'small-paper\': $ctrl.new_prayer.length > 330 \n  \t\t\t\t  \n  \t\t\t\t   }"   >\n\t\t\n\t\t<md-input-container style="width:100%">\n\t\t<textarea style="line-height:initial; " ng-model="$ctrl.new_prayer" ng-change="$ctrl.runMasson()"> </textarea>\n\t\t\t\t<md-button style=" bottom:0px;  font-style: normal;" ng-click="$ctrl.postPrayer()">Post New</md-button>\n\n\t\t</md-input-container>\n\t\t\n\t\t\n\t\n\t\n  </div>\n\n\n<!--on-finish-render="ngRepeatFinished"-->\n  <div class="grid-item" ng-repeat="prayer in $ctrl.prayers | orderBy:\'-date\'" \n   style="margin: 1.5em 1em; font-family: \'Asap\', sans-serif; font-style: italic; color:rgba(0,0,0,0.9);  " \n\n    ng-class="{\'sticky-note-small\': prayer.text.length <= 90,\n  \t\t\t\t  \'sticky-note\': prayer.text.length > 90 && prayer.text.length <= 350,\n  \t\t\t\t  \'small-paper\': prayer.text.length > 350 && prayer.text.length <= 640,\n  \t\t\t\t  \'big-paper\':prayer.text.length > 640,\n  \t\t\t\t  \'tilt\':prayer.text.length < 330 }"   >\n\t\t\n\t\t{{prayer.text}}\n\t\t<!--{{prayer.text.length}}-->\n\t\t\n\n\t\t<a ng-click="$ctrl.amen(prayer)" style="cursor:pointer">  Amen {{prayer.amen_count > 0? \'x \'+ prayer.amen_count:\'\'}} </a>\n\n\t\t<span class="note-signature">\n\t\t\t\n         <div style="margin-left: 5px">  \n\t\t{{prayer.user.first_name}} {{prayer.user.last_name}}\n\t\t</div>  \n\t\t</span>\n\t\t<span class="note-info">\n\t\t\t \n\t\t\t\t{{prayer.date | date :\'shortDate\'}}\n\t\t\t\t\n\t\t\t    <span ng-show="prayer.user_id == $ctrl.user_id" \n\t\t\t\t\t  ng-click="$ctrl.deletePrayer(prayer)"\n\t\t\t\t\t  style="cursor:pointer;">\t\n\t\t\t\t<i class="fa fa-trash"></i>\n\t\t\t\t</span>\n\t\t\t    \n\t\t\t    \n\t\t</span>\n\t\t\n\t\n\t\n  </div>\t\n\n\n</div>\n';
},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=t(736),r=n(i),s=["$firebaseArray","$timeout","Site","$firebaseObject",function e(t,n,a,i){function s(){var e={};e.text=u.new_prayer,e.user_id=u.user_id,e.date=firebase.database.ServerValue.TIMESTAMP,f.push(e),u.new_prayer=""}function l(e){e.amen_count++,f.child(e.id).child("amens").child(u.user_id).set(!0)}function d(e){var t=u.prayers.indexOf(e);u.prayers.splice(t,1),f.child(e.id).remove()}function c(){var e=document.querySelector(".grid");new r.default(e,{transitionDuration:"0.8s",itemSelector:".grid-item",columnWidth:30});console.log("ran masson")}(0,o.default)(this,e);var u=this;u.prayers=[],u.runMasson=c;var f=firebase.database().ref("prayers");f.on("child_added",function(e){var t=e.val();t.id=e.key,t.user={},t.amen_count=e.child("amens").numChildren();var n=u.prayers.push(t);n-=1;var a=firebase.database().ref("/profiles/"+t.user_id+"/com");u.prayers[n].user=i(a)}),f.on("value",function(e){n(c,500)});var p=firebase.database().ref("locations_public");u.locations=i(p),u.postPrayer=s,u.deletePrayer=d,u.amen=l,u.user_id=a.user.id}];exports.default=s},,,,,,,,function(e,exports,t){var n=t(744);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".sticky-note-small{height:7.5em;width:10.5em;padding:.5em!important}.sticky-note,.sticky-note-small{text-decoration:none;color:#000;background:#ffc;display:block;box-shadow:3px 3px 7px rgba(33,33,33,.5);position:relative}.sticky-note{height:17em;width:17em;padding:1em!important}.sticky-note:nth-child(7n){background:#cfc}.sticky-note:nth-child(9n){background:#ccf}.sticky-note:nth-child(8n){background:#fcc}.small-paper{max-width:36em;min-height:5em}.big-paper,.small-paper{text-decoration:none;color:#000;background:#fff;display:block;padding:2em!important;box-shadow:4px 4px 7px rgba(33,33,33,.5);position:relative}.big-paper{max-width:56em}.note-info{right:3px;text-align:right}.note-info,.note-signature{color:gray;font-size:90%;position:absolute;bottom:3px}.note-signature{left:3px}.tilt:nth-child(even){-webkit-transform:rotate(3deg);position:relative;top:5px}.tilt:nth-child(2n){-webkit-transform:rotate(-2deg);position:relative;top:-10px}.tilt:nth-child(3n){-webkit-transform:rotate(-4deg);position:relative;top:-5px}.tilt:nth-child(4n){-webkit-transform:rotate(5deg);position:relative;top:-10px}.small-photo-circle{width:30px;height:30px;overflow:hidden;border-radius:30px;box-shadow:0 2px 2px rgba(0,0,0,.075);display:inline-block;position:absolute;bottom:0;margin:0!important}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(746),o=n(a);t(747);var i={template:o.default,restrict:"E"};exports.default=i},function(e,exports){e.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\n<div class="app" >\n \n <div layout="row" style="height:100%" >\n     <div style="height:100%; z-index:3 " md-whiteframe="4" class="no-print">\n    <sidenav ></sidenav>\n     </div>\n\n\n    <!--Main Content Area-->\n    <div layout="column" flex  style="height:100%; " >            \n      <header class="no-print"></header>\n        <md-content flex style="height:100%; overflow:scroll;"  id="scroll-container-1"> \n            <div ui-view ></div>\n        </md-content> \n   \n    </div>    \n </div>\n\n</div>\n'},function(e,exports,t){var n=t(748);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".app{height:100%;background-color:$lightBgColor}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports){e.exports=[null,"Schools","German","Spanish"]},function(e,exports){e.exports={localhost:2,"staff.ywamsarasota.com":2,"staffapp-95f17.firebaseapp.com":4,"staff.ywamnuremberg.com":4,"staff.ywamherrnhut.com":1}}]);
//# sourceMappingURL=app.bundle.f3ac01ca4b225b81b1c0.js.map