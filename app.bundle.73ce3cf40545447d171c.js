webpackJsonp([0],[function(e,exports,t){t(14),e.exports=t(311)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=t(312),o=n(a),i=t(314),r=n(i),l=t(315),s=n(l),d=t(376),c=n(d),u=t(697),f=n(u);t(701),t(703);var m=t(709),p=n(m);t(711),t(712);var h=t(713),v=n(h),g=t(714),b=n(g),y=t(715),_=n(y);t(721),t(723),t(725),t(727),window.firebase=_.default;var x={apiKey:"AIzaSyBSBD_FNaMQZyd3h0mcv0ZMUt9QXY2m3f4",authDomain:"staffapp-95f17.firebaseapp.com",databaseURL:"https://staffapp-95f17.firebaseio.com",storageBucket:"staffapp-95f17.appspot.com"};_.default.initializeApp(x),o.default.module("app",[r.default,"ngMaterial",p.default,"pascalprecht.translate","firebase",s.default,c.default]).config(["$locationProvider","$translateProvider","$mdThemingProvider",function(e,t,n){"ngInject";t.translations("en",v.default).useStaticFilesLoader({prefix:"https://staffapp-95f17.firebaseio.com/phrases/",suffix:".json"}).registerAvailableLanguageKeys(["en","de","es"],{"en_*":"en","de_*":"de","es_*":"es","*":"en"}).determinePreferredLanguage().fallbackLanguage("en"),n.theme("default").primaryPalette("blue-grey").accentPalette("amber",{default:"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).backgroundPalette("grey")}]).run(["Site",function(e){"ngInject";e.location_id=b.default[location.hostname],e.location_id||console.warn("No location matching domain "+location.hostname)}]).run(["$transitions","Auth","$rootScope","$state",function(e,t,n,a){e.onStart({to:function(e){null==e.data||e.data.authRequired!==!0||t.$getAuth()||(n.$broadcast("showLoginDialog"),console.log("Not LOGGED in"))},from:function(e){a.previous={name:a.current.name,params:a.params}}})}]).component("app",f.default)},,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(316),r=n(i),l=t(318),s=n(l),d=t(320),c=n(d),u=t(322),f=n(u),m=t(324),p=n(m),h=t(333),v=n(h),g=t(339),b=n(g),y=t(345),_=n(y),x=t(351),w=n(x),k=t(357),M=n(k),j=t(364),P=n(j),S=t(370),O=n(S),A=o.default.module("app.common",[s.default,r.default,c.default,f.default,p.default,v.default,b.default,_.default,w.default,M.default,P.default,O.default]).name;exports.default=A},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(317),r=n(i),l=o.default.module("auth",[]).factory("Auth",r.default).name;exports.default=l},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){return e()};t.$inject=["$firebaseAuth"],exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(319),r=n(i),l=o.default.module("user",[]).factory("User",r.default).name;exports.default=l},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){var t={},n=function(){return t},a=function(){return t.isSignedIn},o=function(){angular.element(document.body)};return{getUser:n,isSignedIn:a,loginDialog:o}};t.$inject=["$mdDialog"],exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(321),r=n(i),l=o.default.module("school",[]).factory("School",r.default).name;exports.default=l},function(e,exports,t){(function(e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e,t,n){var a={apps:{},staff:{}},o=function(e,n){function o(e){var t=a.apps[e].id;firebase.database().ref("/applications").child(t).child("for").on("value",function(t){a.apps[e].for=t.val(),r(t.val().user_id,e)})}function i(e){var n=a.apps[e].id,o=firebase.database().ref("/applications").child(n).child("meta");a.apps[e].meta=t(o)}function r(e,n){var o=firebase.database().ref("/profiles/"+e+"/com");a.apps[n].user=t(o)}console.log("calling getApps for "+e),a.apps=[];var l=firebase.database().ref("/schools/"+e+"/app_index");l.on("value",function(e){e.forEach(function(e){if(!n||e.val()>=13){var t={id:e.key},r=a.apps.push(t);r--,o(r),i(r)}})});firebase.database().ref("/applications");return a.apps},i=function(t){function n(t){var n=t.key;console.log("adding or removing "+n),r.child(n).child("com").on("value",function(t){null!=t.val()?(a.staff[n]=t.val(),e(function(){})):(delete a.staff[n],console.log("deleted"),e(function(){}))})}function o(t){var n=t.key;console.log("adding or removing "+n),delete a.staff[n],console.log("deleted"),e(function(){})}var i=firebase.database().ref("/schools/"+t+"/staff"),r=firebase.database().ref("/profiles");return i.on("child_added",n),i.on("child_removed",o),a.staff},r=function(t){a.admins={};var n=firebase.database().ref("/schools/"+t+"/admin"),o=firebase.database().ref("/profiles");return n.on("child_added",function(t){var n=t.key;console.log(n),o.child(n).child("com").on("value",function(t){null!=t.val()?(a.admins[n]=t.val(),e(function(){})):delete a.admins[n]})}),a.admins},l=function(e){var n=firebase.database().ref("/schools/"+e+"/public");return a.public=t(n),a.public};return{getApps:o,getSchool:l,getStaff:i,getAdmins:r}};t.$inject=["$timeout","$firebaseObject","$firebaseArray"],exports.default=t}).call(exports,t(307))},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(323),r=n(i),l=o.default.module("site",[]).factory("Site",r.default).name;exports.default=l},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e,t,n){var a={location_id:null,user:{}};e.$onAuthStateChanged(function(e){if(e){var t=firebase.database().ref("profiles/"+e.uid+"/com");a.user.com=n(t),a.user.id=e.uid,console.log("we have changed user"+e.uid)}});var o=firebase.database().ref(".info/connected");return a.presence=n(o),a};t.$inject=["Auth","$timeout","$firebaseObject"],exports.default=t},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(325),s=n(l),d=o.default.module("header",[r.default]).component("header",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(326),o=n(a),i=t(327),r=n(i);t(329);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports=' <md-toolbar  md-whiteframe="1" >\n <div class="md-toolbar-tools">\n        <md-buttion ng-click="$ctrl.openLeftMenu()"\n                    class="md-icon-button md-primary"\n                    hide-gt-sm >  \n                      <i class="fa fa-bars"></i>\n        </md-buttion>\n\n     \n        <!--<h1 translate>HEADLINE</h1>-->\n        <span flex></span>\n    \n        <!--<md-select ng-model="$ctrl.langKey" \n                   md-on-close="$ctrl.changeLanguage()"\n                   aria-label="Change Language" >\n          <md-option value="de">Deutsch</md-option>\n          <md-option value="en"> English</md-option>\n          <md-option value="es" > Español</md-option>\n        </md-select>-->\n\n\n  <!--If not logged in show login button-->\n    <md-menu ng-hide="$ctrl.firebaseUser" > \n    <md-button  class="md-raised"  ng-click="$mdOpenMenu($event)">Sign In</md-button>\n  <md-menu-content  md-offset="20 0" width="4" md-position-mode="target-right target" style="padding:20px">\n<login-buttons></login-buttons>\n   </md-menu-content>  \n\n\n    </md-menu>\n\n<!--if logged in show avatar and menu with logout button-->\n    <md-menu ng-show="$ctrl.firebaseUser"  md-offset="40 0"  >\n     <div  ng-click="$mdOpenMenu($event)" style="height:48px">\n      \n      <img  alt=" "\n           style="border-radius: 50%; height:100%"\n           ng-src="{{$ctrl.user.com.avatar_200}}">\n      </div>     \n      <md-menu-content  width="3" >\n          <md-menu-item><md-button ui-sref="profile({user_id:$ctrl.user.id })"> Your Profile </md-button> </md-menu-item>\n         <md-menu-item><md-button ng-click="$ctrl.logout()">Sign Out</md-button></md-menu-item>\n      </md-menu-content>  \n\n    </md-menu>\n\n  </div>\n </md-toolbar>\n <div ng-hide="$ctrl.presence.$value">\n     <md-progress-linear md-mode="indeterminate"></md-progress-linear>\n </div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$translate","$mdSidenav","Auth","$state","Site",function e(t,n,a,i,r){(0,o.default)(this,e);var l=this;l.logout=function(){a.$signOut(),i.transitionTo("home")},l.user=r.user,l.presence=r.presence,a.$onAuthStateChanged(function(e){l.firebaseUser=e}),l.langKey=t.proposedLanguage()||"en",l.changeLanguage=function(){t.use(l.langKey)},l.openLeftMenu=function(){n("left").toggle()}}];exports.default=i},,function(e,exports,t){var n=t(330);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,"body,html{top:0;bottom:0;left:0;right:0;margin:0;padding:0;height:100%;line-height:1.42857143;font-size:14px}a{color:#337ab7;text-decoration:none}@page{margin:1pt}@media print{body{background:#fff;font-size:8pt;width:100%}.md-display-1{font-size:18pt!important;line-height:20pt!important}md-card{box-shadow:none!important;border:1px solid gray!important}.no-print,.no-print *{display:none!important}}.header{color:red}",""])},,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(334),s=n(l),d=o.default.module("sidenav",[r.default]).component("sidenav",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(335),o=n(a),i=t(336),r=n(i);t(337);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n  <md-sidenav class="sidenav"\n              md-component-id="left"\n              md-is-locked-open="$mdMedia(\'gt-sm\')"\n            \n              >\n\n  <md-content class="sidenav-content">\n          \n      <div class="sidenav-header"  ng-click="$ctrl.$state.go(\'home\')"  ng-dblclick="$ctrl.$state.go(\'settings\')" >\n      <img  aria-label="Logo" ng-src="logos/{{$ctrl.site.location_id}}/logo200px.png" width="100%" align="center" >\n      </div>\n  \n      <md-divider ></md-divider>               \n\n      <!--Search box-->\n      <md-input-container md-no-float class=" md-dark-theme md-block no-md-error " style=" margin:0px; ">\n      <md-icon class="fa fa-search" style="margin-left:15px; margin-top:5px "></md-icon>\n      <input ng-model="$ctrl.site.searchString"  ng-change="$ctrl.goSearch($ctrl.search_string)" type="text" placeholder="search"   >\n      </md-input-container>\n \n\n      <!-- NAVIGATION ITEMS -->\n      <div ng-repeat="item in $ctrl.nav" > \n            \n            <a class="side-menu-button"  \n              ng-click="$ctrl.sideBarNav(item)" \n              ng-class="{\'active\': item.active}"\n              layout="row" >\n            <span style="width:25px;">   \n            <i class="material-icons">{{item.md_icon}}</i> \n            <i class="{{item.fa_icon}}"></i> \n            </span>\n            <span flex >{{item.title}}</span>\n            <span ng-if="item.sub_nav"\n                  class="fa fa-chevron-down toggle-icon-thing" \n                  ng-class="{\'toggled\': item.active}"\n                  ></span>\n            </a>\n\n                  <!-- SUBITEMS -->\n                    <div ng-repeat="sub_item in item.sub_nav" class="sub_nav"  ng-if=" item.active" > \n                    <a class="ml-side-menu-button" layout ng-click="$ctrl.sideBarNav(sub_item)" ng-class="{\'active\': sub_item.active}">\n                    <span style="width:25px;">   \n                    <i class="material-icons">{{sub_item.md_icon}}</i> \n                    <i class="fa {{sub_item.fa_icon}}"></i> \n                    </span>\n                    <span >{{sub_item.title}}</span></a>\n                    <md-divider ng-if="!$last"></md-divider>\n                    </div>\n\n      <md-divider></md-divider>\n      </div>\n\n </md-content>\n\n</md-sidenav>\n                        \n                     '},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$state","$mdMedia","$mdSidenav","Site",function e(t,n,a,i){function r(){t.go("search")}function l(e){console.log("here we go!",e);var o=s.nav.indexOf(e);o>0?angular.forEach(s.nav,function(e,t){t!=o||e.active?e.active=!1:e.active=!0}):(angular.forEach(s.nav,function(e,t){e.active&&angular.forEach(e.sub_nav,function(e,t){e.active=!1})}),e.active=!0),n("gt-md")||e.sub_nav||a("left").close(),t.go(e.state)}(0,o.default)(this,e);var s=this;s.sideBarNav=l,s.site=i,s.$state=t,s.goSearch=r,s.nav=[{title:"Schools",state:"schools",fa_icon:"fa fa-star"},{title:"Staff",state:"staff.current",fa_icon:"fa fa-tree"},{title:"Base Info",state:"base.info",fa_icon:"fa fa-home"},{title:"Prayer Wall",state:"prayer",fa_icon:"fa fa-bolt"},{title:"Translation",state:"translation",fa_icon:"fa fa-language"}]}];exports.default=i},function(e,exports,t){var n=t(338);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".sidenav{color:red;height:100%;width:220px;min-width:220px;max-width:220px;font-size:1em}.sidenav-header{background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(1,#eceff1));text-align:center}.sidenav-content{background-color:#eceff1;height:100%}.side-menu-button{border-radius:0;color:inherit;cursor:pointer;vertical-align:middle;margin:0;max-height:40px;overflow:hidden;padding:7px 10px;text-decoration:none;white-space:normal;width:100%;font-weight:300;text-transform:uppercase}.side-menu-button:hover{background-color:hsla(0,0%,39%,.2);text-decoration:none;color:inherit}.no-md-error .md-errors-spacer{display:none}.no-md-error md-autocomplete-wrap md-input-container{padding-bottom:0!important}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(340),s=n(l),d=o.default.module("loginButtons",[r.default]).component("loginButtons",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(341),o=n(a),i=t(342),r=n(i);t(343);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n<div layout="column">\n        <md-button class="btn-google" ng-click="$ctrl.login(\'google\')" > Sign in with Google</md-button> \n        <md-button class="btn-facebook" ng-click="$ctrl.login(\'facebook\')" > Sign in with Facebook</md-button> \n       \n       <div style="text-align:center;" class="md-caption"> or</div>\n       <form ng-submit="$ctrl.emailPassLogin()" layout="column">\n       <md-input-container class="no-md-error login-inputs" md-no-float >\n        <input placeholder="email" ng-model="$ctrl.email">\n       </md-input-container>\n       <md-input-container  class="no-md-error login-inputs" md-no-float >\n        <input placeholder="password" type="password" ng-model="$ctrl.password">\n       </md-input-container>\n       <div style="border: solid 1px red ">\n       If you previously had a mission-live.com account <br>please reset your password <a ui-sref="forgotPassword"> here</a>\n       </div>\n    <!--<div layout="row">\n               <span flex></span>-->\n                <!--<md-button>Sign up</md-button>-->\n                <md-button type="submit" class="md-primary md-raised">login</md-button>\n       <!--</div>-->\n       </form>\n        <div style="text-align:center; margin-top:5px; cursor:pointer" class="md-caption" ui-sref="forgotPassword">\n         Forgot Password\n        </div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth","$mdMedia","$firebaseAuth","Site","$timeout",function e(t,n,a,i,r){function l(e){n("gt-sm")?t.$signInWithPopup(e).catch(function(e){if("auth/account-exists-with-different-credential"==e.code){var t=a.FacebookAuthProvider.credential(e.credential.accessToken);a.currentUser.link(t).then(function(e){console.log("Account linking success",e)},function(e){console.log("Account linking error",e)})}console.log(e);var t=(e.code,e.message,e.email,e.credential)}):t.$signInWithRedirect(e)}function s(){t.$signInWithEmailAndPassword(d.email,d.password).then(function(e){d.email="",d.password=""}).catch(function(e){console.log(e);e.code,e.message})}(0,o.default)(this,e);var d=this;d.login=l,d.emailPassLogin=s}];exports.default=i},function(e,exports,t){var n=t(344);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".btn-google{color:#fff!important;background-color:#dd381d!important}.btn-facebook{color:#fff!important;background-color:#3b579d!important}.no-md-error .md-errors-spacer{display:none}.login-inputs{margin:0 8px}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(346),s=n(l),d=o.default.module("loginDialog",[r.default]).component("loginDialog",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(347),o=n(a),i=t(348),r=n(i);t(349);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n<div ng-if="$ctrl.visible"  style="position:fixed; height:100vh; top:0; width:100%; z-index:10000; background-color:rgba(54, 65, 80,0.5); "> \n\n  \n\n<div class="login-dialog" >\n\n\n<md-card style="margin:0">\n<md-card-content>\n    <h1 class="md-display-1" >Staff Login</h1>\n\n\n        <login-buttons></login-buttons>\n        \n\n</md-card-content>\n</md-card>\n</div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth","$scope","$state",function e(t,n,a){(0,o.default)(this,e);var i=this;n.$on("showLoginDialog",function(e,t){i.visible=!0}),t.$onAuthStateChanged(function(e){e&&(i.visible=!1,a.reload())})}];exports.default=i},function(e,exports,t){var n=t(350);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,"@media screen and (min-width:500px){.login-dialog{width:400px;margin:10% auto 10px;overflow:hidden}}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(352),s=n(l),d=o.default.module("appStatus",[r.default]).component("appStatus",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(353),o=n(a),i=t(354),r=n(i);t(355);var l={restrict:"E",bindings:{data:"=",date:"="},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n<md-menu class="app-status-menu">\n<div class="app-status-{{$ctrl.data.meta.status}} app-status-box"  ng-click="$mdOpenMenu()"> \n    \n<span ng-if="$ctrl.data.meta.status < 8 ">Started </span>\n<span ng-if="$ctrl.data.meta.status == 8">Cancelled </span>\n<span ng-if="$ctrl.data.meta.status == 10">Submitted </span>\n<span ng-if="$ctrl.data.meta.status == 11">In Review </span>\n<span ng-if="$ctrl.data.meta.status == 12">Denied</span>\n<span ng-if="$ctrl.data.meta.status == 13">Accepted </span>\n<span ng-if="$ctrl.data.meta.status == 30">Arrived </span>\n<span ng-if="$ctrl.data.meta.status == 70">Alumni</span>\n\n<span ng-if="$ctrl.date" am-time-ago="$ctrl.data.meta.statuses[$ctrl.data.meta.status].date"></span>\n\n\n</div>\n\n\n <md-menu-content> \n      <md-menu-item>\n            <md-button ng-click="$ctrl.changeStatus(11)" > \n                 <div class="app-status-11 app-status-menu-icon"></div> Set As "In Review"\n            </md-button> \n        </md-menu-item> \n        \n        <md-menu-item >  \n            <md-button ng-click="$ctrl.changeStatus(13)" >\n                 <div class="app-status-13 app-status-menu-icon"></div>Accept Application\n            </md-button> \n        </md-menu-item>\n        \n        <md-menu-item >\n            <md-button ng-click="$ctrl.changeStatus(8)" >\n                 <div class="app-status-8 app-status-menu-icon"></div>Cancel Application\n            </md-button> \n        </md-menu-item>\n        \n        <md-menu-item >\n            <md-button ng-click="$ctrl.changeStatus(1)" >\n                 <div class="app-status-1 app-status-menu-icon"></div>Restart Application\n            </md-button> \n        </md-menu-item>  \n            \n        <md-menu-item > \n            <md-button ng-click="$ctrl.changeStatus(12)" >\n                 <div class="app-status-12 app-status-menu-icon"></div> Deny Application\n            </md-button> \n        </md-menu-item>\n        <md-menu-item > \n            <md-button ng-click="$ctrl.changeStatus(70)" >\n                 <div class="app-status-1 app-status-menu-icon"></div> Set as Alumni\n            </md-button> \n        </md-menu-item>\n \n </md-menu-content>\n</md-menu>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=function e(){function t(e){console.log(n.data),firebase.database().ref("applications").child(n.data.$id).child("meta/status").set(e)}(0,o.default)(this,e);var n=this;n.changeStatus=t};exports.default=i},function(e,exports,t){var n=t(356);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".app-status-1{background-color:gray;color:#fff}.app-status-8{background-color:#00f;color:#fff}.app-status-10{background-color:#fc0;color:#fff}.app-status-11{background-color:#f60;color:#fff}.app-status-12{color:#fff;background-color:#d9534f;border-color:#d43f3a}.app-status-13,.app-status-30{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.app-status-70{color:#fff;background-color:#6dcb6d;border-color:#4cae4c}.app-status-box{display:inline-block;padding:2px 5px;border-radius:3px}.app-status-menu-icon{width:20px;height:20px;display:inline-block;vertical-align:middle;margin-right:10px}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i);t(358);var l=t(359),s=n(l),d=o.default.module("userPhotoUpload",[r.default,"ngImgCrop"]).config(["$stateProvider",function(e){"ngInject";e.state("userPhotoUpload",{url:"/userPhotoUpload/:user_id",component:"userPhotoUpload"})}]).component("userPhotoUpload",s.default).name;exports.default=d},,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(360),o=n(a),i=t(361),r=n(i);t(362);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n<div layout="row" layout-align="center">\n\n<md-card flex-gt-sm="60">\n   <md-progress-linear md-mode="determinate" value="{{$ctrl.upload_progress}}"></md-progress-linear>\n\n<md-card-content>  \n<div ng-hide="$ctrl.myImage">\nPlease upload a portrait Photo where your face is clearly visible! \n<br />\n<br />  \n\n <div>Select an image file: <input type="file" id="fileInput" /></div>\n\n</div>\n\n<md-button ng-show="$ctrl.myImage" ng-click="$ctrl.savePhoto()" class="pull-right btn btn-primary">Save</md-button>\n\n <div class="cropArea"  ng-show="$ctrl.myImage"   >\n  \n\n\n<img-crop \n        image="$ctrl.myImage" \n        result-blob="$ctrl.myCroppedImage"\n        result-image=""\n        area-min-size="200"\n        result-image-quality="1"\n        result-image-size="1080"\n        result-image-format="image/jpeg"\n        area-type="square">\n        \n        \n        </img-crop>\n   </div>  \n\n  </md-card-content>\n \n</md-card>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$scope","Auth","$firebaseObject","$stateParams","$state","$timeout",function e(t,n,a,i,r,l){function s(){var e=firebase.storage().ref("/profiles/"+c.user_id),t=c.myCroppedImage,n=e.child("avatar_1080.jpg").put(t);n.on("state_changed",function(e){switch(c.upload_progress=e.bytesTransferred/e.totalBytes*100,console.log("Upload is "+c.upload_progress+"% done"),l(function(){}),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){},function(){var e=n.snapshot.downloadURL;console.log("finished upload: "+e),u.set(e),"userPhotoUpload"!=r.previous.name?(console.log("going back somewhere"),r.go(r.previous.name,r.previous.params)):(console.log("going to profile"+i.user_id),r.go("profile",{user_id:i.user_id}))})}function d(e){var n=e.currentTarget.files[0],a=new FileReader;a.onload=function(e){t.$apply(function(t){c.myImage=e.target.result})},a.readAsDataURL(n)}(0,o.default)(this,e);var c=this;c.user_id=i.user_id,c.myImage="";var u=firebase.database().ref("/profiles/"+c.user_id).child("com/avatar_1080");console.log(r.previous),c.myCroppedImage="",c.savePhoto=s,angular.element(document.querySelector("#fileInput")).on("change",d)}];exports.default=i},function(e,exports,t){var n=t(363);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,'.cropArea{background:#e4e4e4;overflow:hidden;width:90%;max-width:400px;min-height:200px;margin:auto;position:relative}.cropArea:before{content:"";display:block;padding-top:100%}img-crop{position:absolute;top:0;left:0;bottom:0;right:0}img-crop canvas{display:block;position:absolute;top:50%;left:50%;outline:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}',""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(365),s=n(l),d=o.default.module("roleCallsList",[r.default]).component("roleCallsList",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(366),o=n(a),i=t(367),r=n(i);t(368);var l={restrict:"E",bindings:{schoolId:"=",groupId:"="},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='Role Call list:\n<a ng-click="$ctrl.newRoleCall()">new role call </a>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=function e(){function t(){if(n.schoolId){var e={school_id:n.schoolId,name:"role call for school"},t=firebase.database().ref("role_calls").push(e).key;console.log(t);var a=firebase.database().ref("schools").child(n.schoolId).child("app_index");a.on("child_added",function(e){console.log("added"+e.key),firebase.database().ref("applications").child(e.key).child("for/user_id").once("value",function(e){var n=e.val();firebase.database().ref("profiles").child(n).child("com").once("value",function(e){var a=e.val(),o={name:a.first_name+" "+a.last_name};firebase.database().ref("role_calls").child(t).child("members").child(n).set(o)})})})}n.groupId&&console.log("Role call list for a group, everybody")}(0,o.default)(this,e);var n=this;n.newRoleCall=t,n.schoolId&&console.log("Role call list for a school, everybody"),n.groupId&&console.log("Role call list for a group, everybody")};exports.default=i},function(e,exports,t){var n=t(369);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".roleCallsList{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(371),s=n(l),d=o.default.module("roleCallMemberList",[r.default]).component("roleCallMemberList",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(372),o=n(a),i=t(373),r=n(i);t(374);var l={restrict:"E",bindings:{roleCallId:"="},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n<style>\n  .here {\n    background-color:green\n  }\n</style>\n\n\n<div ng-repeat="item in $ctrl.members | orderBy: [\'-present\']" \n  ng-class="{here:item.present}"\n>\n\n  {{item.name}}\n\n  <md-button ng-click="$ctrl.setHere(item.$id)">Here</md-button> \n    <md-button>Not Here</md-button> \n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray",function e(t){function n(e){console.log("setting here"+e),r.child(e).child("present").set(!0)}function a(e){var t=!1;return e.present&&(t=!0),t}(0,o.default)(this,e);var i=this;i.setHere=n,i.filterList=a,console.log("working with role call #"+i.roleCallId);var r=firebase.database().ref("role_calls").child(i.roleCallId).child("members");i.members=t(r)}];exports.default=i},function(e,exports,t){var n=t(375);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".roleCallMemberList{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(377),r=n(i),l=t(383),s=n(l),d=t(389),c=n(d),u=t(430),f=n(u),m=t(436),p=n(m),h=t(550),v=n(h),g=t(556),b=n(g),y=t(562),_=n(y),x=t(568),w=n(x),k=t(577),M=n(k),j=t(584),P=n(j),S=t(590),O=n(S),A=t(598),I=n(A),E=t(604),L=n(E),C=t(610),D=n(C),z=t(616),N=n(z),T=t(622),R=n(T),U=t(628),q=n(U),F=t(634),B=n(F),W=t(640),V=n(W),H=t(646),G=n(H),Y=t(652),Q=n(Y),K=t(658),Z=n(K),J=t(664),X=n(J),ee=t(670),te=n(ee),ne=t(678),ae=n(ne),oe=t(684),ie=n(oe),re=o.default.module("app.components",[r.default,s.default,c.default,f.default,p.default,v.default,b.default,_.default,w.default,M.default,P.default,Z.default,te.default,ae.default,ie.default,O.default,I.default,L.default,D.default,N.default,R.default,q.default,B.default,V.default,G.default,Q.default,X.default]).name;
exports.default=re},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(378),s=n(l),d=o.default.module("home",[r.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("home",{url:"/",component:"home"})}]).component("home",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(379),o=n(a),i=t(380),r=n(i);t(381);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n<div layout="row" layout-align="center" >\n  <div flex-gt-sm="70" >\n    <md-card >\n      <md-card-content>\n    <h1  class="md-headline">Welcome to the (new) Staff App!</h1>\n\n\n<p style="color:red; border: red solid 2px; padding:20px; font-size:120%">\n    NOTICE:<br>\nThis site is in READ only mode, and runs on a COPY of the actual database, this means that changes made here will be overwritted with the next copy!<br>\nWith the exception of new features like the Translations.<br>\n\n</p>\n<br>\n\n<!--<div style=" background: linear-gradient(169deg,#0c63aa 40%,#7ac4fa 100%); margin:-16px; padding:20px">-->\n<div layout-gt-sm="row" layout-align="space-around center">\n<img height="60px" src="https://firebase.google.com/_static/4f9fa138ab/images/firebase/lockup.png">\n<span>+</span> \n<img  height="60px" src="https://angularjs.org/img/AngularJS-large.png">\n</div>\n\n<br>\n\n<p class="md-body-1" >\nFor this version of the staff app, I am using a completely new backend database called Firebase which has many benefits. \nMainly that it is very fast, and enables realtime data to all connected devices, no more refreshing to see the latest information! \nThis means that I have to migrate all data from the old SQL database to this new one, all data that you see on this site is just a copy of the SQL database that login.mission-live.com is working from. \nOnce this site it built up enough that all essential tasks can be accomplished here, then the database this site is connected to will become the main one. We will make one final copy from the SQL database and discontinue the old site or configure it to also use only the new database.  \n<br><br>\nAt first this site will have to be very very very simple, just the basics. I would rather have a few site features working fully, than to have many features that are half working.  \n<br><br>\nTim Scholten - tim.scholten@ywamsarasota.com\n\n\n</p>\n<br>\n\n<table class="ftable"   >\n<thead>\n  <tr>\n    <th>Feature</th><th>Status</th>\n  </tr>\n</thead>\n<tr><td ui-sref="schools"> List of Schools</td><td class="works">Works!</td></tr>\n<tr><td ui-sref="school.studentList({school_id:42})"> Student List</td><td>In Progress</td></tr>\n<tr><td ui-sref="school.application({school_id:86,app_id:\'mB9H1NoELsUq37yZ78nhidDeaDc2_school_86\'})"> Student Application View</td><td>In Progress</td></tr>\n<tr><td ui-sref="school.staff({school_id:42})"> School Staff List</td><td>In Progress</td></tr>\n<tr><td ui-sref="school.settings({school_id:42})"> School Settings</td><td class="works">Works!</td></tr>\n<tr><td ui-sref="translation">Translation</td><td class="works">Works!</td></tr>\n<tr><td>Google Sign in</td><td class="works">Works </td></tr>\n<tr><td>Facebook Sign in</td><td class="works">Works </td></tr>\n<tr><td>Email/pass Sign in</td><td class="works">Works!</td></tr>\n<tr><td>Search</td><td>In Progress</td></tr>\n<tr><td>Staff:Current</td><td class="works">Works</td></tr>\n<tr><td>Staff:Alumni</td><td class="works">Works</td></tr>\n<tr><td>Staff:Applications List</td><td>Works</td></tr>\n\n</table>  \n\n<br>\nFew Goals:\n<ul>\n  <li>it loads fast!</li>\n  <li>make it look good on mobile</li>\n  <li>build it in a way that it works for any ywam base</li>\n</ul>\n<br>\n\n</p>  \n<!--</div>-->\n   <!--<iframe width="560" height="315" src="https://www.youtube.com/embed/U5aeM5dvUpA" frameborder="0" allowfullscreen></iframe>-->\n\n      </md-card-content>\n    </md-card>\n  </div>\n</div >\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$mdSidenav",function e(t){(0,o.default)(this,e);var n=this;n.openLeftMenu=function(){t("left").toggle()}}];exports.default=i},function(e,exports,t){var n=t(382);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".home{color:red}td[ui-sref]{cursor:pointer}.ftable{border-spacing:2px;margin:auto}.ftable td{padding:6px;border:1px solid gray}.works{background-color:rgba(0,100,0,.3)}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(384),s=n(l),d=o.default.module("about",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("about",{url:"/about",component:"about"})}]).component("about",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(385),o=n(a),i=t(386),r=n(i);t(387);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports="<navbar></navbar>\n<h1>{{ $ctrl.name }}</h1>\n<section>\n  About us.\n</section>\n"},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=function e(){(0,o.default)(this,e),this.name="about"};exports.default=i},function(e,exports,t){var n=t(388);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".about{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(390),s=n(l),d=o.default.module("translation",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("translation",{url:"/translation/",component:"translation"})}]).component("translation",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(391),o=n(a),i=t(392),r=n(i);t(428);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<style>\n\n.table tr{\n  border-bottom:solid gray 1px;\n}\n\n.table{\n  width:100%\n}\n</style>\n\n<div layout="row" layout-align="center">\n\n\n<md-card flex-gt-sm="75">\n <md-card-content> \n\n<h1 class="md-display-3">\n<i class="fa  fa-language"></i> Translation </h1>\n\n<table  border="1" class="table">\n<thead>\n<tr><th>Section</th><th>English</th><th>German</th><th>Spanish</th> </tr>   \n</thead> \n<tr ng-repeat="(key, section) in $ctrl.sections" >\n  <td> <a ui-sref="translateSection({section:key})"> {{key}} </a </td>\n  <td> phrases: <b>{{section.en.$count}}</b> </td>\n  <td> Translated:  <b>{{section.de.$count}} </b>  \n  <md-progress-linear md-mode="determinate" value="{{section.de.$count * 100 / section.en.$count }}"></md-progress-linear>\n   </td>\n  <td> Translated:  <b>{{section.es.$count}} </b>  \n    <md-progress-linear md-mode="determinate" value="{{section.es.$count * 100 / section.en.$count }}"></md-progress-linear>\n</td>\n \n</tr>  \n\n</table>  \n\n\n\n </md-card-content>\n</md-card>\n\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(393),o=n(a),i=t(328),r=n(i),l=["$firebaseObject","$firebaseArray","$timeout","$stateParams",function e(t,n,a,i){function l(e){angular.forEach(e.val(),function(t,n){"meta"!=n&&(s.sections[e.key][n].$count=(0,o.default)(t).length)})}(0,r.default)(this,e);var s=this;s.phrases={},s.sections={};var d=firebase.database().ref("phrases");d.on("child_added",function(e){s.sections[e.key]=e.val(),l(e),a(function(){})}),d.on("child_changed",function(e){l(e),a(function(){})})}];exports.default=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){var n=t(429);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".translation{color:red}.table td{padding:10px}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(431),s=n(l),d=o.default.module("translateSection",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("translateSection",{url:"/translateSection/:section",component:"translateSection"})}]).directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){function o(){a.$setViewValue(t.html())}a.$render=function(){t.html(a.$viewValue||"")},t.bind("blur keyup change",function(){e.$apply(o)})}}}).component("translateSection",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(432),o=n(a),i=t(433),r=n(i);t(434);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<style>\n\n.table tr{\n  border-bottom:solid gray 1px;\n}\n\n.edit:focus{\n     border: 2px solid #1caff6;\n      box-shadow: 0 0 20px #92e2ff;\n      outline:none;\n      \n\n\n}\n.edit {\n  min-height:80px;\n   border-radius: 10px;\n    padding: 20px;\n     font-size: large;\n      box-sizing: border-box;\n}\n\n.tranto{\n box-shadow: inset 0 2px 5px rgba(0,0,0,0.05); \n border: 2px solid #e9e9e9;  \n}\n.tranfrom {\n     border: none;\n        box-shadow: 0 0 8px rgba(0,0,0,0.12);\n}\n\ncode {\n\n  background-color:#eff0f1;\n  padding:5px;\n  color:black;\n}\n\n</style>\n\n<div layout="row" layout-align="center">\n\n<md-card flex-gt-md="75" flex>\n<md-card-content>\n<div layout="row">\n <div flex style=" padding: 7px;">  \nContext: {{$ctrl.phrases.meta}}\n </div> \n <div flex="10"> </div>\n <div flex>\n    <label>Language: </label>\n        <md-select ng-model="$ctrl.lang" style="display:inline-block; margin:0px;  vertical-align: baseline;">\n        <md-option value="de">Deutsch</md-option>\n        <md-option value="es">Español</md-option>\n        </md-select> \n <br> <br> <br>\n </div>\n</div>\n\n<div layout="row">\n  <div flex>\n    <div>\n        <div  class="tranfrom edit"\n              contenteditable\n               id="tranfrom"\n              ng-change="$ctrl.saveEnglish()"\n              ng-model="$ctrl.phrases.en[$ctrl.index]">\n       \n        </div>\n    </div>  \n</div>\n<div flex="10" style=" display: flex;\n                    justify-content: center; \n                    align-items: center; font-size: 200%;"> \n  > \n  </div>\n<div flex >\n\n\n\n <div >\n<div  class="tranto edit"\n      id="tranto"\n      contenteditable\n      ng-model="$ctrl.phrases[$ctrl.lang][$ctrl.index]"\n     ></div>\n </div>\n</div>\n</div>\n\n<div layout="row">\n  <md-button class="" ng-click="$ctrl.newPhrase()">New Phrase</md-button>\n  <span style="padding:15px; color:gray"> code: <code >{{ \'{\'+\'{ \'+  $ctrl.index + \'| translate }\\}\' }} </code ></span>\n  <!--<input ng-model="$ctrl.new" />-->\n  <span flex></span>\n<md-button class="md-primary md-raised " ng-click="$ctrl.next()">Next</md-button>\n</div>\n\n<br>\n<br>\n\n\n\n<table style="width:100%" class="table">\n  <th>Key</th>\n  <th>English Phrase</th>\n  <th >\n\n      {{$ctrl.lang}}\n  \n</th>\n<tr ng-repeat="(key, value) in $ctrl.phrases[\'en\']"  >\n  <td>{{key}}</td>\n<td><a href="" ng-click="$ctrl.index = key"> {{value}}</a></td>\n<td>  \n  \n  {{$ctrl.phrases[$ctrl.lang][key]}}\n  <!--<input ng-model="$ctrl.section[$ctrl.lang][key]" ng-blur="$ctrl.updateTranslation(key)" style="width:90%" > -->\n </td>\n</tr>\n\n</table>\n</md-card-content>\n</md-card>\n\n</div>\n\n\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(393),o=n(a),i=t(328),r=n(i),l=["$stateParams","$firebaseObject","$timeout","$window",function e(t,n,a,i){function l(){var e=u.phrases.en[u.index];e=s(e),firebase.database().ref("/phrases/").child(u.section).child("en").child(u.index).set(e)}function s(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function d(){var e=u.keys.indexOf(u.index),t=u.keys[e+1];console.log(t);var n=u.phrases[u.lang][u.index];n=s(n),console.log(n),console.log("Section: "+u.section+" Language: "+u.lang+" Key: "+u.index),n?firebase.database().ref("/phrases/").child(u.section).child(u.lang).child(u.index).set(n):(console.log("removing empty phrase"+u.index),firebase.database().ref("/phrases/").child(u.section).child(u.lang).child(u.index).remove()),u.index=t}function c(){var e=u.keys.length+1;u.index=e}(0,r.default)(this,e);var u=this;u.section=t.section,u.lang="de",u.next=d,u.saveEnglish=l,u.newPhrase=c;var f=firebase.database().ref("phrases").child(u.section);u.phrases=n(f),f.once("value",function(e){u.index=u.keys[0]}),f.on("value",function(e){u.keys=(0,o.default)(e.val().en)}),document.getElementById("tranto").addEventListener("keypress",function(e){13===e.which&&(e.preventDefault(),console.log("submit"),d())}),document.getElementById("tranfrom").addEventListener("keypress",function(e){13===e.which&&(e.preventDefault(),console.log("save english"),l(),a(function(){var e=i.document.getElementById("tranto");e&&e.focus()}))})}];exports.default=l},function(e,exports,t){var n=t(435);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,"textarea{width:100%}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i);t(437);var l=t(545),s=n(l),d=o.default.module("schoolsPage",[r.default,"angularMoment"]).config(["$stateProvider",function(e){"ngInject";e.state("schools",{url:"/schools",component:"schoolsPage",data:{authRequired:!0}})}]).component("schoolsPage",s.default).name;exports.default=d},,,,function(e,exports,t){function n(e){return t(a(e))}function a(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./af":441,"./af.js":441,"./ar":442,"./ar-ly":443,"./ar-ly.js":443,"./ar-ma":444,"./ar-ma.js":444,"./ar-sa":445,"./ar-sa.js":445,"./ar-tn":446,"./ar-tn.js":446,"./ar.js":442,"./az":447,"./az.js":447,"./be":448,"./be.js":448,"./bg":449,"./bg.js":449,"./bn":450,"./bn.js":450,"./bo":451,"./bo.js":451,"./br":452,"./br.js":452,"./bs":453,"./bs.js":453,"./ca":454,"./ca.js":454,"./cs":455,"./cs.js":455,"./cv":456,"./cv.js":456,"./cy":457,"./cy.js":457,"./da":458,"./da.js":458,"./de":459,"./de-at":460,"./de-at.js":460,"./de.js":459,"./dv":461,"./dv.js":461,"./el":462,"./el.js":462,"./en-au":463,"./en-au.js":463,"./en-ca":464,"./en-ca.js":464,"./en-gb":465,"./en-gb.js":465,"./en-ie":466,"./en-ie.js":466,"./en-nz":467,"./en-nz.js":467,"./eo":468,"./eo.js":468,"./es":469,"./es-do":470,"./es-do.js":470,"./es.js":469,"./et":471,"./et.js":471,"./eu":472,"./eu.js":472,"./fa":473,"./fa.js":473,"./fi":474,"./fi.js":474,"./fo":475,"./fo.js":475,"./fr":476,"./fr-ca":477,"./fr-ca.js":477,"./fr-ch":478,"./fr-ch.js":478,"./fr.js":476,"./fy":479,"./fy.js":479,"./gd":480,"./gd.js":480,"./gl":481,"./gl.js":481,"./he":482,"./he.js":482,"./hi":483,"./hi.js":483,"./hr":484,"./hr.js":484,"./hu":485,"./hu.js":485,"./hy-am":486,"./hy-am.js":486,"./id":487,"./id.js":487,"./is":488,"./is.js":488,"./it":489,"./it.js":489,"./ja":490,"./ja.js":490,"./jv":491,"./jv.js":491,"./ka":492,"./ka.js":492,"./kk":493,"./kk.js":493,"./km":494,"./km.js":494,"./ko":495,"./ko.js":495,"./ky":496,"./ky.js":496,"./lb":497,"./lb.js":497,"./lo":498,"./lo.js":498,"./lt":499,"./lt.js":499,"./lv":500,"./lv.js":500,"./me":501,"./me.js":501,"./mi":502,"./mi.js":502,"./mk":503,"./mk.js":503,"./ml":504,"./ml.js":504,"./mr":505,"./mr.js":505,"./ms":506,"./ms-my":507,"./ms-my.js":507,"./ms.js":506,"./my":508,"./my.js":508,"./nb":509,"./nb.js":509,"./ne":510,"./ne.js":510,"./nl":511,"./nl.js":511,"./nn":512,"./nn.js":512,"./pa-in":513,"./pa-in.js":513,"./pl":514,"./pl.js":514,"./pt":515,"./pt-br":516,"./pt-br.js":516,"./pt.js":515,"./ro":517,"./ro.js":517,"./ru":518,"./ru.js":518,"./se":519,"./se.js":519,"./si":520,"./si.js":520,"./sk":521,"./sk.js":521,"./sl":522,"./sl.js":522,"./sq":523,"./sq.js":523,"./sr":524,"./sr-cyrl":525,"./sr-cyrl.js":525,"./sr.js":524,"./ss":526,"./ss.js":526,"./sv":527,"./sv.js":527,"./sw":528,"./sw.js":528,"./ta":529,"./ta.js":529,"./te":530,"./te.js":530,"./th":531,"./th.js":531,"./tl-ph":532,"./tl-ph.js":532,"./tlh":533,"./tlh.js":533,"./tr":534,"./tr.js":534,"./tzl":535,"./tzl.js":535,"./tzm":536,"./tzm-latn":537,"./tzm-latn.js":537,"./tzm.js":536,"./uk":538,"./uk.js":538,"./uz":539,"./uz.js":539,"./vi":540,"./vi.js":540,"./x-pseudo":541,"./x-pseudo.js":541,"./zh-cn":542,"./zh-cn.js":542,"./zh-hk":543,"./zh-hk.js":543,"./zh-tw":544,"./zh-tw.js":544};n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=440},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(546),o=n(a),i=t(547),r=n(i);t(548);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.status-bar div{\n\t\theight: 20px;\n\t\tfloat: left;\n\t\tmargin: 0px;\n\t\tposition: relative;\n\t}\n\t.status-bar{\n\t\t/*float: left;*/\n\t\tmax-width:100%;\n\t\theight:40px;\n\t}\n\n\t\n\t.row-hover:hover{\n \t\tbackground-color: #f5f5f5;\n \t\t\n\t}\n\n.row-hover:hover .warning{\n\topacity: 1;\n\tbox-shadow: 5px 5px 5px #888888;\n\tz-index: 2;\n\ttransition: box-shadow .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1);\n}\n.warning{\n\topacity: 0.15;\n\n\t\n}\n\n\n\n</style>\n\n<div layout="row" layout-align="center center">\n<div flex-gt-md="65"  flex-gt-sm="75"  flex-gt-xs="90" flex>\n\n<md-card>\n\n<div layout="row" layout-wrap style="padding:10px" >\n\n          \t\t\n\t<md-input-container class="md-accent no-md-error" style="margin:0;" md-no-float>\n      <input ng-model="$ctrl.search.$" placeholder="Search">\n    </md-input-container>\n<span flex></span>\n\n</div>\t\n\n\n<md-divider></md-divider>\n<div ng-repeat="sch in $ctrl.schools | orderBy: \'start_date\' : true | filter: $ctrl.search "   >\n\n<div layout="row" layout-wrap  layout-align="space-between center"  class="row-hover"  \n     style="cursor: pointer;"  \n\t ui-sref="school.studentPhotos({school_id:sch.id})">\t\t\n<div ng-if="!$ctrl.$mdMedia(\'xs\')" \n\t flex-order="1">\n\t <div  style="width:106px;  max-height:50px; overflow:hidden; ">\n\t<img ng-src="{{sch.public.banner_200}}" style="width:100%" > \n\t</div>\n</div>\n<div flex flex-order="2"  style="margin-left:10px; margin-top:3px; " >\n\t<span  class="md-title" style="font-size:110%; "  >  {{sch.public.name}}</span>\n</div>\n\n\t<div flex="100" \n\t\t flex-gt-xs="25"  \n\t\t layout="row"\n\t\t layout-wrap\n\t\t flex-order-gt-xs="3" flex-order="5"\n\t\t style="font-size:100%; margin-left:10px" >\n\t\n\n\t<span flex-gt-xs="100" flex="60" class="md-caption" > {{ sch.public.start_date | date :\'MMM d yyyy\'}}\n\t \n\t - {{sch.public.end_date | date :\'MMM d yyyy\'}}</span>\n\t\n\t<!-- if start is in future -->\n\t<span flex ng-if="sch.public.start_date > $ctrl.now" \n\t\t  style="background-color:#FFE082;padding:2px;" \n\t\t  class="md-caption"> Starts \n\t<span am-time-ago="sch.public.start_date"></span>\n\t</span>\n\n\t<!-- If currently running  -->\n\t<span flex ng-if="sch.public.start_date < $ctrl.now && sch.public.end_date > $ctrl.now " \n\t\t  style="background-color:#A5D6A7;padding:2px; "\n\t\t  class="md-caption" > Running \n\t\t  <span am-time-ago="sch.public.start_date"  am-without-suffix="true"  ></span></span>\n\n\n\n\t</div>\n\n\n<!--\n<div flex="10"  hide-xs   flex-order-gt-xs="4">\n\t<div class="status-bar" style="width:{{sch.count.total}}px;  font-size:100%">\t\n\t \n\t\n\t\t<div style="width:{{ (sch.count.started*100) / sch.count.total }}%; background-color:#3F51B5;" ></div>\n\t\t<div style="width:{{ ((sch.count.cancelled*1 + sch.count.denied*1) *100) / sch.count.total}}%; background-color:#607D8B" ></div>\n\t\t<div style="width:{{ ((sch.count.submited*1 + sch.count.process*1) *100) / sch.count.total}}%; background-color:#FFC107;" > \n\t\t<div style="top:10px; " > \n\t\t\n\t\t<div ng-if="sch.count.submited>0" style="hieght:20px; background-color: #FFC107;" class="warning"> &nbsp;{{sch.count.submited}}&nbsp;New!&nbsp; </div>\n\t\t<div ng-if="sch.count.process>0" style="hieght:20px;background-color: #FFC107; " class="warning"> &nbsp;{{sch.process_count}}&nbsp;Waiting!&nbsp; </div>\n\t\t\n\t\t</div>\n\t\t</div>\n\t\t<div style="width:{{ ((sch.count.accepted*1 + sch.count.arrived*1) *100) / sch.count.total}}%; background-color:#4CAF50" ></div>\n\t</div>\t\n \n\t\t\t\t\t\t\t\t\n</div>-->\n\n\n\n\n<div   style="text-align:right ; " flex-order="3"  flex-order-gt-xs="5" flex="10">\n\t\t\t<md-menu style="padding:0px">\n           \n            <md-button ng-click="$mdOpenMenu($event)" style="min-width:20px;  margin:0px; min-height: 20px; line-height: 20px; ">\n\t\t\t <md-tooltip >\n          \tView counts\n        \t</md-tooltip>\n\t\t\t<span class="">{{sch.count.accepted*1 + sch.count.arrived*1}}</span>\n\t\t\t</md-button>\n            <md-menu-content>\n\t\t\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.started}} Started\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.cancelled}} Cancelled\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.denied}} Denied\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>\n\t\t\t\t{{sch.count.submited}} Submited\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>{{sch.count.process}} In Review\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>{{sch.count.accepted}} Accepted\n\t\t\t\t</md-menu-item>\n\t\t\t\t<md-menu-item>{{sch.count.arrived*1}} Arrived\n\t\t\t\t</md-menu-item>\n\t\t\t\t\n\t\n            </md-menu-content>\n\t\t\t</md-menu>\n</div>\n\n\n</div>\n\n\n<md-divider></md-divider>\n</div>\n</md-card>\n\n\n\t\t\t\t\t\n\n<md-card>\n<md-card-content>\n<i>\n  Let this system never replace personal relationship, but rather serve as a way from which to relate with accuracy. -Tim\n  </i>\n  </md-card-content>\n </md-card>\n\n\n </div>\n </div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$timeout","$firebaseArray","moment","Site","$filter","$mdMedia",function e(t,n,a,i,r,l){(0,o.default)(this,e);var s=firebase.database().ref("/locations").child(i.location_id).child("schools_index"),d=this;d.now=a().format("YYYY-MM-DD"),d.$mdMedia=l,s.on("value",function(e){d.schools=[],angular.forEach(e.val(),function(e,n){firebase.database().ref("/schools/"+n).on("value",function(e){var a=r("filter")(d.schools,{id:n},!0),o=d.schools.indexOf(a[0]);t(function(){if(null!=e.val()){var t=e.val();t.id=n,o>-1?d.schools[o]=t:d.schools.push(t)}})})})})}];exports.default=i},function(e,exports,t){var n=t(549);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolsPage{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(551),s=n(l),d=o.default.module("schoolPage",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school",{url:"/school/:school_id",component:"schoolPage"})}]).component("schoolPage",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(552),o=n(a),i=t(553),r=n(i);t(554);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n<!--<md-toolbar  layout="row" ng-if="!$ctrl.$state.is(\'app.school\')" \nclass="tab-toolbar" style="min-height: 50px ; z-index:40"  md-whiteframe="1">\n\n   <md-button hide-gt-sm \n            class="md-icon-button md-primary no-class " \n            ng-click="$ctrl.openLeftMenu()"\n            aria-label="open menu" >\n             <i class="fa  fa-bars" style="vertical-align:bottom"></i>\n         </md-button>\n\n\n<md-menu>\n      <md-button aria-label="Change School"  ng-click="$mdOpenMenu()">\n\t{{$ctrl.school.start_date | date:\'MMM yyyy\'}} &nbsp; {{$ctrl.school.name}}  <i class="fa fa-angle-down"> </i> \n\t  </md-button>\n      <md-menu-content >\n      <md-menu-item >\n          <md-button md-nav-sref="school">\n\t\t\t\tSchool List\n          </md-button>\n        </md-menu-item>\n        <md-menu-item ng-repeat="sch in $ctrl.school_list | filter:$ctrl.showCurrent| orderBy:\'start_date\'">\n          <md-button ng-click="$ctrl.changeSchool(sch.id)">\n\t\t\t\t{{sch.start_date | date:\'MMM yyyy\'}} \t{{sch.name}} \n          </md-button>\n        </md-menu-item>\n      </md-menu-content>\n    </md-menu>\n\n\n\n<span flex></span>\n\n\n</md-toolbar>-->\n\n<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n      <md-nav-item  md-nav-sref="school.studentPhotos" name="school.studentPhotos">Students</md-nav-item>\n      <md-nav-item  md-nav-sref="school.studentList" name="school.studentList">List</md-nav-item>\n      <md-nav-item  md-nav-sref="school.roleCalls" name="school.roleCalls">Role Calls</md-nav-item>\n      <md-nav-item   md-nav-sref="school.staff" name="school.staff">Staff</md-nav-item>\n      <!--<md-nav-item md-nav-sref="school.studentTravel"  name=""></md-nav-item>-->\n      <!--<md-nav-item  md-nav-sref="school.outreach" ></md-nav-item>-->\n      <!--<md-nav-item  md-nav-sref="school.studentAllergies" ></md-nav-item>-->\n      <md-nav-item md-nav-sref="school.settings" name="school.settings" > Settings </md-nav-item>\n\n\n\n</md-nav-bar>\n\n\n<ui-view> loading....</ui-view>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject","$rootScope","$state",function e(t,n,a,i){(0,o.default)(this,e);var r=this;a.$on("$viewContentLoaded",function(){r.current=i.current.name})}];exports.default=i},function(e,exports,t){var n=t(555);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolPage{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(557),s=n(l),d=o.default.module("studentList",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.studentList",{url:"/studentList",component:"studentList"}).state("school.application",{url:"/application/:app_id/",component:"applicationView"})}]).component("studentList",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(558),o=n(a),i=t(559),r=n(i);t(560);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-wrap >\n\n<div flex  flex-offset-gt-md="10" flex-gt-md="80">\n\n<md-card >\n\n<div layout="row">\n<div>\n\n<md-toolbar class="md-table-toolbar md-default" ng-hide="$ctrl.selected.length">\n  <div class="md-toolbar-tools">\n    <span>Students</span>\n\n\n\n\n\n <!--<md-menu>\n      <div aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n      <span  ng-repeat="(key,item) in $ctrl.appStatuses" ng-show="$ctrl.display.status[key]"> {{item}}<br></span>\n      Status:\n      </div>\n      <md-menu-content >\n        <md-menu-item  ng-repeat="(key,item) in $ctrl.statuses">\n        <md-switch  ng-model="item.active"> {{item.text}}</md-switch>\n        </md-menu-item>\n      </md-menu-content>\n  </md-menu>-->\n\n\n  </div>\n</md-toolbar>\n</div>\n\n<span flex></span> \n\n<div  style="padding:20px">\n<div ng-repeat="(key,item) in $ctrl.statuses" ng-hide="key == 11 || key  == 10 || key == 13  || key == 30">\n\n  <a  style="margin:0; cursor:pointer " ng-click="item.active = !item.active "  > {{item.active? \'hide\':\'show\' }} {{item.text}} </a>\n\n</div>\n</div>\n</div>\n\n<md-toolbar class="md-table-toolbar md-default" ng-show="$ctrl.selected.length" >\n \n  <div class="md-toolbar-tools" layout="row">\n    <div>{{$ctrl.selected.length}} student{{$ctrl.selected.length > 1 ? \'s\':\'\'}}  selected</div>\n    \n\n\n\n  </div>\n</md-toolbar>\n<!--{{$ctrl.apps}}-->\n  <md-table-container>\n  <table md-table md-row-select multiple ng-model="$ctrl.selected"  md-progress="$ctrl.loading_promise">\n    <thead md-head md-order="$ctrl.query.order">\n       <tr md-row>\n      <!-- when the user clicks this cell, the myOrder variable will get the value \'nameToLower\' -->\n      <th md-column md-order-by="user.first_name">First Name</th>\n      <th md-column md-order-by="user.last_name">Last</th>\n      <!-- the variable myOrder will not be changed when this cell is clicked -->\n      <th md-column md-order-by="meta.status">Status</th>\n       </tr>\n    </thead>\n\n    <tbody md-body>\n      <!-- we can let ng-repeat sort the columns for us -->\n      <tr  md-row md-select="app" md-select-id="app.id" ng-repeat="app in $ctrl.apps | orderBy: $ctrl.query.order | filter:$ctrl.filterList "\n          ui-sref="school.application({app_id: app.id})" style="cursor:pointer">\n        <td md-cell>{{app.user.first_name}} </td> \n        <td md-cell>{{app.user.last_name}}</td> \n\n        <td md-cell> <app-status data="app"></app-status></td>\n \n      </tr>\n    </tbody>\n  </table>\n</md-table-container>\n\n\n</md-card>\n\n\n</div>\n</div>\n\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject","$timeout","School",function e(t,n,a,i){function r(e){var t=!1;return l.statuses[e.meta.status]&&l.statuses[e.meta.status].active&&(t=!0),t}(0,o.default)(this,e);var l=this;l.selected=[],l.filterList=r,l.query={order:["meta.status","user.first_name"],limit:5,page:1};var s=t.school_id;l.apps=i.getApps(s),l.statuses={1:{text:"started"},8:{text:"cancelled"},10:{text:"submitted"},11:{text:"in review"},12:{text:"denied"},13:{text:"accepted"},30:{text:"arrived"}},l.statuses[10].active=!0,l.statuses[11].active=!0,l.statuses[13].active=!0,l.statuses[30].active=!0}];exports.default=i},function(e,exports,t){var n=t(561);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".studentList{color:red}",""])},function(e,exports,t){
"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(563),s=n(l),d=o.default.module("studentPhotos",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.studentPhotos",{url:"/studentPhotos",component:"studentPhotos"})}]).component("studentPhotos",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(564),o=n(a),i=t(565),r=n(i);t(566);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.ellipsis {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -o-text-overflow: ellipsis;\n}\n\n.photo{\n/*width:120px; */\n/*height:300px; */\nfloat:left;\n/*margin:5px;*/\n}\n</style>\n\n\n\n<div layout="row" layout-wrap layout-align="center">\n\n<div flex="75">\n<md-input-container style="margin-top:35px;  vertical-align:middle"> \n<input ng-model="$ctrl.search" placeholder="filter">\n</md-input-container>\n\n\n<div style="display:inline-block; width:200px; margin-top:22px; vertical-align:middle">    \n\n<md-slider flex min="100" max="200" ng-model="$ctrl.photo_size" aria-label="photo size" >\n\n</div>\n\n<!--\n <md-menu>\n      <md-button aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n        <i md-menu-origin class="fa fa-print"></i>\n      </md-button>\n      <md-menu-content width="4">\n        <md-menu-item>\n          <md-button ng-click="print(\'letter\')" >\n         Print Selected Photos (Letter) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A4\')">\n         Print Selected Photos (A4) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A3\')">\n         Print Selected Photos (A3) \n          </md-button>\n        </md-menu-item>\n\n      </md-menu-content>\n    </md-menu>-->\n\n\n<div  >\n\n\n<div ng-repeat="app in $ctrl.apps | filter:$ctrl.search" class="photo" ui-sref="profile({user_id:app.for.user_id})"  style="cursor: pointer;">\n\n<md-card  style="width:{{$ctrl.photo_size}}px;" >  \n<div style="height:{{$ctrl.photo_size}}px; overflow:hidden; " >\n\n<img ng-src="{{app.user.avatar_200}}" width="100%" >\n\n</div>\n\n\n<div style="padding:5px">\n<div class="ellipsis md-body-2">{{app.user.first_name }}</div>\n<div class="ellipsis md-body-2">{{app.user.last_name}}</div>\n\n<!--<div class="ellipsis md-caption" >{{app.user}}</div>-->\n</div>\n</md-card>\n\n\n</div>\n\n\n</div>\n</div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["School","$stateParams",function e(t,n){(0,o.default)(this,e);var a=this,i=n.school_id;a.apps=t.getApps(i,!0),a.photo_size=150}];exports.default=i},function(e,exports,t){var n=t(567);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".studentPhotos{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i);t(569),t(570),t(358);var l=t(572),s=n(l),d=o.default.module("schoolSettings",[r.default,"720kb.datepicker","ngImgCrop"]).config(["$stateProvider",function(e){"ngInject";e.state("school.settings",{url:"/settings",component:"schoolSettings"})}]).component("schoolSettings",s.default).name;exports.default=d},,,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(573),o=n(a),i=t(574),r=n(i);t(575);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n  <style>\n    .cropArea {\n      background: #E4E4E4;\n      /*overflow: hidden;*/\n      width:500px;\n      height:300px;\n    }\n\n\n  </style>\n\n\n\n<div layout="row">\n<div  flex-offset-gt-md="20" flex-gt-md="60" flex layout="column">\n\n<md-card>\n<md-card-content >\n\n<h1 class="md-title">School Info (Public)</h1>\n\n<md-switch ng-model="public.online"> Online for applications</md-switch>\n\n\n<div layout="row">\n<md-input-container flex>\n<label>School Name</label>\n<input ng-model="public.name">\n</md-input-container>\n\n<md-input-container flex>\n<label>School Acronym</label>\n<!--<md-select ng-model="$ctrl.school.acronym">\n<md-option  ng-repeat="acr in $ctrl.acronyms" value="{{acr}}">{{acr}} </md-option>\n</md-select>-->\n\n<input  ng-model="public.acronym"> \n</md-input-container>\n</div>\n\n<!--<md-input-container flex>\n<label>School Location </label>\n<md-select ng-model="public.location_id">\n<md-option  ng-repeat="loc in $ctrl.locations" value="{{loc.id}}">{{loc.name}} </md-option>\n</md-select>\n</md-input-container>-->\n\n<div layout="row">\n<md-input-container flex>\n<label>School Website (full url) </label>\n<input ng-model="public.website">\n</md-input-container>\n<md-input-container flex>\n<label>School Email </label>\n<input ng-model="public.email">\n</md-input-container>\n</div>\n\n\n</md-card-content>\n</md-card>\n\n<md-card>\n<md-card-content >\n<h1 class="md-title">School Dates</h1>\n\n<div layout="row">\n<span flex></span>\n<md-input-container flex>  \n <label> School Start Date:</label>\n <datepicker  date-format=" yyyy-MM-dd ">\n  <input ng-model="public.start_date" type="text"/>\n</datepicker>\n</md-input-container>\n\n<md-input-container flex>  \n<label> School End Date: </label>\n <datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.end_date"  type="text">\n </datepicker>\n</md-input-container>\n\n</div>\n\n<div layout="row" layout-align="center center">\n  <md-checkbox flex ng-model="public.mini_outreach" ng-change="$ctrl.toggle_mini_outreach()">Mini Outreach?</md-checkbox>\n\n<md-input-container flex>\n<label> Mini Outreach Start Date:</label>\n<datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.mini_outreach_start_date"  type="text" ng-disabled="!public.mini_outreach">\n</datepicker>\n</md-input-container>\n\n<md-input-container flex>\n  <label>Mini Outreach End Date:</label>\n<datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.mini_outreach_end_date"  type="text" ng-disabled="!public.mini_outreach">\n</datepicker>\n</md-input-container>\n\n</div>\n\n\n<div layout="row" layout-align="center center">\n  <md-checkbox flex ng-model="public.outreach" ng-change="$ctrl.toggle_outreach()">Outreach?</md-checkbox>\n\n<md-input-container flex >\n  <label> Outreach Start Date:</label>\n  <datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.outreach_start_date"  type="text" ng-disabled="!public.outreach">\n  </datepicker>\n</md-input-container>\n\n<md-input-container flex>\n  <label>Outreach End Date:</label>\n  <datepicker date-format=" yyyy-MM-dd ">\n<input ng-model="public.outreach_end_date"  type="text" ng-disabled="!public.outreach">\n  </datepicker>\n</md-input-container>\n\n</div>\n\n\n\n\n\n</md-card-content>\n</md-card>\n\n\n<md-card>\n<md-card-content>\n<h1 class="md-title">School Costs</h1>\n\n<div layout="row">\n<md-input-container flex>\n<label>Currency </label>\n<md-select ng-model="public.currency">\n<md-option  ng-repeat="item in $ctrl.currencies" value="{{item}}">{{item}} </md-option>\n</md-select>\n</md-input-container>\n\n<div flex>\n<md-input-container flex>\n<label>Application Fee </label>\n<input ng-model="public.app_fee">\n</md-input-container>\n\n<md-input-container flex>\n<label>School Fee </label>\n<input ng-model="public.school_fee">\n</md-input-container>\n\n<md-input-container flex>\n<label>Mini Outreach Fee </label>\n<input ng-model="public.mini_outreach_fee" ng-disabled="!public.mini_outreach">\n</md-input-container>\n\n<md-input-container flex>\n<label>Outreach Fee </label>\n<input ng-model="public.outreach_fee" ng-disabled="!public.outreach">\n</md-input-container>\n</div>\n</div>\n</md-card-content>\n</md-card>\n\n<md-card>\n      <md-progress-linear md-mode="determinate" value="{{$ctrl.upload_progress}}"></md-progress-linear>\n\n\t<md-card-content layout="row">\t\n\t<div flex-gt-md>\n\t<h1 class="md-title">School Banner<br>\n\t<small> 16:9 aspect ratio</small> </h1>\n\n\t<input id="fileInput" name="file" type="file" class="ng-hide" multiple>\n\n\t <md-button class="md-raised md-primary">\n\t        <label for="fileInput">Choose File</label>  \n\t </md-button>\n\t <input type="file" id="fileInput" class="ng-hide" />\n\t  <md-button ng-click="$ctrl.savePhoto()" >Upload</md-button>\n\t </div>\n\t <div flex-gt-md="50">\n\n\t  <div  class="cropArea">\n\t   <img-crop \n        image="$ctrl.myImage" \n        result-blob="$ctrl.myCroppedImage"\n        result-image=""\n        area-min-size="200"\n        result-image-quality="1"\n        result-image-size="{w:1600,h:900}"\n        result-image-format="image/jpeg"\n        area-type="rectangle"\n        aspect-ratio="1.77"></img-crop>\n\t  </div>\n\t</div>\n\t</md-card-content>\n</md-card>\n\n\n\n\n<!-- Preview of what is seen on apply site -->\n<div flex style="max-width:380px; margin:0 auto; border:solid gray 1px; padding:40px" >\n<i>Preview of what is seen on registration site:</i>\n<md-card >\n\t           <div style="max-height:300px; overflow:hidden" >\n\t            <img ng-src="{{public.banner_1080}}" >\n\t       \t\t</div>\n\t            \n\t            <md-card-content>\n\t            <div class="md-caption"> {{public.is_secondary  ? \'Secondary School\': \'Discipleship Training School\' }}</div>\n\t           \t<div class="md-title" style="margin-bottom:5px">\n\t \t\t\t{{public.name}}</div>\n\t \t\t\t\n\t\t\t\t\n\t \t\t\t<div class="md-body-1" style="margin-bottom:5px" >\n\t \t\t\t{{public.description}}\n\t \t\t\t\n\t \t\t\t</div>\n\t \t\t\t<md-divider style="margin-bottom:10px"></md-divider>\n\t \t\t\t<div class="md-subhead">\n\t\t\t\t{{public.start_date | date }} - {{public.end_date | date }}</div>\n\t\t\t\t<div class="md-subhead">\n\t\t\t\t{{public.public_fee}}  {{public.location}} \n\t\t\t\t</div>\n\t \t\t\t</md-card-content>\n\t \t\t\t<md-button class="md-primary" style="margin-top:-5px" href="{{public.start_app_link}}">Register now ></md-button>\n</md-card>\n\n</div>\n\n\n <img ng-src="{{public.banner_200}}" >\n  <img ng-src="{{public.banner_80}}" >\n\n  </div>  </div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["School","$stateParams","$scope","$timeout",function e(t,n,a,i){function r(){a.public.mini_outreach||(a.public.mini_outreach_start_date=null,a.public.mini_outreach_end_date=null)}function l(){a.public.outreach||(a.public.outreach_start_date=null,a.public.outreach_end_date=null)}function s(e){var t=e.currentTarget.files[0],n=new FileReader;n.onload=function(e){a.$apply(function(t){c.myImage=e.target.result})},n.readAsDataURL(t)}function d(){c.upload_progress=15;var e=firebase.storage().ref("/schools_public/"+u),t=firebase.database().ref("/schools/"+u).child("public/banner_1080"),n=c.myCroppedImage,a=e.child("banner_1080.jpg").put(n);a.on("state_changed",function(e){switch(i(function(){c.upload_progress=e.bytesTransferred/e.totalBytes*100}),console.log("Upload is "+c.upload_progress+"% done"),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){},function(){var e=a.snapshot.downloadURL;console.log("finished upload: "+e),t.set(e)})}(0,o.default)(this,e);var c=this;c.savePhoto=d,c.toggle_mini_outreach=r,c.toggle_outreach=l,c.myImage="",c.myCroppedImage="";var u=n.school_id;t.getSchool(u).$bindTo(a,"public"),angular.element(document.querySelector("#fileInput")).on("change",s)}];exports.default=i},function(e,exports,t){var n=t(576);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,'.cropArea{background:#e4e4e4;overflow:hidden;width:90%;max-width:400px;min-height:200px;margin:auto;position:relative}.cropArea:before{content:"";display:block;padding-top:100%}img-crop{position:absolute;top:0;left:0;bottom:0;right:0}img-crop canvas{display:block;position:absolute;top:50%;left:50%;outline:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}',""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(578),s=n(l),d=o.default.module("schoolStaff",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.staff",{url:"/staff",component:"schoolStaff"})}]).component("schoolStaff",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(579),o=n(a),i=t(580),r=n(i);t(582);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-align="center center">\n<div  flex-gt-sm="70">\n<md-card>\n<md-card-content layout="row">\n <div flex>   \n    <h1>School Staff</h1>\n    <md-button ng-click="$ctrl.addStaff(\'staff\')">Add Staff</md-button>\n\n<md-list class="md-dense">\n    <md-list-item ng-repeat="(key, staff) in $ctrl.staffs" class="md-2-line">\n          <img ng-src="{{staff.avatar_200}}" class="md-avatar" alt="{{ staff.first_name }}" />\n         <div class="md-list-item-text" layout="column">\n            <h3>{{ staff.first_name }} {{ staff.last_name }}</h3>\n            <!--<h4>{{ item.what }}</h4>-->\n            <!--<p>roles:</p>-->\n            <i class="fa fa-trash" ng-click="$ctrl.remove(\'staff\', key)"></i>\n          </div>\n          <md-divider ></md-divider>\n    </md-list-item>\n</md-list>\n\n </div>\n <span flex="10"> </span>\n <div flex>   \n    <h1>School Admins\n        \n    </h1>\n    <small>  can see applications.. etc.</small>\n   \n    <md-button ng-click="$ctrl.addStaff(\'admin\')">Add Admin</md-button>\n\n<md-list class="md-dense">\n    <md-list-item ng-repeat="(key, staff) in $ctrl.admins" class="md-2-line">\n          <img ng-src="{{staff.avatar_200}}" class="md-avatar" alt="{{ staff.first_name }}" />\n         <div class="md-list-item-text" layout="column">\n            <h3>{{ staff.first_name }} {{ staff.last_name }}</h3>\n            <!--<h4>{{ item.what }}</h4>-->\n            <!--<p>roles:</p>-->\n              <i class="fa fa-trash" ng-click="$ctrl.remove(\'admin\', key)"></i>\n          </div>\n          <md-divider ></md-divider>\n    </md-list-item>\n</md-list>\n\n </div>\n\n</md-card-content>\n</md-card>\n</div>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=t(581),r=n(i),l=["$stateParams","School","$mdDialog",function e(t,n,a){function i(e,t){console.log(t),console.log(e);var n=firebase.database().ref("/schools/"+d+"/"+e);n.child(t).remove()}function l(e){function t(t,n,a,o,i){t.staff=[],t.type=e;var r=firebase.database().ref("locations/"+a.location_id).child("current_staff_index");r.on("child_added",function(e){console.log(e.key);var n=e.key;console.log("UserID: ",n),firebase.database().ref("/profiles/"+n+"/com").on("value",function(e){null!=e.val()&&o(function(){var a=e.val();a.id=n,t.staff.push(a)})},function(e){console.error(e)})},function(e){console.error(e)}),t.getMatches=function(e){return i("filter")(t.staff,e)},t.addStaff=function(){console.log(t.selectedItem.id);var a=firebase.database().ref("/schools/"+d+"/"+e);a.child(t.selectedItem.id).set(!0),n.hide()},t.closeDialog=function(){n.hide()}}t.$inject=["$scope","$mdDialog","Site","$timeout","$filter"];var n=angular.element(document.body);a.show({parent:n,clickOutsideToClose:!0,escapeToClose:!0,template:r.default,controller:t})}(0,o.default)(this,e);var s=this,d=t.school_id;s.staffs=n.getStaff(d),s.admins=n.getAdmins(d),s.addStaff=l,s.remove=i}];exports.default=l},function(e,exports){e.exports='<md-dialog aria-label="List dialog">\n  <md-dialog-content>\n\n       <div class="md-dialog-content">\n\n      \n         \n    <md-autocomplete md-selected-item="selectedItem" \n                     md-search-text="searchText" \n                     md-items="item in getMatches(searchText)" md-item-text="item.first_name +\' \'+item.last_name "\n                      placeholder="Add Staff Member">\n        <span md-highlight-text="searchText">{{item.first_name}} {{item.last_name}}</span>\n    </md-autocomplete>\n\n    \n  \n       </div>\n  </md-dialog-content>\n  <md-dialog-actions>\n    <md-button ng-click="addStaff()" class="md-primary">Add {{type}}</md-button>\n  </md-dialog-actions>\n</md-dialog>'},function(e,exports,t){var n=t(583);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolStaff{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(585),s=n(l),d=o.default.module("schoolRoleCalls",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("school.roleCalls",{url:"/roleCalls",component:"schoolRoleCalls"})}]).component("schoolRoleCalls",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(586),o=n(a),i=t(587),r=n(i);t(588);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-align="center">\n\n<md-card flex flex-gt-md="60">\n\n<role-call-member-list role-call-id="$ctrl.role_call_id"></role-call-member-list> \n\n<role-calls-list school-id="$ctrl.school_id"></role-calls-list>\n\n</md-card>\n</div>  '},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams",function e(t){(0,o.default)(this,e);var n=this;n.school_id=t.school_id,n.role_call_id="-KWOkD_Rz1SN7a1B0GFn"}];exports.default=i},function(e,exports,t){var n=t(589);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".schoolRoleCalls{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(591),s=n(l);t(596);var d=o.default.module("accounting",[r.default,"ngAudio"]).config(["$stateProvider",function(e){"ngInject";e.state("accounting",{url:"/accounting/",component:"accounting",data:{authRequired:!0}})}]).component("accounting",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(592),o=n(a),i=t(593),r=n(i);t(594);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<md-card>\n<style>\n\n.table {\n  width:100%;\n}\n\n.table tr{\n  border-bottom:solid gray 1px;\n}\n\n</style>\n<md-card-content>\n\n\n\n<table class="table" >\n\n  <tr>\n    <th>paypal ID</th>\n    <th>Time</th>\n    <th>From</th>\n    <th>For </th>\n    <th>Amount</th>\n\n    <th>QB</th>\n    <th>My Tribe</th>\n  </tr>\n\n<tr ng-repeat="item in $ctrl.transactions | orderBy:\'-timestamp\'">\n<td>{{item.transaction_id}}</td>\n<td>{{item.timestamp | date: \'short\'}}</td>\n<td>{{item.name}}</td>\n<td>{{item.note}}  <br><i style="background-color: lightgreen">{{item.purpose}}</i> </td>\n<td align="right">\n  <i   ng-if="item.fee < 0  ">  {{item.amount}}{{item.fee}}</i>\n    <b>{{item.net_amount}} </b></td>\n<td> \n<md-checkbox ng-model="item.in_quickbooks"  ng-change="$ctrl.checkQB(item)" aria-label="in quickbooks" >\n\n</td>\n<td> \n<md-checkbox ng-model="item.in_donation"  ng-change="$ctrl.checkDonation(item)" aria-label="in donations" >\n\n</td>\n\n\n\n\n</tr>\n\n\n\n\n</thead>\n\n\n\n\n</table>  \n\n\n</md-card-content>\n</md-card>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","Auth","$firebaseArray","ngAudio",function e(t,n,a,i){function r(e){c.child(e.transaction_id).child("in_quickbooks").set(e.in_quickbooks),c.child(e.transaction_id).child("quickbooks_user").set(n.$getAuth().uid),e.in_quickbooks&&(d.play(),c.child(e.transaction_id).child("quickbooks_time").set(firebase.database.ServerValue.TIMESTAMP))}function l(e){c.child(e.transaction_id).child("in_donation").set(e.in_donation),c.child(e.transaction_id).child("donation_user").set(n.$getAuth().uid),e.in_donation&&(d.play(),c.child(e.transaction_id).child("donation_time").set(firebase.database.ServerValue.TIMESTAMP))}(0,o.default)(this,e);var s=this,d=i.load("sounds/1.mp3"),c=firebase.database().ref("paypal_transactions/"+t.location_id),u=c.orderByChild("timestamp");s.checkQB=r,s.checkDonation=l,s.transactions=a(u)}];exports.default=i},function(e,exports,t){var n=t(595);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".accounting{color:red}",""])},,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(599),s=n(l),d=o.default.module("staff",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff",{url:"/staff",component:"staff"})}]).component("staff",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(600),o=n(a),i=t(601),r=n(i);t(602);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n   \n      <md-nav-item  md-nav-sref="staff.current" name="staff.current">Current Staff</md-nav-item>\n      <md-nav-item  md-nav-sref="staff.alumni" name="staff.alumni">Alumni Staff</md-nav-item>\n      <md-nav-item  md-nav-sref="staff.apps" name="staff.apps">Staff Applications</md-nav-item>\n\n\n\n</md-nav-bar>\n\n\n<ui-view> loading....</ui-view>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$rootScope","$state",function e(t,n){(0,o.default)(this,e);var a=this;t.$on("$viewContentLoaded",function(){a.current=n.current.name})}];exports.default=i},function(e,exports,t){var n=t(603);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staff{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(605),s=n(l),d=o.default.module("staffCurrent",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff.current",{url:"/current",component:"staffCurrent"})}]).component("staffCurrent",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(606),o=n(a),i=t(607),r=n(i);t(608);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.ellipsis {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -o-text-overflow: ellipsis;\n}\n\n.photo{\n/*width:120px; */\n/*height:300px; */\nfloat:left;\n/*margin:5px;*/\n}\n</style>\n\n\n\n<div layout="row" layout-wrap layout-align="center">\n\n<div flex-gt-xs="75" flex>\n<md-input-container class="no-print" style="margin-top:35px;  vertical-align:middle"> \n<input ng-model="$ctrl.search" placeholder="filter">\n</md-input-container>\n\n\n<div   class="no-print" style="display:inline-block; width:200px; margin-top:22px; vertical-align:middle">    \n\n<md-slider flex min="100" max="200" ng-model="$ctrl.photo_size" aria-label="photo size" >\n\n</div>\n\n<!--\n <md-menu>\n      <md-button aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n        <i md-menu-origin class="fa fa-print"></i>\n      </md-button>\n      <md-menu-content width="4">\n        <md-menu-item>\n          <md-button ng-click="print(\'letter\')" >\n         Print Selected Photos (Letter) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A4\')">\n         Print Selected Photos (A4) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A3\')">\n         Print Selected Photos (A3) \n          </md-button>\n        </md-menu-item>\n\n      </md-menu-content>\n    </md-menu>-->\n\n\n<div  >\n\n\n<div ng-repeat="staff in $ctrl.staff | filter:$ctrl.search" class="photo" ui-sref="profile({user_id:staff.id})"  style="cursor: pointer;">\n\n<md-card  style="width:{{$ctrl.photo_size}}px;" >  \n<div style="height:{{$ctrl.photo_size}}px; overflow:hidden; " >\n\n<img ng-src="{{staff.avatar_200}}" width="100%" >\n\n</div>\n\n\n<div style="padding:5px">\n<div class="ellipsis md-body-2">{{staff.first_name }}</div>\n<div class="ellipsis md-body-2">{{staff.last_name}}</div>\n\n<!--<div class="ellipsis md-caption" >{{staff}}</div>-->\n</div>\n</md-card>\n\n\n</div>\n\n\n</div>\n</div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseArray","$timeout","$filter",function e(t,n,a,i){function r(e){myWindow=window.open(t.api+"/staff/print_photos/"+e+"/"+t.location.id,"_blank"),myWindow.focus()}(0,o.default)(this,e);var l=this;l.staff=[];var s=firebase.database().ref("locations/"+t.location_id).child("current_staff_index");s.on("child_added",function(e){console.log(e.key);var t=e.key;console.log("UserID: ",t),firebase.database().ref("/profiles/"+t+"/com").on("value",function(e){null!=e.val()&&a(function(){var n=e.val();n.id=t,l.staff.push(n)})},function(e){console.error(e)})},function(e){console.error(e)}),l.photo_size=150,l.print=r}];exports.default=i},function(e,exports,t){var n=t(609);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staffCurrent{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(611),s=n(l),d=o.default.module("staffAlumni",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff.alumni",{url:"/alumni",component:"staffAlumni"})}]).component("staffAlumni",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(612),o=n(a),i=t(613),r=n(i);t(614);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n<style type="text/css">\n\t.ellipsis {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -o-text-overflow: ellipsis;\n}\n\n.photo{\n/*width:120px; */\n/*height:300px; */\nfloat:left;\n/*margin:5px;*/\n}\n</style>\n\n\n\n<div layout="row" layout-wrap layout-align="center">\n\n<div flex="75">\n<md-input-container style="margin-top:35px;  vertical-align:middle"> \n<input ng-model="$ctrl.search" placeholder="filter">\n</md-input-container>\n\n\n<div style="display:inline-block; width:200px; margin-top:22px; vertical-align:middle">    \n\n<md-slider flex min="100" max="200" ng-model="$ctrl.photo_size" aria-label="photo size" >\n\n</div>\n\n<!--\n <md-menu>\n      <md-button aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n        <i md-menu-origin class="fa fa-print"></i>\n      </md-button>\n      <md-menu-content width="4">\n        <md-menu-item>\n          <md-button ng-click="print(\'letter\')" >\n         Print Selected Photos (Letter) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A4\')">\n         Print Selected Photos (A4) \n          </md-button>\n        </md-menu-item>\n         <md-menu-item>\n          <md-button  ng-click="print(\'A3\')">\n         Print Selected Photos (A3) \n          </md-button>\n        </md-menu-item>\n\n      </md-menu-content>\n    </md-menu>-->\n\n\n<div  >\n\n\n<div ng-repeat="staff in $ctrl.staff | filter:$ctrl.search" class="photo" ui-sref="profile({user_id:staff.id})"  style="cursor: pointer;">\n\n<md-card  style="width:{{$ctrl.photo_size}}px;" >  \n<div style="height:{{$ctrl.photo_size}}px; overflow:hidden; " >\n\n<img ng-src="{{staff.avatar_200}}" width="100%" >\n\n</div>\n\n\n<div style="padding:5px">\n<div class="ellipsis md-body-2">{{staff.first_name }}</div>\n<div class="ellipsis md-body-2">{{staff.last_name}}</div>\n\n<!--<div class="ellipsis md-caption" >{{staff}}</div>-->\n</div>\n</md-card>\n\n\n</div>\n\n\n</div>\n</div>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseArray","$timeout","$filter",function e(t,n,a,i){function r(e){myWindow=window.open(t.api+"/staff/print_photos/"+e+"/"+t.location.id,"_blank"),myWindow.focus()}(0,o.default)(this,e);var l=this;l.staff=[];var s=firebase.database().ref("locations/"+t.location_id).child("alumni_staff_index");s.on("child_added",function(e){console.log(e.key);var t=e.key;console.log("UserID: ",t),firebase.database().ref("/profiles/"+t+"/com").on("value",function(e){null!=e.val()&&a(function(){var n=e.val();n.id=t,l.staff.push(n)})},function(e){console.error(e)})},function(e){console.error(e)}),l.photo_size=150,l.print=r}];exports.default=i},function(e,exports,t){var n=t(615);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staffAlumni{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(617),s=n(l),d=o.default.module("staffApps",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("staff.apps",{url:"/applications",component:"staffApps"}).state("staff.application",{url:"/application/:app_id/",component:"applicationView"})}]).component("staffApps",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(618),o=n(a),i=t(619),r=n(i);t(620);var l={restrict:"E",bindings:{},template:o.default,
controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-wrap >\n\n<div flex  flex-offset-gt-md="10" flex-gt-md="80">\n\n<md-card >\n\n<div layout="row">\n<div>\n\n<md-toolbar class="md-table-toolbar md-default" ng-hide="$ctrl.selected.length">\n  <div class="md-toolbar-tools">\n    <span>Staff</span>\n\n\n\n\n\n <!--<md-menu>\n      <div aria-label="Open menu" ng-click="$mdOpenMenu($event)">\n      <span  ng-repeat="(key,item) in $ctrl.appStatuses" ng-show="$ctrl.display.status[key]"> {{item}}<br></span>\n      Status:\n      </div>\n      <md-menu-content >\n        <md-menu-item  ng-repeat="(key,item) in $ctrl.statuses">\n        <md-switch  ng-model="item.active"> {{item.text}}</md-switch>\n        </md-menu-item>\n      </md-menu-content>\n  </md-menu>-->\n\n\n  </div>\n</md-toolbar>\n</div>\n\n<span flex></span> \n\n<div  style="padding:20px">\n<div ng-repeat="(key,item) in $ctrl.statuses" ng-hide="key == 11 || key  == 10 ">\n\n  <a  style="margin:0; cursor:pointer " ng-click="item.active = !item.active "  > {{item.active? \'hide\':\'show\' }} {{item.text}} </a>\n\n</div>\n</div>\n</div>\n\n<md-toolbar class="md-table-toolbar md-default" ng-show="$ctrl.selected.length" >\n \n  <div class="md-toolbar-tools" layout="row">\n    <div>{{$ctrl.selected.length}} staff{{$ctrl.selected.length > 1 ? \'s\':\'\'}}  selected</div>\n    \n\n\n\n  </div>\n</md-toolbar>\n<!--{{$ctrl.apps}}-->\n  <md-table-container>\n  <table md-table md-row-select multiple ng-model="$ctrl.selected"  md-progress="$ctrl.loading_promise">\n    <thead md-head md-order="$ctrl.query.order">\n       <tr md-row>\n      <!-- when the user clicks this cell, the myOrder variable will get the value \'nameToLower\' -->\n      <th md-column md-order-by="user.first_name">First Name</th>\n      <th md-column md-order-by="user.last_name">Last</th>\n      <!-- the variable myOrder will not be changed when this cell is clicked -->\n      <th md-column md-order-by="meta.status">Status</th>\n       </tr>\n    </thead>\n\n    <tbody md-body>\n      <!-- we can let ng-repeat sort the columns for us -->\n      <tr  md-row md-select="app" md-select-id="app.id" ng-repeat="app in $ctrl.apps | orderBy: $ctrl.query.order | filter:$ctrl.filterList "\n          ui-sref="staff.application({app_id: app.id})" style="cursor:pointer">\n        <td md-cell>{{app.user.first_name}} </td> \n        <td md-cell>{{app.user.last_name}}</td> \n\n        <td md-cell> <app-status data="app" date="true"></app-status></td>\n \n      </tr>\n    </tbody>\n  </table>\n</md-table-container>\n\n\n</md-card>\n\n\n</div>\n</div>\n\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseArray","$timeout","$filter","$firebaseObject",function e(t,n,a,i,r){function l(e){var t=u.apps[e].id;firebase.database().ref("/applications").child(t).child("for").on("value",function(t){u.apps[e].for=t.val(),d(t.val().user_id,e)})}function s(e){var t=u.apps[e].id,n=firebase.database().ref("/applications").child(t).child("meta");u.apps[e].meta=r(n)}function d(e,t){var n=firebase.database().ref("/profiles/"+e+"/com");u.apps[t].user=r(n)}function c(e){var t=!1;return u.statuses[e.meta.status]&&u.statuses[e.meta.status].active&&(t=!0),t}(0,o.default)(this,e);var u=this;u.apps=[],u.selected=[],u.filterList=c,u.query={order:["meta.status","user.first_name"],limit:5,page:1};var f=!1,m=firebase.database().ref("/locations/"+t.location_id+"/staff_app_index");m.on("value",function(e){e.forEach(function(e){if(!f||e.val()>=13){var t={id:e.key},n=u.apps.push(t);n--,l(n),s(n)}})});firebase.database().ref("/applications");u.statuses={1:{text:"started"},8:{text:"cancelled"},10:{text:"submitted"},11:{text:"in review"},12:{text:"denied"},13:{text:"accepted"},30:{text:"arrived"},70:{text:"alumni"}},u.statuses[10].active=!0,u.statuses[11].active=!0,u.statuses[13].active=!0,u.statuses[30].active=!1,u.statuses[70].active=!1}];exports.default=i},function(e,exports,t){var n=t(621);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".staffApps{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(623),s=n(l),d=o.default.module("siteSettings",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("settings",{url:"/settings",component:"siteSettings"})}]).component("siteSettings",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(624),o=n(a),i=t(625),r=n(i);t(626);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n   \n      <md-nav-item  md-nav-sref="settings.permissions" name="settings.permissions">Permissions</md-nav-item>\n      <!--<md-nav-item  md-nav-sref="staff.alumni" name="staff.alumni">Alumni Staff</md-nav-item>\n      <md-nav-item  md-nav-sref="staff.apps" name="staff.apps">Staff Applications</md-nav-item>-->\n\n\n\n</md-nav-bar>\n\n\n<ui-view> \n\n\n\n<md-card flex="50">\n      <md-card-content>\nCurrent location: \n\n<md-select  ng-model="$ctrl.location_id" ng-change="$ctrl.changeLoc()">\n\n<md-option ng-repeat="loc in $ctrl.locations" value="{{loc.id}}"> {{loc.name}}</md-option>\n\n</md-select>\n      </md-card-content>\n\n<input  ng-model="$ctrl.location_id" ng-change="$ctrl.changeLoc()">\n\n</md-card>\n\n\n</ui-view>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray","Site","$timeout",function e(t,n,a){(0,o.default)(this,e);var i=this;i.location_id=n.location_id,i.changeLoc=function(){n.location_id=i.location_id};var r=firebase.database().ref("locations_public");i.locations=t(r)}];exports.default=i},function(e,exports,t){var n=t(627);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".siteSettings{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(629),s=n(l),d=o.default.module("base",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base",{url:"/base",component:"base"})}]).component("base",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(630),o=n(a),i=t(631),r=n(i);t(632);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<md-nav-bar md-selected-nav-item="$ctrl.current" nav-bar-aria-label="navigation links" class="no-print">\n   \n      <md-nav-item  md-nav-sref="base.info" name="base.info">Info</md-nav-item>\n      <md-nav-item  md-nav-sref="base.notices" name="base.notices">Notices</md-nav-item>\n      <md-nav-item  md-nav-sref="base.visaRequirements" name="base.visaRequirements">Visa Requirements</md-nav-item>\n      <md-nav-item  md-nav-sref="base.permissions" name="base.permissions">Permissions</md-nav-item>\n\n\n\n</md-nav-bar>\n\n\n<ui-view> loading....</ui-view>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$rootScope","$state",function e(t,n){(0,o.default)(this,e);var a=this;t.$on("$viewContentLoaded",function(){a.current=n.current.name})}];exports.default=i},function(e,exports,t){var n=t(633);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".base{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(635),s=n(l),d=o.default.module("baseInfo",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.info",{url:"/info",component:"baseInfo"})}]).directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){function o(){a.$setViewValue(t.html())}a.$render=function(){t.html(a.$viewValue||"")},t.bind("blur keyup change",function(){e.$apply(o)})}}}).component("baseInfo",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(636),o=n(a),i=t(637),r=n(i);t(638);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-align="center">\n<md-card flex-gt-sm="75">\n<md-card-content>\n  <h2>Base info</h2>\n <b>Staff Fee: {{$ctrl.info.currencySym}}<span contenteditable ng-model="$ctrl.info.staff_fee"></span> <br>\n Mission Builder Fee: {{$ctrl.info.currencySym}}{{$ctrl.info.mission_builder_fee}}</b> (if longer than 4 weeks)<br>\n <b>Short Term Staff Fee: {{$ctrl.info.currencySym}}{{$ctrl.info.short_term_staff_fee}}</b> (less than 3 months )\n</md-card-content>\n</md-card>\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseObject","Site","$scope",function e(t,n,a){(0,o.default)(this,e);var i=this,r=firebase.database().ref("locations_public").child(n.location_id);i.info=t(r),a.$watch(function(){return i.info.$value},function(e){i.info.$save()},!0)}];exports.default=i},function(e,exports,t){var n=t(639);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".baseInfo{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(641),s=n(l),d=o.default.module("baseNotices",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.notices",{url:"/notices",component:"baseNotices"})}]).component("baseNotices",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(642),o=n(a),i=t(643),r=n(i);t(644);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n\n\n<div layout="row" layout-align="center">\n\n<div  flex flex-gt-md="60">\n\n<md-card>\n  <md-card-content>\n<i class="fa fa-info fa-3x" aria-hidden="true"></i> Location specific notices..<br>\n Permission needed to change things here: <a ui-sref="base.permissions">"can_edit_location_notices"</a>\n<br>last update: <span am-time-ago="$ctrl.notices.lastSave" ></span> by: {{$ctrl.lastSaveUser.first_name}} {{$ctrl.lastSaveUser.last_name | limitTo:1}}.\n\n</md-card-content>\n</md-card>\n\n\n<md-card>\n  <md-card-content>\n    <span class="md-caption">(Displayed on application when nationality is selected)</span>\n<md-input-container class="md-block">\n  <label>\nNeed Invitation Letter (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.need_invitation" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nNeed Invitation Letter (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.need_invitation" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n\n</md-card-content>\n</md-card>\n\n<md-card>\n<md-card-content>\n<span class="md-caption">(Displayed on application when nationality is selected)</span>\n\n<md-input-container class="md-block">\n  <label>\nNeed Entry Visa (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.need_entry_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nNeed Entry Visa (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.need_entry_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n\n  </md-card-content>\n</md-card>\n\n\n<md-card>\n<md-card-content>\n<span class="md-caption">(Displayed on application when nationality is selected)</span>\n\n<md-input-container class="md-block">\n  <label>\nNeed Visa Extention (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.need_visa_extention" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nNeed Visa Extention (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.need_visa_extention" ng-change="$ctrl.save()" ></textarea>\n</md-input-container>\n\n  </md-card-content>\n</md-card>\n\n\n<md-card>\n<md-card-content>\n<span class="md-caption">(Displayed on application when nationality is selected)</span>\n\n<md-input-container class="md-block">\n  <label>\nCan Not Process Visa (EN)\n  </label>\n<textarea ng-model="$ctrl.notices.EN.can_not_process_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n<md-input-container class="md-block">\n  <label>\nCan Not Process Visa (DE)\n  </label>\n<textarea ng-model="$ctrl.notices.DE.can_not_process_visa" ng-change="$ctrl.save()"></textarea>\n</md-input-container>\n\n  </md-card-content>\n</md-card>\n\n</div>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$firebaseObject","$scope","$timeout","Auth",function e(t,n,a,i,r){(0,o.default)(this,e);var l=this,s=firebase.database().ref("locations_public").child(t.location_id).child("notices");l.notices=n(s),s.on("value",function(e){var t=firebase.database().ref("profiles").child(e.val().lastSaveBy).child("com");l.lastSaveUser=n(t)}),l.save=function(){l.notices.$save().then(function(){s.child("lastSave").set(firebase.database.ServerValue.TIMESTAMP),s.child("lastSaveBy").set(r.$getAuth().uid)}).catch(function(e){})}}];exports.default=i},function(e,exports,t){var n=t(645);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".baseNotices{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(647),s=n(l),d=o.default.module("basePermissions",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.permissions",{url:"/permissions",component:"basePermissions"})}]).component("basePermissions",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(648),o=n(a),i=t(649),r=n(i);t(650);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n<div layout="row" layout-align="center"> \n\n<md-card flex="75">\n<md-card-content>\n<div ng-repeat="(key,item) in $ctrl.perms">\n  <b>{{key}} :</b> \n  \n  <div ng-repeat="user in item">{{user.first_name}}  </div>\n\n</div>\n</md-card-content>\n<md-card>\n\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$timeout",function e(t,n){(0,o.default)(this,e);var a=this;a.perms={};var i=firebase.database().ref("locations/"+t.location_id+"/perms");i.on("child_added",function(e){a.perms[e.key]={},angular.forEach(e.val(),function(t,o){var i=o;console.log("UserID: ",i),firebase.database().ref("/profiles/"+i+"/com").on("value",function(t){null!=t.val()&&n(function(){var n=t.val();n.id=t.key,a.perms[e.key][i]=n})},function(e){console.error(e)})})},function(e){console.error(e)})}];exports.default=i},function(e,exports,t){var n=t(651);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".basePermissions{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(653),s=n(l),d=o.default.module("baseVisaRequirements",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("base.visaRequirements",{url:"/visaRequirements",component:"baseVisaRequirements"})}]).component("baseVisaRequirements",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(654),o=n(a),i=t(655),r=n(i);t(656);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-align="center">\n\n<div  flex flex-gt-md="75">\n<md-card>\n  <md-card-content>\n     Permission needed to change things here: <a ui-sref="base.permissions">"can_edit_location_visa_requirements"</a>\n\n   <div layout="row"> \n   <div flex> Nations:</div>\n   <div flex> need_invitation</div>\n   <div flex> need_entry_visa</div>\n   <div flex> need_visa_extention</div>\n   <div flex> can_not_process_visa</div>\n\n</div>\n<div ng-repeat="item in $ctrl.nations_index"  class="row-hover" >\n\n<div  layout="row" >\n<div flex>{{item.$value}} </div>\n<div flex><md-checkbox ng-model="nations[item.$id].need_invitation"  aria-label="need_invitation"></md-checkbox>  </div>\n<div flex><md-checkbox ng-model="nations[item.$id].need_entry_visa"  aria-label="need_entry_visa"></md-checkbox>  </div>\n<div flex><md-checkbox ng-model="nations[item.$id].need_visa_extention"  aria-label="need_visa_extention"></md-checkbox>  </div>\n<div flex><md-checkbox ng-model="nations[item.$id].can_not_process_visa"  aria-label="can_not_process_visa"></md-checkbox>  </div>\n\n</div>\n\n</div>\n  </md-card-content>\n</md-card>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$firebaseArray","$firebaseObject","Site","$scope",function e(t,n,a,i){(0,o.default)(this,e);var r=this,l=firebase.database().ref("/phrases/nations/en"),s=firebase.database().ref("/locations_public").child(a.location_id).child("nations");n(s).$bindTo(i,"nations"),r.nations_index=t(l)}];exports.default=i},function(e,exports,t){var n=t(657);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".row-hover:hover{background-color:#f5f5f5}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(659),s=n(l),d=o.default.module("search",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("search",{url:"/search",component:"search"})}]).component("search",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(660),o=n(a),i=t(661),r=n(i);t(662);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n<div layout="row" layout-align="center">\n<md-card  flex-gt-md="60" flex>\n\n<md-card-content>\n<md-input-container>\n<label>Search</label>\n<input ng-model="$ctrl.site.searchString" ng-change="$ctrl.goSearch()">\n</md-input-container>\n\n <md-list>   \n <md-list-item ng-repeat="item in $ctrl.results.hits.hits"  > \n\n\n <div flex="50" ui-sref="profile({user_id:item._id})" style="cursor:pointer">\n <img height="35px" ng-src="{{item._source.avatar_200}}" > \n\n{{item._source.first_name}} {{item._source.last_name}}\n</div>\n<div flex="50">\n<div ng-repeat="app in item.applications | orderBy:\'type_text\'" ><a href="{{API_URL}}/applications/view/{{app.id}}" > {{app.type_text}}</a></div>\n</div>\n<md-divider flex="100"></md-divider>\n  </md-list-item>\n</md-list>\n<md-progress-circular ng-if="$ctrl.data.searching && $ctrl.data.searchString.length>0 " md-mode="indeterminate"  ></md-progress-circular>\n\n</md-card-content>\n\n\n</md-card>\n</div>'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Site","$timeout","$firebaseObject",function e(t,n,a){function i(){r.results={},console.log(t.searchString);var e=l.child("request").push({index:"users",type:"A",query:t.searchString});l.child("response/"+e.key).on("value",function e(t){null!==t.val()&&(t.ref.off("value",e),t.ref.remove(),n(function(){r.results=t.val()},500),console.log(t.val()))})}(0,o.default)(this,e);var r=this;r.site=t,r.goSearch=i;var l=firebase.database().ref("search")}];exports.default=i},function(e,exports,t){var n=t(663);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".search{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(665),s=n(l),d=o.default.module("profile",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("profile",{url:"/profile/:user_id",component:"profile"})}]).component("profile",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(666),o=n(a),i=t(667),r=n(i);t(668);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-align="center">\n  \n\n<md-card  flex="100" flex-gt-md="70">\n<md-card-content>\n\n<div  layout="row" >  \n<div flex>\n\n<h1 class="md-display-1">{{$ctrl.profile.com.first_name}} {{$ctrl.profile.com.last_name}}<br>\n<small class="md-subhead">{{$ctrl.profile.passport.first_name | uppercase}} {{$ctrl.profile.passport.middle_name | uppercase}} {{$ctrl.profile.passport.last_name | uppercase}}\n</small>\n</h1>\n\n\n{{$ctrl.profile.com.nationality}}<br>\n {{$ctrl.profile.com.gender}} {{$ctrl.calculateAge($ctrl.profile.com.dob)}} <span style=" text-transform: capitalize;">{{$ctrl.profile.com.marital_status}}<span><br>\n{{$ctrl.profile.com.dob | date}}  <br>\n<div ng-repeat="lang in $ctrl.languages">{{lang.text}}\n  <span style="color:gray">\n  <span ng-if="lang.text !=\'English\'" > ({{lang.en_text}}) </span>\n  {{lang.prof}}% </span>\n     </div>\n\n\n\n<br>\n<md-divider></md-divider>\n</div>\n\n<div flex >\n<div style="float:right; text-align:center; max-height:300px;   max-width:300px;">\n<img style="width:100%" align="right" ng-src="{{$ctrl.profile.com.avatar_1080}}" ><br>\n\n<a href="" class="no-print"\n ui-sref="userPhotoUpload({user_id:$ctrl.profile.$id })">change photo</a>\n</div>\n</div>\n\n</div>\n\n<div>\n\n  <br>\n<div layout="row" layout-xs="column" >\n<div flex>\n<b>Contact:</b> <br>\nEmail: {{$ctrl.profile.com.email}}<br>\nSkype: {{$ctrl.profile.com.skype}}<br>\nHome Phone: {{$ctrl.profile.com.home_phone}}<br>\nMobile: {{$ctrl.profile.com.mobile_phone}}<br>\n\nAddress: {{$ctrl.profile.com.postal.address}}<br>\nCity: {{$ctrl.profile.com.postal.city}}<br>\nState: {{$ctrl.profile.com.postal.state}}<br>\nZip: {{$ctrl.profile.com.postal.zip}}<br>\nNation: {{$ctrl.profile.com.postal.nation_id}}\n\n</div>\n<div flex style="background-color: rgba(255,0,0,0.1)">\n<b>Emergency Contact:</b><br>\n{{$ctrl.profile.com.emergency_contact.name}} ({{$ctrl.profile.com.emergency_contact.relation}})<br>\nEmail: {{$ctrl.profile.com.emergency_contact.email}}<br>\nSkype: {{$ctrl.profile.com.emergency_contact.skype}}<br>\nPhone: {{$ctrl.profile.com.emergency_contact.phone}}<br>\nPhone2: {{$ctrl.profile.com.emergency_contact.phone2}}<br>\n\n\nAddress: {{$ctrl.profile.com.emergency_contact.address}}<br>\nCity: {{$ctrl.profile.com.emergency_contact.city}}<br>\nState: {{$ctrl.profile.com.emergency_contact.state}}<br>\nZip: {{$ctrl.profile.com.emergency_contact.zip}}<br>\nNation: {{$ctrl.profile.com.emergency_contact.nation_id}}\n \n</div>\n</div>\n<div> \nApplications:\n<div ng-repeat="(key,app) in $ctrl.profile.app_index" >\n  <div ng-if="app.for.school_id" ui-sref="school.application({school_id: app.for.school_id, app_id:key})">\n    School : {{app.for.school_id}} status: {{app.status}}\n</div>\n<div ng-if="app.for.staff_location_id" ui-sref="staff.application({app_id:key})">\n    Staff @ : {{app.for.staff_location_id}} status: {{app.status}}\n</div>\n\n </div>\n\n</div>\n\n\n\n</md-card-content>\n</md-card>\n\n\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject",function e(t,n){(0,o.default)(this,e);var a=this,i=t.user_id,r=firebase.database().ref("profiles/"+i);a.profile=n(r)}];exports.default=i},function(e,exports,t){var n=t(669);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".profile{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(671),s=n(l);t(676);var d=o.default.module("applicationView",[r.default,"duScroll"]).component("applicationView",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(672),o=n(a),i=t(673),r=n(i);t(674);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout="row" layout-wrap style=" height: 100%;">\n<div flex-gt-md="15"  class="no-print"  >\n\n<div  du-scroll-container="scroll-container-1" du-spy-context class="page-index " style="position:fixed; padding:15px; "  hide-xs hide-sm hide-md >\n\n<!--<a ui-sref="school.studentList({schoolId: $ctrl.app.school_id})">< back </a><br>-->\n<br>\n<a du-smooth-scroll="top" du-scrollspy  offset="50"  >Top </a><br>\n<a du-smooth-scroll="adminNote" du-scrollspy  offset="50"  >Admin Notes </a><br>\n<!--<a du-smooth-scroll="transport"  du-smooth-scroll du-scrollspy  offset="50" >Travel Info </a><br>-->\n<!--<a du-smooth-scroll="visa"  du-smooth-scroll du-scrollspy  offset="50" >Visa </a><br>-->\n<a du-smooth-scroll="contact"  du-smooth-scroll du-scrollspy  offset="50" >Contact </a><br>\n<a du-smooth-scroll="questions" du-smooth-scroll du-scrollspy  offset="50" >Questions </a><br>\n<a du-smooth-scroll="reference1"  du-smooth-scroll du-scrollspy  offset="50" >Reference 1 </a><br>\n<a du-smooth-scroll="reference2"  du-smooth-scroll du-scrollspy  offset="50" >Reference 2 </a><br>\n\n</div>\n</div>\n\n<div flex="100" flex-gt-md="70" style=" height: 100%;" >\n\n<section id="top">\n<!-- <md-subheader  flex-offset-gt-md="15" flex-gt-md="70">Top</md-subheader> -->\n<md-card>\n<md-card-content layout="row">\n<div flex>\n\n<h1 class="md-display-1">{{$ctrl.user.com.first_name}} {{$ctrl.user.com.last_name}}<br>\n<small class="md-subhead">{{$ctrl.user.passport.first_name | uppercase}} {{$ctrl.user.passport.middle_name | uppercase}} {{$ctrl.user.passport.last_name | uppercase}}\n</small>\n</h1>\n\n\n{{$ctrl.user.com.nationality}}<br>\n {{$ctrl.user.com.gender}} {{$ctrl.calculateAge($ctrl.user.com.dob)}} <span style=" text-transform: capitalize;">{{$ctrl.user.com.marital_status}}<span><br>\n{{$ctrl.user.com.dob | date}}  <br>\n<div ng-repeat="lang in $ctrl.languages">{{lang.text}}\n  <span style="color:gray">\n  <span ng-if="lang.text !=\'English\'" > ({{lang.en_text}}) </span>\n  {{lang.prof}}% </span>\n     </div>\n\n\n\n<br>\n<md-divider></md-divider>\n<app-status data="$ctrl.app" date="true"></app-status>\n<ref-status data="ref"  ng-repeat="ref in $ctrl.references"></ref-status><br>\n\nvisa status<br>\n<md-checkbox >PostCard Sent(not working yet)</md-checkbox>\n\n\n</div>\n<div flex >\n<div style="float:right; text-align:center; max-height:300px;   max-width:300px;">\n<img style="width:100%" align="right" ng-src="{{$ctrl.user.com.avatar_1080}}" ><br>\n<a href="" class="no-print"\n ui-sref="app.user.com.profile.change_photo({userId:$ctrl.user.com.id})">change photo</a>\n</div>\n</div>\n\n</md-card-content>\n</md-card>\n\n</section>\n\n\n<!--Admin Notes Section-->\n<md-card id="adminNote">\n<md-card-content>\n\n\n<div ng-repeat="(key,note) in $ctrl.app.admin_notes " > \n<div  style="color:grey; float:right; " >- {{note.user_id}} {{note.Author.last_name|limitTo:1}}. [<span am-time-ago="note.time" ></span>]  \n<i class="fa fa-times no-print" ng-click="$ctrl.deleteAdminNote(key)"></i>  </div>  \n{{note.text}} \n\n<md-divider> </md-divider>\n</div>\n<form ng-submit="$ctrl.addAdminNote()" layout="row" class="no-print">\n<md-input-container md-no-float flex class="no-md-error" style="margin:0px">\n<input  ng-model="$ctrl.new_admin_note" placeholder="New admin note..." autocomplete="off">\n</md-input-container>\n<md-button  class="md-primary " style=" padding:0px" type="submit">add</md-button>\n</form>\n</md-card-content>\n</md-card>\n<!--End of Admin Notes Section-->\n\n<!--\n<section id="transport">\n<md-card>\n<md-card-content class="in_dev">\n<h4 class="md-title" > Travel Info</h4>\n\n<md-button aria-label="Add Travel" class="pull-right md-fab md-mini" \n    ng-click="$ctrl.travelEditDialog({user_id: $ctrl.user.com.id})"\n\n><i class="fa-plus fa"></i> </md-button>\n\n<div ng-repeat="t in $ctrl.transports" layout="row" align="space-between center">\n<div flex="25" class="md-headline" style="text-align:right; padding:20px;">{{t.type == \'arr\'?\'Arrival\':\'Departure\'}}  </div>\t\n\n<div flex><b>{{t.station_name}}</b><br>\n{{t.time.format("MMM DD  h:mmA") }}<br>\nride requested: {{t.ride_requested}}<br>\nflight: {{t.flight_num}}<br>\nnotes: {{t.user_note}} <br>\n{{t.staff_note}}\n\n</div>\n\n</div>\n</md-card-content>\n</md-card>\n</section>-->\n<!--\n<section id="visa">\n<md-card>\n<md-card-content class="in_dev">\n<h4 class="md-title" > Visa Info</h4>\n\n{{$ctrl.visas|json}}\n\n</md-card-content>\n</md-card>\n</section>-->\n\n<!--<md-card>\n<md-card-content class="in_dev">\n\n\nInvoices and base account statement. \n\n</md-card-content>\n</md-card>-->\n\n\n<md-card>\n<md-card-content>\n<section id="contact">\n<div layout="row" layout-xs="column" >\n<div flex>\n<b>Contact:</b> <br>\nEmail: {{$ctrl.user.com.email}}<br>\nSkype: {{$ctrl.user.com.skype}}<br>\nHome Phone: {{$ctrl.user.com.home_phone}}<br>\nMobile: {{$ctrl.user.com.mobile_phone}}<br>\n\nAddress: {{$ctrl.user.com.postal.address}}<br>\nCity: {{$ctrl.user.com.postal.city}}<br>\nState: {{$ctrl.user.com.postal.state}}<br>\nZip: {{$ctrl.user.com.postal.zip}}<br>\nNation: {{$ctrl.user.com.postal.nation_id}}\n\n</div>\n<div flex style="background-color: rgba(255,0,0,0.1)">\n<b>Emergency Contact:</b><br>\n{{$ctrl.user.com.emergency_contact.name}} ({{$ctrl.user.com.emergency_contact.relation}})<br>\nEmail: {{$ctrl.user.com.emergency_contact.email}}<br>\nSkype: {{$ctrl.user.com.emergency_contact.skype}}<br>\nPhone: {{$ctrl.user.com.emergency_contact.phone}}<br>\nPhone2: {{$ctrl.user.com.emergency_contact.phone2}}<br>\n\n\nAddress: {{$ctrl.user.com.emergency_contact.address}}<br>\nCity: {{$ctrl.user.com.emergency_contact.city}}<br>\nState: {{$ctrl.user.com.emergency_contact.state}}<br>\nZip: {{$ctrl.user.com.emergency_contact.zip}}<br>\nNation: {{$ctrl.user.com.emergency_contact.nation_id}}\n \n</div>\n</section>\n</md-card-content>\n</md-card>\n\n<section id="questions">\n<md-card>\n<md-card-content class="in_dev">\n<h4 class="md-subhead" >\nWhy do you want to attend </h4>\n<span class="md-body-1">{{$ctrl.app.why_school}}</span>\n\n<h4 class="md-title">\nHow would you describe your relationship with your family? \nDo they support you in your desire to come to YWAM?</h4>\n<span class="md-body-1">{{$ctrl.app.family}}</span>\n\n\n</md-card-content>\n</md-card>\n</section>\n\n\n\n<section id="reference{{r.ref_num}}" ng-repeat="r in $ctrl.references" >\n<md-card class="in_dev">\n\n  <md-toolbar class="md-menu-toolbar">\n    <div layout="row">\n      <md-toolbar-filler layout layout-align="center center">\n        <md-icon class="fa fa-comment"></md-icon>\n      </md-toolbar-filler>\n      <div>\n        <h2 class="md-toolbar-tools">Reference {{r.ref_num}}</h2>\n        <md-menu-bar>\n          \n          <md-menu>\n            <button ng-click="$mdOpenMenu()">\n              Edit\n            </button>\n            <md-menu-content>\n              <md-menu-item class="md-indent">\n                <md-button ng-click="ctrl.sampleAction(\'Find and replace\', $event)">\n                  Find and replace...\n                  <!-- <span class="md-alt-text">{{ \'M-S-H\' | keyboardShortcut }}</span> -->\n                </md-button>\n              </md-menu-item>\n            </md-menu-content>\n          </md-menu>\n         \n        </md-menu-bar>\n      </div>\n    </div>\n  </md-toolbar>\n\n\n\n<md-card-content>\n<h4 class="md-title">\nHow well does reference know Applicant?:</h4>\n<span class="md-body-1">{{r.how_well}}</span>\n\n<h4 class="md-title">\nHow would you describe your relationship with your family? \nDo they support you in your desire to come to YWAM?</h4>\n<span class="md-body-1">{{app.app.family}}</span>\n\n\n</md-card-content>\n</md-card>\n</section>\n\n<md-card>\n<div ng-repeat="item in $ctrl.history">\n  \n  {{item}}\n  </div>  \n  \n  \n</md-card>\n\n<div class="no-print">\n<pre> Application:\n{{$ctrl.app |json}}\n </pre>\n\n<pre> User:\n{{$ctrl.user |json}}\n </pre>\n</div>\n\n</div>\n</div>\n\n\n';
},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["$stateParams","$firebaseObject","$timeout","$document","Auth",function e(t,n,a,i,r){function l(e){var t=Date.now()-new Date(e).getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}function s(){var e=r.$getAuth().uid,t={text:c.new_admin_note,time:firebase.database.ServerValue.TIMESTAMP,user_id:e};f.child("admin_notes").push(t);c.new_admin_note=""}function d(e){console.log(e),f.child("admin_notes").child(e).remove()}(0,o.default)(this,e);var c=this;c.calculateAge=l,c.addAdminNote=s,c.deleteAdminNote=d,c.languages={};var u=t.app_id,f=firebase.database().ref("applications").child(u);c.app=n(f),f.on("value",function(e){var t=e.val().for.user_id,o=firebase.database().ref("profiles").child(t);c.user=n(o),o.child("com/languages").on("child_added",function(e){console.log(e.key);var t=e.key,n=firebase.database().ref("languages").child(t);n.on("value",function(e){console.log(e.val()),c.languages[e.key]=e.val(),c.languages[e.key].prof=c.user.com.languages[e.key],a(function(){})})}),o.child("passport/nation_id").on("value",function(e){var t=firebase.database().ref("/phrases/nations/en/").child(e.val());t.on("value",function(e){c.user.com.nationality=e.val(),console.log(e.val())})})})}];exports.default=i},function(e,exports,t){var n=t(675);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".in_dev{border:1px solid red}.in_dev:before{color:red;content:'Section in development / (may not be fully working) '}.page-index a{cursor:pointer;width:100%}.page-index a:hover{color:#106cc8;text-decoration:underline}.page-index a.active{font-weight:700}",""])},,,function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(679),s=n(l),d=o.default.module("forgotPassword",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("forgotPassword",{url:"/forgot_password",component:"forgotPassword"})}]).component("forgotPassword",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(680),o=n(a),i=t(681),r=n(i);t(682);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='<div layout layout-align="center center">\n  <md-card>\n    <md-card-content>\n      Reset Password with link sent to email\n      <br>\n      <form ng-submit="$ctrl.send()">\n      <md-input-container>\n        <label>Email</label>\n    <input ng-model="$ctrl.email">\n      </md-input-container>\n    <md-button type="submit">Send</md-button>\n      </form>\n\n    {{$ctrl.message}}\n    <md-card-content>\n  </md-card>\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=["Auth",function e(t){(0,o.default)(this,e);var n=this;n.send=function(){var e=n.email;t.$sendPasswordResetEmail(e).then(function(e){console.log(e),n.message="Please check your email"},function(e){console.log(e)})}}];exports.default=i},function(e,exports,t){var n=t(683);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".forgotPassword{color:red}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(312),o=n(a),i=t(314),r=n(i),l=t(685),s=n(l),d=o.default.module("prayerWall",[r.default]).config(["$stateProvider",function(e){"ngInject";e.state("prayer",{url:"/prayer",component:"prayerWall",resolve:{currentAuth:["Auth",function(e){return e.$waitForSignIn()}]}})}]).component("prayerWall",s.default).name;exports.default=d},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(686),o=n(a),i=t(687),r=n(i);t(695);var l={restrict:"E",bindings:{},template:o.default,controller:r.default};exports.default=l},function(e,exports){e.exports='\n\n\n<!-- Jesus thank you for the ability to communicate. I pray that this news_item window can be a platform on which the whole staff body can be united. \n\tI pray that this will be a source of insperation, and encouragement. Holy Spirit may you release words of life through this window. I pray that such joy and love will be seen here. \n\tFather may this serve as a way to keep us all on the same page. Thank you for the way this site has progressed over the years, may this be something useful, in Jesus name. Amen!\t -->\n\t\n<!-- \t<div style="display:inline-block; width: 30%; margin-left: 150px"  >\n\tCurrent Topic: \n\t<form  ng-submit="changeTopic()">\n\t<input  class="form-control" type="text" ng-model="topic.topic"   /></form>\n\tSet by {{topic.user_name}} on {{topic.modifed | date }}\n\t\n\t</div> -->\n\t \t\n\n \n <div class="grid prayerWall"  >\n\n  \n  <div class="grid-item"  \n   style="margin: 1.5em 1em; font-family: \'Asap\', sans-serif; font-style: italic; color:rgba(0,0,0,0.9);  " \n\n    ng-class="{\'sticky-note-small\': !$ctrl.new_prayer || $ctrl.new_prayer.length < 75,\n  \t\t\t\t  \'sticky-note\': $ctrl.new_prayer.length > 74 && $ctrl.new_prayer.length < 330,\n  \t\t\t\t  \'small-paper\': $ctrl.new_prayer.length > 330 \n  \t\t\t\t  \n  \t\t\t\t   }"   >\n\t\t\n\t\t<md-input-container>\n\t\t<textarea style="line-height:initial;" ng-model="$ctrl.new_prayer"> </textarea>\n\t\t</md-input-container>\n\t\t\n\t\t<md-button style="position:absolute; bottom:0px;  font-style: normal;" ng-click="$ctrl.postPrayer()">Post New</md-button>\n\t\t\n\t\n\t\n  </div>\n\n\n<!--on-finish-render="ngRepeatFinished"-->\n  <div class="grid-item" ng-repeat="prayer in $ctrl.prayers | orderBy:\'-date\'" \n   style="margin: 1.5em 1em; font-family: \'Asap\', sans-serif; font-style: italic; color:rgba(0,0,0,0.9);  " \n\n    ng-class="{\'sticky-note-small\': prayer.text.length <= 90,\n  \t\t\t\t  \'sticky-note\': prayer.text.length > 90 && prayer.text.length <= 350,\n  \t\t\t\t  \'small-paper\': prayer.text.length > 350 && prayer.text.length <= 640,\n  \t\t\t\t  \'big-paper\':prayer.text.length > 640,\n  \t\t\t\t  \'tilt\':prayer.text.length < 330 }"   >\n\t\t\n\t\t{{prayer.text}}\n\t\t<!--{{prayer.text.length}}-->\n\t\t\n\n\t\t<a ng-click="$ctrl.amen(prayer)" style="cursor:pointer">  Amen {{prayer.amen_count > 0? \'x \'+ prayer.amen_count:\'\'}} </a>\n\n\t\t<span class="note-signature">\n\t\t\t\n         <div style="margin-left: 5px">  \n\t\t{{prayer.user.first_name}} {{prayer.user.last_name}}\n\t\t</div>  \n\t\t</span>\n\t\t<span class="note-info">\n\t\t\t \n\t\t\t\t{{prayer.date | date :\'shortDate\'}}\n\t\t\t\t\n\t\t\t    <span ng-show="prayer.user_id == $ctrl.user_id" \n\t\t\t\t\t  ng-click="$ctrl.deletePrayer(prayer)"\n\t\t\t\t\t  style="cursor:pointer;">\t\n\t\t\t\t<i class="fa fa-trash"></i>\n\t\t\t\t</span>\n\t\t\t    \n\t\t\t    \n\t\t</span>\n\t\t\n\t\n\t\n  </div>\t\n\n\n</div>\n'},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(328),o=n(a),i=t(688),r=n(i),l=["$firebaseArray","$timeout","Site","$firebaseObject",function e(t,n,a,i){function l(){var e={};e.text=u.new_prayer,e.user_id=u.user_id,e.date=firebase.database.ServerValue.TIMESTAMP,f.push(e),u.new_prayer=""}function s(e){e.amen_count++,f.child(e.id).child("amens").child(u.user_id).set(!0)}function d(e){var t=u.prayers.indexOf(e);u.prayers.splice(t,1),f.child(e.id).remove()}function c(){var e=document.querySelector(".grid");new r.default(e,{transitionDuration:"0.8s",itemSelector:".grid-item",columnWidth:30});console.log("ran masson")}(0,o.default)(this,e);var u=this;u.prayers=[];var f=firebase.database().ref("prayers");f.on("child_added",function(e){var t=e.val();t.id=e.key,t.user={},t.amen_count=e.child("amens").numChildren();var n=u.prayers.push(t);n-=1;var a=firebase.database().ref("/profiles/"+t.user_id+"/com");u.prayers[n].user=i(a)}),f.on("value",function(e){n(c,500)}),u.postPrayer=l,u.deletePrayer=d,u.amen=s,u.user_id=a.user.id}];exports.default=l},,,,,,,,function(e,exports,t){var n=t(696);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".sticky-note-small{height:7.5em;width:10.5em;padding:.5em!important}.sticky-note,.sticky-note-small{text-decoration:none;color:#000;background:#ffc;display:block;box-shadow:3px 3px 7px rgba(33,33,33,.5);position:relative}.sticky-note{height:17em;width:17em;padding:1em!important}.sticky-note:nth-child(7n){background:#cfc}.sticky-note:nth-child(9n){background:#ccf}.sticky-note:nth-child(8n){background:#fcc}.small-paper{max-width:36em;min-height:5em}.big-paper,.small-paper{text-decoration:none;color:#000;background:#fff;display:block;padding:2em!important;box-shadow:4px 4px 7px rgba(33,33,33,.5);position:relative}.big-paper{max-width:56em}.note-info{right:3px;text-align:right}.note-info,.note-signature{color:gray;font-size:90%;position:absolute;bottom:3px}.note-signature{left:3px}.tilt:nth-child(even){-webkit-transform:rotate(3deg);position:relative;top:5px}.tilt:nth-child(2n){-webkit-transform:rotate(-2deg);position:relative;top:-10px}.tilt:nth-child(3n){-webkit-transform:rotate(-4deg);position:relative;top:-5px}.tilt:nth-child(4n){-webkit-transform:rotate(5deg);position:relative;top:-10px}.small-photo-circle{width:30px;height:30px;overflow:hidden;border-radius:30px;box-shadow:0 2px 2px rgba(0,0,0,.075);display:inline-block;position:absolute;bottom:0;margin:0!important}",""])},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(698),o=n(a);t(699);var i={template:o.default,restrict:"E"};exports.default=i},function(e,exports){e.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\n<div class="app" >\n \n <div layout="row" style="height:100%" >\n     <div style="height:100%; z-index:3 " md-whiteframe="4" class="no-print">\n    <sidenav ></sidenav>\n     </div>\n\n\n    <!--Main Content Area-->\n    <div layout="column" flex  style="height:100%; " >            \n      <header class="no-print"></header>\n        <md-content flex style="height:100%; overflow:scroll;"  id="scroll-container-1"> \n            <div ui-view ></div>\n        </md-content> \n   \n    </div>    \n </div>\n\n</div>\n'},function(e,exports,t){var n=t(700);"string"==typeof n&&(n=[[e.id,n,""]]);t(332)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(331)(),exports.push([e.id,".app{height:100%;background-color:$lightBgColor}",""])},,,,,,,,,,,,,function(e,exports){e.exports=[null,"Schools","German","Spanish"]},function(e,exports){e.exports={localhost:2,"staff.ywamsarasota.com":2,"staffapp-95f17.firebaseapp.com":4,"staff.ywamnuremberg.com":4,"staff.ywamherrnhut.com":1}}]);
//# sourceMappingURL=app.bundle.73ce3cf40545447d171c.js.map